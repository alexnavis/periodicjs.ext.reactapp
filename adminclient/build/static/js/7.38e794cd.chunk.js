(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1984:function(e,t,n){"use strict";var r=n(0),a=n(5),o=n.n(a),i=n(116),c=(n(1993),n(1)),s=n.n(c),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var u=function(e){var t=e.children,n=e.className,a=void 0===n?"":n,c=e.crawlerPosition,s=void 0===c?"center":c,u=e.crawlerSize,p=void 0===u?"default":u,d=e.isLoading,f=void 0!==d&&d,m=e.hideContent,h=void 0!==m&&m,b=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","className","crawlerPosition","crawlerSize","isLoading","hideContent"]),y=o()("loading-indicator-veil",{"is-with-top-crawler":"top"===s,"is-with-center-crawler":"center"===s},h?"hide-content":"blur-content");return r.createElement("div",l({className:"loading-indicator-wrapper "+a},b),t,f&&r.createElement("div",{className:y},r.createElement(i.b,{size:p})))};u.propTypes={children:s.a.node.isRequired,className:s.a.string,crawlerPosition:s.a.oneOfType([s.a.any,s.a.any]),crawlerSize:s.a.oneOf(["small","medium","large","default"]),isLoading:s.a.bool,hideContent:s.a.bool},t.a=u},1992:function(e,t,n){"use strict";var r=n(0),a=n(23),o=n(1),i=n.n(o),c=function(e){var t=e.className,n=void 0===t?"":t,o=e.color,i=void 0===o?"#999":o,c=e.height,s=void 0===c?14:c,l=e.title,u=e.width,p=void 0===u?14:u;return r.createElement(a.a,{className:"icon-edit "+n,title:l,width:p,height:s,viewBox:"0 0 14 14"},r.createElement("path",{className:"fill-color",fill:i,d:"M3.21 7.89l6.47-6.48a2 2 0 0 1 2.88 2.78h-.05L6 10.72 3.21 7.89zM2.24 9l2.83 2.83L1.67 13c-.52.18-.79-.1-.62-.61z"}))};c.propTypes={className:i.a.string,color:i.a.string,height:i.a.number,title:i.a.oneOfType([i.a.string,i.a.node]),width:i.a.number},t.a=c},1993:function(e,t,n){},2008:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e};"object"===typeof Reflect&&Reflect.construct;var l="undefined"!==typeof window&&"undefined"!==typeof document,u=!!l&&!!document.documentElement.currentStyle,p={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},d=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],f={},m=l&&document.createElement("textarea"),h=function(e){Object.keys(p).forEach(function(t){e.style.setProperty(t,p[t],"important")})};function b(e,t,n,r,a){void 0===n&&(n=!1),void 0===r&&(r=null),void 0===a&&(a=null),null===m.parentNode&&document.body.appendChild(m);var o=function(e,t,n){void 0===n&&(n=!1);if(n&&f[t])return f[t];var r=window.getComputedStyle(e);if(null===r)return null;var a=d.reduce(function(e,t){return e[t]=r.getPropertyValue(t),e},{}),o=a["box-sizing"];if(""===o)return null;u&&"border-box"===o&&(a.width=parseFloat(a.width)+parseFloat(r["border-right-width"])+parseFloat(r["border-left-width"])+parseFloat(r["padding-right"])+parseFloat(r["padding-left"])+"px");var i=parseFloat(a["padding-bottom"])+parseFloat(a["padding-top"]),c=parseFloat(a["border-bottom-width"])+parseFloat(a["border-top-width"]),s={sizingStyle:a,paddingSize:i,borderSize:c,boxSizing:o};n&&(f[t]=s);return s}(e,t,n);if(null===o)return null;var i=o.paddingSize,c=o.borderSize,s=o.boxSizing,l=o.sizingStyle;Object.keys(l).forEach(function(e){m.style[e]=l[e]}),h(m),m.value=e.value||e.placeholder||"x";var p=-1/0,b=1/0,y=m.scrollHeight;"border-box"===s?y+=c:"content-box"===s&&(y-=i),m.value="x";var g=m.scrollHeight-i;return null===r&&null===a||(null!==r&&(p=g*r,"border-box"===s&&(p=p+i+c),y=Math.max(p,y)),null!==a&&(b=g*a,"border-box"===s&&(b=b+i+c),y=Math.min(b,y))),{height:y,minHeight:p,maxHeight:b,rowCount:Math.floor(y/g)}}l&&h(m);var y,g=(void 0===y&&(y=0),function(){return++y}),v=function(){},E=l&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],w=E[0],S=E[1],C=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._resizeLock=!1,n._onRootDOMNode=function(e){n._rootDOMNode=e,n.props.inputRef(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e)},n._resizeComponent=function(e){if(void 0===e&&(e=v),"undefined"!==typeof n._rootDOMNode){var t=b(n._rootDOMNode,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null!==t){var r=t.height,a=t.minHeight,o=t.maxHeight,i=t.rowCount;n.rowCount=i,n.state.height===r&&n.state.minHeight===a&&n.state.maxHeight===o?e():n.setState({height:r,minHeight:a,maxHeight:o},e)}else e()}else e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=g(),n._controlled="string"===typeof t.value,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));return t.style=c({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),a.a.createElement("textarea",c({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},o.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent(function(){return e._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},o.componentDidUpdate=function(e,t){var n=this;e!==this.props&&(this._clearNextFrame(),this._onNextFrameActionId=w(function(){return n._resizeComponent()})),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},o.componentWillUnmount=function(){var e;this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),e=this._uid,delete f[e]},o._clearNextFrame=function(){S(this._onNextFrameActionId)},r}(a.a.Component);C.propTypes={inputRef:i.a.func,maxRows:i.a.number,minRows:i.a.number,onChange:i.a.func,onHeightChange:i.a.func,useCacheForDOMMeasurements:i.a.bool,value:i.a.string},C.defaultProps={inputRef:v,onChange:v,onHeightChange:v,useCacheForDOMMeasurements:!1},t.a=C},2229:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(29),i=n.n(o),c=n(30),s=n.n(c),l=n(241),u=n.n(l),p=n(116),d=n(226),f=n(275),m=n(17),h=n(678),b=n(276),y=n(394),g=(n(142),n(677)),v=n(119),E=n(3),w=n(21),S=n(50),C=n.n(S),O=n(331),k=n(1991),x=n(956),_=function(e){var t=e.card.status,n=void 0===t?{}:t,a=n.code,o=n.message,i=m.a.skillUnknownError;switch(a){case E.Kd:i=m.a.skillInvalidFileSizeError;break;case E.Jd:i=m.a.skillInvalidFileExtensionError;break;case E.Hd:case E.Gd:case E.Ld:case E.Md:i=m.a.skillUnknownError;break;case E.Id:i=m.a.skillFileProcessingError;break;case E.Rd:i=m.a.skillPendingStatus;break;case E.Qd:i=m.a.skillInvokedStatus;break;default:if(o)return o}return r.createElement(w.b,i)},T=n(5),N=n.n(T),P=n(84),j=n(1992),I=n(23),A=n(1),R=n.n(A),M=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#999":a,i=e.height,c=void 0===i?14:i,s=e.title,l=e.width,u=void 0===l?14:l;return r.createElement(I.a,{className:"icon-copy "+n,title:s,width:u,height:c,viewBox:"0 0 14 14"},r.createElement("path",{className:"fill-color",fill:o,d:"M1 11a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h9a1 1 0 0 1 0 2H2v8a1 1 0 0 1-1 1z"}),r.createElement("path",{className:"fill-color",fill:o,d:"M13 3H3v10a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-3 8H7a1 1 0 0 1 0-2h3a1 1 0 0 1 0 2zm0-3H7a1 1 0 0 1 0-2h3a1 1 0 0 1 0 2z"}))};M.propTypes={className:R.a.string,color:R.a.string,height:R.a.number,title:R.a.oneOfType([R.a.string,R.a.node]),width:R.a.number};var D=M,z=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#979797":a,i=e.height,c=void 0===i?13:i,s=e.title,l=e.width,u=void 0===l?13:l;return r.createElement(I.a,{className:"icon-expand "+n,title:s,width:u,height:c,viewBox:"0 0 13 13"},r.createElement("path",{className:"fill-color",fill:o,d:"M12 0H6a1 1 0 0 0 0 2h5v5a1 1 0 0 0 2 0V1a1 1 0 0 0-1-1zM7 11H2V6a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1h6a1 1 0 0 0 0-2z"}))};z.propTypes={className:R.a.string,color:R.a.string,height:R.a.number,title:R.a.oneOfType([R.a.string,R.a.node]),width:R.a.number};var L=z,F=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#979797":a,i=e.height,c=void 0===i?13:i,s=e.title,l=e.width,u=void 0===l?13:l;return r.createElement(I.a,{className:"icon-collapse "+n,title:s,width:u,height:c,viewBox:"0 0 13 13"},r.createElement("path",{className:"fill-color",fill:o,d:"M8 6h4a1 1 0 0 0 0-2H9V1a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1zM1 9h3v3a1 1 0 0 0 2 0V8a1 1 0 0 0-1-1H1a1 1 0 0 0 0 2z"}))};F.propTypes={className:R.a.string,color:R.a.string,height:R.a.number,title:R.a.oneOfType([R.a.string,R.a.node]),width:R.a.number};var H=F,V=n(506),B=n(1984),q=n(212),K=n(393);var W=function(e){return!!e&&"number"===typeof e.start},Y=function(e){return Array.isArray(e)&&W(e[0])},G=function(e){var t=e.time,n=e.text,a=void 0===n?"":n,o=e.onClick,i=e.interactionTarget;return r.createElement(P.a,{type:"button",className:"be-transcript-row","data-resin-target":i,onClick:o},t&&r.createElement("div",{className:"be-transcript-time"},t),r.createElement("div",{className:"be-transcript-text"},a))},U=n(2008),J=n(147),X=n(71),Q=function(e){var t=e.time,n=e.text,a=void 0===n?"":n,o=e.onSave,i=e.onCancel,c=e.onChange;return r.createElement("div",{className:"be-transcript-row be-transcript-editing-row"},t&&r.createElement("div",{className:"be-transcript-time"},t),r.createElement("div",{className:"be-transcript-text"},r.createElement(U.a,{maxRows:10,onChange:c,value:a}),r.createElement("div",{className:"be-transcript-buttons"},r.createElement(X.a,{type:"button",onClick:i,"data-resin-target":O.f.TRANSCRIPTS.EDIT_CANCEL},r.createElement(w.b,m.a.cancel)),r.createElement(J.a,{type:"button",onClick:o,"data-resin-target":O.f.TRANSCRIPTS.EDIT_SAVE},r.createElement(w.b,m.a.save)))))},Z=function(e){var t=e.appears,n=e.text,r=e.isEditing,o=e.onClick,i=e.onSave,c=e.onCancel,s=e.onChange,l=e.interactionTarget,u=t,p=Y(t)&&Array.isArray(t)&&1===t.length?Object(V.d)(u[0].start):void 0;return r?a.a.createElement(Q,{onSave:i,onCancel:c,onChange:s,time:p,text:n}):a.a.createElement(G,{interactionTarget:l,onClick:o,time:p,text:n})};function $(e){return($="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){oe(e,t,n[t])})}return e}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return a=this,o=(e=ne(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==$(o)&&"function"!==typeof o?ae(a):o,oe(ae(ae(n)),"state",{isEditingIndex:void 0,newTranscriptText:"",isCollapsed:!0,isLoading:!1}),oe(ae(ae(n)),"transcriptReducer",function(e,t){var n=t.appears,r=t.text,a=Y(n)&&Array.isArray(n)?"".concat(Object(V.d)(n[0].start),":"):"";return"".concat(e).concat(a," ").concat(r||"","\r\n")}),oe(ae(ae(n)),"transcriptMapper",function(e,t){var a=e.appears,o=e.text,i=n.state,c=i.isEditingIndex,s=i.newTranscriptText,l=c===t,u=l?s:o,p=l?O.f.TRANSCRIPTS.EDIT_TEXT:O.f.TRANSCRIPTS.TRANSCRIPT;return r.createElement(Z,{key:t,isEditing:l,appears:a,text:u,onClick:function(){return n.onClick(t)},onSave:n.onSave,onCancel:n.onCancel,onChange:n.onChange,interactionTarget:p})}),oe(ae(ae(n)),"toggleIsEditing",function(){n.setState(function(e){return{isEditingIndex:"number"===typeof e.isEditingIndex?void 0:-1}})}),oe(ae(ae(n)),"onSave",function(){var e=n.props,t=e.card.entries,r=e.onSkillChange,a=n.state,o=a.isEditingIndex,i=a.newTranscriptText;if("number"===typeof o){var c=t[o];c.text===i?n.onCancel():(n.setState({isLoading:!0,isEditingIndex:-1}),r(null,null,[{replacement:ee({},c,{text:i}),replaced:c}]))}}),oe(ae(ae(n)),"onCancel",function(){n.setState({isEditingIndex:-1,newTranscriptText:""})}),oe(ae(ae(n)),"onChange",function(e){var t=e.currentTarget;n.setState({newTranscriptText:t.value})}),oe(ae(ae(n)),"onClick",function(e){var t=n.props.card.entries;"number"===typeof n.state.isEditingIndex?n.setState({isEditingIndex:e,newTranscriptText:t[e].text}):n.previewSegment(e)}),oe(ae(ae(n)),"copyTranscript",function(){var e,t,r,a=n.props.card.entries;e=a.reduce(n.transcriptReducer,""),t=document.createElement("textarea"),r=document.body,t.value=e,t.style.display="hidden",r&&(r.appendChild(t),t.select(),document.execCommand("copy"),r.removeChild(t)),n.copyBtn&&n.copyBtn.classList.add("be-transcript-copied"),setTimeout(function(){n.copyBtn&&n.copyBtn.classList.remove("be-transcript-copied")},1e3)}),oe(ae(ae(n)),"copyBtnRef",function(e){n.copyBtn=e}),oe(ae(ae(n)),"toggleExpandCollapse",function(){n.setState(function(e){return{isCollapsed:!e.isCollapsed}})}),n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentWillReceiveProps",value:function(){var e="number"===typeof this.state.isEditingIndex;this.setState({isEditingIndex:e?-1:void 0,newTranscriptText:"",isLoading:!1})}},{key:"previewSegment",value:function(e){var t=this.props,n=t.card.entries,r=t.getViewer,a=n[e].appears,o=r?r():null,i=Y(a)&&Array.isArray(a)&&1===a.length,c=i?a[0].start:0;i&&o&&"function"===typeof o.play&&o.play(c)}},{key:"render",value:function(){var e=this.props,t=e.card.entries,n=e.isEditable,a=this.state,o=a.isEditingIndex,i=a.isCollapsed,c=a.isLoading,s=t.length>0,l=t.length>5,u="number"===typeof o,p=N()("be-transcript-edit",{"be-transcript-is-editing":u}),d=N()({"be-transcript-content-collapsed":i}),f=i?m.a.expand:m.a.collapse;return r.createElement(B.a,{isLoading:c,className:"be-transcript"},s&&!c&&r.createElement("div",{className:"be-transcript-actions"},r.createElement(q.b,{text:r.createElement(w.b,m.a.copy)},r.createElement(P.a,{type:"button",className:"be-transcript-copy",getDOMRef:this.copyBtnRef,onClick:this.copyTranscript,"data-resin-target":O.f.TRANSCRIPTS.COPY},r.createElement(D,{color:K.d}))),l&&r.createElement(q.b,{text:r.createElement(w.b,f)},r.createElement(P.a,{type:"button",className:"be-transcript-expand",onClick:this.toggleExpandCollapse,"data-resin-target":O.f.TRANSCRIPTS.EXPAND},i?r.createElement(L,{color:K.d}):r.createElement(H,{color:K.d}))),n&&r.createElement(q.b,{text:r.createElement(w.b,m.a.editLabel)},r.createElement(P.a,{type:"button",className:p,onClick:this.toggleIsEditing,"data-resin-target":O.f.TRANSCRIPTS.EDIT},r.createElement(j.a,null)))),u?r.createElement("div",{className:"be-transcript-edit-message"},r.createElement(w.b,m.a.transcriptEdit)):null,s?r.createElement("div",{className:d},t.map(this.transcriptMapper)):r.createElement(w.b,m.a.skillNoInfoFoundError))}}])&&te(n.prototype,a),o&&te(n,o),t}(),ce=n(1981),se=n(2058),le=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e,t){return{value:t,text:e.text}})};function ue(e){return(ue="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=de(t).call(this,e),n=!a||"object"!==ue(a)&&"function"!==typeof a?me(r):a,he(me(me(n)),"onRemove",function(e,t){var r=n.props;(0,r.onDelete)(r.keywords[t])}),he(me(me(n)),"onKeyDown",function(e){"Enter"!==e.key||n.state.isInCompositionMode||n.onBlur()}),he(me(me(n)),"onBlur",function(){var e=n.props.onAdd,t=n.state.keyword;t&&e({type:"text",text:t})}),he(me(me(n)),"onCompositionStart",function(){n.setState({isInCompositionMode:!0})}),he(me(me(n)),"onCompositionEnd",function(){n.setState({isInCompositionMode:!1})}),he(me(me(n)),"onInput",function(e){var t=e.currentTarget;n.setState({keyword:t.value})}),n.state={pills:le(e.keywords),keyword:"",isInCompositionMode:!1},n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentWillReceiveProps",value:function(e){this.setState({pills:le(e.keywords),keyword:""})}},{key:"render",value:function(){var e=this.props,t=e.onSave,n=e.onCancel,a=this.state,o=a.pills,i=a.keyword;return r.createElement("span",{className:"pill-selector-wrapper"},r.createElement(se.a,{onBlur:this.onBlur,onCompositionStart:this.onCompositionStart,onCompositionEnd:this.onCompositionEnd,onInput:this.onInput,onKeyDown:this.onKeyDown,onPaste:this.onInput,onRemove:this.onRemove,selectedOptions:o,value:i}),r.createElement("div",{className:"be-keywords-buttons"},r.createElement(X.a,{type:"button",onClick:n,"data-resin-target":O.f.KEYWORDS.EDIT_CANCEL},r.createElement(w.b,m.a.cancel)),r.createElement(J.a,{type:"button",onClick:t,"data-resin-target":O.f.KEYWORDS.EDIT_SAVE},r.createElement(w.b,m.a.save))))}}])&&pe(n.prototype,a),o&&pe(n,o),t}(),ye=n(44),ge=n.n(ye),ve=n(267),Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we=function(e){var t=e.options,n=e.onSelect,r=e.selectedOptions,o=void 0===r?[]:r,i=e.buttonProps,c=void 0===i?{}:i;return a.a.createElement("div",{className:"pill-cloud-container"},t&&t.map(function(e){return a.a.createElement(ve.a,Ee({className:N()("pill","pill-cloud-button",{"is-selected":o.find(function(t){return ge()(t,e)})}),key:e.value,onClick:n?function(){return n(e)}:void 0},c),e.text)}))};we.propTypes={options:R.a.arrayOf(R.a.shape({text:R.a.string.isRequired,value:R.a.oneOfType([R.a.number,R.a.string]).isRequired})).isRequired,onSelect:R.a.func,selectedOptions:R.a.arrayOf(R.a.shape({text:R.a.string.isRequired,value:R.a.oneOfType([R.a.number,R.a.string]).isRequired})),buttonProps:R.a.object};var Se=we,Ce=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#999":a,i=e.height,c=void 0===i?14:i,s=e.title,l=e.width,u=void 0===l?14:l;return r.createElement(I.a,{className:"icon-track-next "+n,title:s,width:u,height:c,viewBox:"0 0 14 14"},r.createElement("path",{className:"fill-color",fill:o,d:"M7.72 7.85a1 1 0 0 0 0-1.41l-5-4.81A1 1 0 0 0 2 1.35a1 1 0 0 0-1 1V12a1 1 0 0 0 .28.69 1 1 0 0 0 1.41 0l5-4.81zM13 2v10a1 1 0 0 1-1 1 1 1 0 0 1-1-1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1z"}))};Ce.propTypes={className:R.a.string,color:R.a.string,height:R.a.number,title:R.a.oneOfType([R.a.string,R.a.node]),width:R.a.number};var Oe=Ce,ke=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#999":a,i=e.height,c=void 0===i?14:i,s=e.title,l=e.width,u=void 0===l?14:l;return r.createElement(I.a,{className:"icon-track-previous "+n,title:s,width:u,height:c,viewBox:"0 0 14 14"},r.createElement("path",{className:"fill-color",fill:o,d:"M6.31 7.88l5 4.81a1 1 0 0 0 1.41 0A1 1 0 0 0 13 12V2.35a1 1 0 0 0-1-1 1 1 0 0 0-.69.28l-5 4.81a1 1 0 0 0 0 1.41zM2 1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1 1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"}))};ke.propTypes={className:R.a.string,color:R.a.string,height:R.a.number,title:R.a.oneOfType([R.a.string,R.a.node]),width:R.a.number};var xe=ke,_e=function(e){var t=e.start,n=e.end,r=e.duration,o=e.onClick,i=e.index,c=e.interactionTarget;if("number"!==typeof t||!r||t>=r)return null;var s=Math.round(290*t/r),l=s+6,u="number"===typeof n?Math.max(l,290*n/r):l,p=Math.round(Math.min(290,u))-s;return p<6&&(s-=6-p,p=6),a.a.createElement(P.a,{type:"button",className:"be-timeline-time",style:{left:"".concat(s,"px"),width:"".concat(p,"px")},onClick:function(){return o(i)},"data-resin-target":c})},Te=function(e){var t=e.text,n=void 0===t?"":t,r=e.duration,o=void 0===r?0:r,i=e.timeslices,c=void 0===i?[]:i,s=e.getViewer,l=e.interactionTarget,u=-1,p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t>0?Math.min(c.length-1,e+t):Math.max(0,e+t),r=s?s():null,a=c[n];W(a)&&r&&"function"===typeof r.play&&(r.play(a.start),u=n)};return a.a.createElement("div",{className:"be-timeline"},n&&a.a.createElement("div",{className:"be-timeline-label"},n),a.a.createElement("div",{className:"be-timeline-line-wrapper"},a.a.createElement("div",{className:"be-timeline-line"}),c.map(function(e,t){var n=e.start,r=e.end;return a.a.createElement(_e,{key:t,index:t,start:n,end:r,duration:o,onClick:p,interactionTarget:l})})),a.a.createElement("div",{className:"be-timeline-btns"},a.a.createElement(P.a,{type:"button",onClick:function(){return p(u,-1)},"data-resin-target":O.f.TIMELINE.PREVIOUS},a.a.createElement(xe,{title:a.a.createElement(w.b,m.a.previousSegment)})),a.a.createElement(P.a,{type:"button",onClick:function(){return p(u,1)},"data-resin-target":O.f.TIMELINE.NEXT},a.a.createElement(Oe,{title:a.a.createElement(w.b,m.a.nextSegment)}))))};function Ne(e){return(Ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=this,a=(e=Ie(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==Ne(a)&&"function"!==typeof a?Re(r):a,Me(Re(Re(n)),"state",{selectedIndex:-1}),Me(Re(Re(n)),"onSelect",function(e){var t=n.state.selectedIndex,r=e.value;n.setState({selectedIndex:t===r?-1:r})}),n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.keywords,n=e.getViewer,a=e.duration,o=this.state.selectedIndex,i=le(t),c=t[o],s=c?{selectedOptions:[i[o]]}:{};return r.createElement(r.Fragment,null,r.createElement(Se,Pe({options:i,onSelect:this.onSelect},s,{buttonProps:Me({},O.c,O.f.KEYWORDS.SELECT)})),!!c&&Array.isArray(c.appears)&&c.appears.length>0&&r.createElement(Te,{text:c.text,timeslices:c.appears,duration:a,getViewer:n,interactionTarget:O.f.KEYWORDS.TIMELINE}))}}])&&je(n.prototype,a),o&&je(n,o),t}();function ze(e){return(ze="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Fe(t).call(this,e),n=!a||"object"!==ze(a)&&"function"!==typeof a?Ve(r):a,Be(Ve(Ve(n)),"toggleIsEditing",function(){n.setState(function(e){return{isEditing:!e.isEditing}})}),Be(Ve(Ve(n)),"onAdd",function(e){var t=n.props.transcript,r=n.state.adds,a=[],o=new RegExp("\\b".concat(e.text,"\\b"),"i");t&&Array.isArray(t.entries)&&t.entries.forEach(function(e){var t=e.text,n=e.appears;t&&o.test(t)&&Array.isArray(n)&&n.length>0&&a.push(n[0])}),e.appears=a,r.push(e),n.setState({adds:r.slice(0)})}),Be(Ve(Ve(n)),"onDelete",function(e){var t=n.state,r=t.adds,a=t.removes,o=r.findIndex(function(t){return t===e});o>-1?(r.splice(o,1),n.setState({adds:r.slice(0)})):(a.push(e),n.setState({removes:a.slice(0)}))}),Be(Ve(Ve(n)),"onSave",function(){var e=n.props.onSkillChange,t=n.state,r=t.removes,a=t.adds;n.toggleIsEditing(),(r.length>0||a.length>0)&&(n.setState({isLoading:!0}),e(r,a))}),Be(Ve(Ve(n)),"onCancel",function(){n.resetState(n.props)}),n.state={keywords:e.card.entries,adds:[],removes:[],isEditing:e.hasError,hasError:e.hasError,isLoading:!1},n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"resetState",value:function(e){this.setState({keywords:e.card.entries,adds:[],removes:[],isEditing:!1,hasError:!1,isLoading:!1})}},{key:"render",value:function(){var e=this.props,t=e.card,n=e.getViewer,r=e.isEditable,o=t.duration,i=this.state,c=i.isEditing,s=i.isLoading,l=i.hasError,u=i.keywords,p=i.removes,d=i.adds,f=u.length>0,h=u.filter(function(e){return!p.includes(e)}).concat(d),b=N()("be-keyword-edit",{"be-keyword-is-editing":c});return a.a.createElement(B.a,{isLoading:s,className:"be-keywords"},f&&r&&!s&&a.a.createElement(q.b,{text:a.a.createElement(w.b,m.a.editLabel)},a.a.createElement(P.a,{type:"button",className:b,onClick:this.toggleIsEditing,"data-resin-target":O.f.KEYWORDS.EDIT},a.a.createElement(j.a,null))),l&&a.a.createElement(ce.a,{title:a.a.createElement(w.b,m.a.sidebarSkillsErrorTitle)},a.a.createElement(w.b,m.a.sidebarSkillsErrorContent)),c&&a.a.createElement(be,{keywords:h,onSave:this.onSave,onAdd:this.onAdd,onDelete:this.onDelete,onCancel:this.onCancel}),!c&&f&&a.a.createElement(De,{keywords:h,duration:o,getViewer:n}),!c&&!f&&a.a.createElement(w.b,m.a.skillNoInfoFoundError))}}])&&Le(n.prototype,o),i&&Le(n,i),t}(),Ke=n(185),We=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#000000":a,i=e.height,c=void 0===i?16:i,s=e.title,l=e.width,u=void 0===l?16:l;return r.createElement(I.a,{className:"icon-minus "+n,title:s,width:u,height:c,viewBox:"0 0 16 16"},r.createElement("path",{fill:o,d:"M2 5h8v2H2z",fillRule:"evenodd"}))};We.propTypes={className:R.a.string,color:R.a.string,height:R.a.number,title:R.a.oneOfType([R.a.string,R.a.node]),width:R.a.number};var Ye=We,Ge=function(e){var t=e.face,n=e.selected,a=e.isEditing,o=e.onDelete,i=e.onSelect,c=!!n,s=t===n,l=c&&s&&!a,u=N()("be-face-wrapper",{"be-face-unselected":!a&&c&&!s});return r.createElement("div",{className:u},r.createElement(P.a,{type:"button",className:"be-face","data-resin-target":O.f.FACES.FACE,onClick:function(){return!a&&i(t)}},r.createElement("img",{alt:t.text,title:t.text,src:t.image_url}),l&&r.createElement(Ye,{color:E.B})),a&&r.createElement(P.a,{type:"button",className:"be-face-delete","data-resin-target":O.f.FACES.DELETE,onClick:function(){return o(t)}},r.createElement(Ke.a,{color:E.A,width:16,height:16})))};function Ue(e){return(Ue="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Xe(t).call(this,e),n=!a||"object"!==Ue(a)&&"function"!==typeof a?Ze(r):a,$e(Ze(Ze(n)),"toggleIsEditing",function(){n.setState(function(e){return{isEditing:!e.isEditing}})}),$e(Ze(Ze(n)),"onSelect",function(e){var t=n.state.selected;n.setState({selected:t===e?void 0:e})}),$e(Ze(Ze(n)),"onDelete",function(e){var t=n.state.removes;t.push(e),n.setState({removes:t.slice(0)})}),$e(Ze(Ze(n)),"onSave",function(){var e=n.props.onSkillChange,t=n.state.removes;n.toggleIsEditing(),t.length>0&&(n.setState({isLoading:!0}),e(t))}),$e(Ze(Ze(n)),"onCancel",function(){n.resetState(n.props)}),n.state={faces:e.card.entries,removes:[],isEditing:e.hasError,hasError:e.hasError,isLoading:!1},n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"resetState",value:function(e){this.setState({faces:e.card.entries,removes:[],isEditing:!1,selected:void 0,hasError:!1,isLoading:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.card,a=t.isEditable,o=t.getViewer,i=this.state,c=i.selected,s=i.faces,l=i.removes,u=i.isEditing,p=i.hasError,d=i.isLoading,f=n.duration,h=s.length>0,b=s.filter(function(e){return!l.includes(e)}),y=N()("be-face-edit",{"be-faces-is-editing":u});return r.createElement(B.a,{isLoading:d,className:"be-faces"},h&&a&&!d&&r.createElement(q.b,{text:r.createElement(w.b,m.a.editLabel)},r.createElement(P.a,{type:"button",className:y,onClick:this.toggleIsEditing,"data-resin-target":O.f.FACES.EDIT},r.createElement(j.a,null))),p&&r.createElement(ce.a,{title:r.createElement(w.b,m.a.sidebarSkillsErrorTitle)},r.createElement(w.b,m.a.sidebarSkillsErrorContent)),h?b.map(function(t,n){return r.createElement(Ge,{key:n,face:t,selected:c,isEditing:u,onDelete:e.onDelete,onSelect:e.onSelect})}):r.createElement(w.b,m.a.skillNoInfoFoundError),!!c&&!u&&Array.isArray(c.appears)&&c.appears.length>0&&r.createElement(Te,{timeslices:c.appears,duration:f,getViewer:o,interactionTarget:O.f.FACES.TIMELINE}),u&&r.createElement("div",{className:"be-faces-buttons"},r.createElement(X.a,{type:"button",onClick:this.onCancel,"data-resin-target":O.f.FACES.EDIT_CANCEL},r.createElement(w.b,m.a.cancel)),r.createElement(J.a,{type:"button",onClick:this.onSave,"data-resin-target":O.f.FACES.EDIT_SAVE},r.createElement(w.b,m.a.save))))}}])&&Je(n.prototype,a),o&&Je(n,o),t}(),tt=function(e){var t=e.card,n=e.cards,r=e.hasError,o=e.isEditable,i=e.onSkillChange,c=e.getViewer;switch(t.skill_card_type){case E.Od:return a.a.createElement(qe,{card:t,hasError:r,transcript:o?n.find(function(e){return e.skill_card_type===E.Td}):void 0,isEditable:o,getViewer:c,onSkillChange:i});case E.Sd:case E.Nd:return a.a.createElement(et,{card:t,hasError:r,isEditable:o,getViewer:c,onSkillChange:i});case E.Td:return a.a.createElement(ie,{card:t,hasError:r,getViewer:c,isEditable:o,onSkillChange:i});case E.Pd:return a.a.createElement(_,{card:t});default:return null}},nt=function(e){var t=e.file,n=e.cards,a=e.errors,o=e.getViewer,i=e.onSkillChange,c=t.permissions,s=!!(void 0===c?{}:c).can_upload;return n.map(function(e,c){e.error&&!e.status&&(e.skill_card_type=E.Pd,e.status={code:E.Md},delete e.error);var l=e.id||C()("card_"),u=Object(x.b)(t,e),p=function(e){switch(e.skill_card_type){case E.Od:return O.f.KEYWORDS.CARD;case E.Nd:case E.Sd:return O.f.FACES.CARD;case E.Td:return O.f.TRANSCRIPTS.CARD;default:return""}}(e),d=function(e){var t=e.skill_card_type,n=e.skill_card_title,a=void 0===n?{}:n,o=a.code,i=a.message,c="".concat(t,"Skill"),s=m.a[c]||m.a.defaultSkill;switch(o){case"skills_faces":return r.createElement(w.b,m.a.faceSkill);case"skills_transcript":return r.createElement(w.b,m.a.transcriptSkill);case"skills_topics":return r.createElement(w.b,m.a.topicsSkill);case"skills_status":return r.createElement(w.b,m.a.statusSkill);case"skills_error":return r.createElement(w.b,m.a.error);default:return i||r.createElement(w.b,s)}}(e),f=Array.isArray(e.entries)?e.entries.length>0:u;return u?r.createElement(k.a,{key:l,isOpen:f,interactionTarget:p,title:d},r.createElement(tt,{card:e,cards:n,hasError:!!a[c],isEditable:s,getViewer:o,onSkillChange:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(void 0,[c].concat(t))}})):null})};function rt(e){return(rt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){lt(e,t,n[t])})}return e}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"SkillsSidebarComponent",function(){return pt});var ut="".concat(E.qd,"_").concat(f.a);Object(d.b)(ut);var pt=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=it(t).call(this,e),n=!a||"object"!==rt(a)&&"function"!==typeof a?st(r):a,lt(st(st(n)),"state",{errors:{}}),lt(st(st(n)),"fetchSkillsSuccessCallback",function(e){n.updatePreviewTranscript(e),n.setState({cards:e})}),lt(st(st(n)),"updatePreviewTranscript",function(e){var t=n.props,r=t.getPreview,a=t.getViewer,o=r?r():null,i=a?a():null,c=e.find(function(e){return e.skill_card_type===E.Td});c&&o&&(i?"function"===typeof i.loadAutoGeneratedCaptions&&i.loadAutoGeneratedCaptions(c):o.addListener("load",function(e){var t=e.viewer;"function"===typeof t.loadAutoGeneratedCaptions&&t.loadAutoGeneratedCaptions(c)}))}),lt(st(st(n)),"onSaveSuccessHandler",function(e,t){var r=at({},n.state.errors);delete r[e],n.updatePreviewTranscript(t),n.setState({cards:t,errors:r})}),lt(st(st(n)),"onSaveErrorHandler",function(e){var t=at({},n.state.errors);t[e]=!0,n.setState({errors:t})}),lt(st(st(n)),"onSave",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=n.props,i=o.api,c=o.file,l=n.state.cards,u=(void 0===l?[]:l)[e],p="/cards/".concat(e),d=[];if(s()(c,E.sc,!1)&&u){if(Array.isArray(a)&&a.forEach(function(e){var t=e.replaced,n=e.replacement,r=u.entries.findIndex(function(e){return e===t});r>-1&&d.push({op:"replace",path:"".concat(p,"/entries/").concat(r),value:n})}),Array.isArray(t)){var f=[];t.forEach(function(e){var t=u.entries.findIndex(function(t){return t===e});t>-1&&f.push(t)}),f.sort(function(e,t){return t-e}).forEach(function(e){d.push({op:"remove",path:"".concat(p,"/entries/").concat(e)})})}Array.isArray(r)&&r.forEach(function(e){d.push({op:"add",path:"".concat(p,"/entries/-"),value:e})}),0!==d.length&&(d.splice(0,0,{op:"test",path:p,value:u}),i.getMetadataAPI(!1).updateSkills(c,d,function(t){n.onSaveSuccessHandler(e,t)},function(){n.onSaveErrorHandler(e)}))}}),n.props.logger.onReadyMetric({endMarkName:ut}),n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.api,n=e.file;t.getMetadataAPI(!1).getSkills(n,this.fetchSkillsSuccessCallback,i.a)}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.getViewer,a=this.state,o=a.cards,i=a.errors;return r.createElement(g.a,{title:v.a.getTitleForView(E.Cd)},o?r.createElement(nt,{file:t,cards:o,errors:i,getViewer:n,onSkillChange:this.onSave}):r.createElement(p.b,null))}}])&&ot(n.prototype,a),o&&ot(n,o),t}();t.default=u()([Object(y.a)(E.qd),Object(b.a)(E.qd),h.b])(pt)}}]);
//# sourceMappingURL=7.38e794cd.chunk.js.map