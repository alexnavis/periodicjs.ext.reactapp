(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1977:function(e,t,n){"use strict";var r=n(146)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(2034),a=n(2014),i=n(2137),s=n(1976),c=n(1996),l=s.OrderedSet,u=s.Record,f=s.Stack,p=u({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:f(),selection:null,treeMap:null,undoStack:f()}),d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._immutable=t}return e.createEmpty=function(t){return e.createWithContent(a.createFromText(""),t)},e.createWithContent=function(t,n){var r=t.getBlockMap().first().getKey();return e.create({currentContent:t,undoStack:f(),redoStack:f(),decorator:n||null,selection:c.createEmpty(r)})},e.create=function(t){var n=t.currentContent,o=t.decorator,a=r({},t,{treeMap:m(n,o),directionMap:i.getDirectionMap(n)});return new e(new p(a))},e.set=function(t,n){return new e(t.getImmutable().withMutations(function(e){var r=e.get("decorator"),a=r;null===n.decorator?a=null:n.decorator&&(a=n.decorator);var i=n.currentContent||t.getCurrentContent();if(a!==r){var s,c=e.get("treeMap");return s=a&&r?function(e,t,n,r,a){return n.merge(t.toSeq().filter(function(t){return r.getDecorations(t,e)!==a.getDecorations(t,e)}).map(function(t){return o.generate(e,t,r)}))}(i,i.getBlockMap(),c,a,r):m(i,a),void e.merge({decorator:a,treeMap:s,nativelyRenderedContent:null})}i!==t.getCurrentContent()&&e.set("treeMap",function(e,t,n,r){var a=e.getCurrentContent().set("entityMap",n),i=a.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter(function(e,t){return e!==i.get(t)}).map(function(e){return o.generate(a,e,r)}))}(t,i.getBlockMap(),i.getEntityMap(),a)),e.merge(n)}))},e.prototype.toJS=function(){return this.getImmutable().toJS()},e.prototype.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.prototype.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.prototype.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.prototype.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.prototype.getSelection=function(){return this.getImmutable().get("selection")},e.prototype.getDecorator=function(){return this.getImmutable().get("decorator")},e.prototype.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.prototype.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.prototype.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.prototype.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},e.setInlineStyleOverride=function(t,n){return e.set(t,{inlineStyleOverride:n})},e.prototype.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r>0)return o.getInlineStyleAt(r-1);if(o.getLength())return o.getInlineStyleAt(0);return h(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r<o.getLength())return o.getInlineStyleAt(r);if(r>0)return o.getInlineStyleAt(r-1);return h(e,n)}(t,n)},e.prototype.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.prototype.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.prototype.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.prototype.getDirectionMap=function(){return this.getImmutable().get("directionMap")},e.acceptSelection=function(e,t){return g(e,t,!1)},e.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),g(e,t,!0)},e.moveSelectionToEnd=function(t){var n=t.getCurrentContent().getLastBlock(),r=n.getKey(),o=n.getLength();return e.acceptSelection(t,new c({anchorKey:r,anchorOffset:o,focusKey:r,focusOffset:o,isBackward:!1}))},e.moveFocusToEnd=function(t){var n=e.moveSelectionToEnd(t);return e.forceSelection(n,n.getSelection())},e.push=function(t,n,r){if(t.getCurrentContent()===n)return t;var o="insert-characters"!==r,a=i.getDirectionMap(n,t.getDirectionMap());if(!t.getAllowUndo())return e.set(t,{currentContent:n,directionMap:a,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var s=t.getSelection(),c=t.getCurrentContent(),l=t.getUndoStack(),u=n;s!==c.getSelectionAfter()||function(e,t){var n=e.getLastChangeType();return t!==n||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}(t,r)?(l=l.push(c),u=u.set("selectionBefore",s)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(u=u.set("selectionBefore",c.getSelectionBefore()));var p=t.getInlineStyleOverride();-1===["adjust-depth","change-block-type","split-block"].indexOf(r)&&(p=null);var d={currentContent:u,directionMap:a,undoStack:l,redoStack:f(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:p};return e.set(t,d)},e.undo=function(t){if(!t.getAllowUndo())return t;var n=t.getUndoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),a=i.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:a,undoStack:n.shift(),redoStack:t.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})},e.redo=function(t){if(!t.getAllowUndo())return t;var n=t.getRedoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),a=i.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:a,undoStack:t.getUndoStack().push(o),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.prototype.getImmutable=function(){return this._immutable},e}();function g(e,t,n){return d.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function m(e,t){return e.getBlockMap().map(function(n){return o.generate(e,n,t)}).toOrderedMap()}function h(e,t){for(var n,r=e.getBlockBefore(t);r;){if(n=r.getLength())return r.getInlineStyleAt(n-1);r=e.getBlockBefore(r.getKey())}return l()}e.exports=d},1978:function(e,t,n){"use strict";var r=n(1980),o=n(2126),a=n(2031),i=n(1976),s=n(2127),c=n(2129),l=n(2002),u=n(2132),f=n(2133),p=n(121),d=n(2134),g=n(2032),m=n(2135),h=n(2136),y=i.OrderedSet,v={replaceText:function(e,t,n,o,a){var i=g(e,t),s=m(i,t),c=r.create({style:o||y(),entity:a||null});return f(s,s.getSelectionAfter(),n,c)},insertText:function(e,t,n,r,o){return t.isCollapsed()||p(!1),v.replaceText(e,t,n,r,o)},moveText:function(e,t,n){var r=l(e,t),o=v.removeRange(e,t,"backward");return v.replaceWithFragment(o,n,r)},replaceWithFragment:function(e,t,n){var r=g(e,t),o=m(r,t);return u(o,o.getSelectionAfter(),n)},removeRange:function(e,t,n){var r,o,i=void 0,s=void 0;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),o=t.getFocusKey(),i=e.getBlockForKey(r),s=e.getBlockForKey(o);var l=t.getStartOffset(),u=t.getEndOffset(),f=i.getEntityAt(l),p=s.getEntityAt(u-1);if(r===o&&f&&f===p){var d=c(e.getEntityMap(),i,s,t,n);return m(e,d)}var h=t;a.draft_segmented_entities_behavior&&(h=c(e.getEntityMap(),i,s,t,n));var y=g(e,h);return m(y,h)},splitBlock:function(e,t){var n=g(e,t),r=m(n,t);return h(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return o.add(e,t,n)},removeInlineStyle:function(e,t,n){return o.remove(e,t,n)},setBlockType:function(e,t,n){return d(e,t,function(e){return e.merge({type:n,depth:0})})},setBlockData:function(e,t,n){return d(e,t,function(e){return e.merge({data:n})})},mergeBlockData:function(e,t,n){return d(e,t,function(e){return e.merge({data:e.getData().merge(n)})})},applyEntity:function(e,t,n){var r=g(e,t);return s(r,t,n)}};e.exports=v},1979:function(e,t,n){"use strict";e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},1980:function(e,t,n){"use strict";var r=n(1976),o=r.Map,a=r.OrderedSet,i=r.Record,s=a(),c={style:s,entity:null},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getStyle=function(){return this.get("style")},t.prototype.getEntity=function(){return this.get("entity")},t.prototype.hasStyle=function(e){return this.getStyle().includes(e)},t.applyStyle=function(e,n){var r=e.set("style",e.getStyle().add(n));return t.create(r)},t.removeStyle=function(e,n){var r=e.set("style",e.getStyle().remove(n));return t.create(r)},t.applyEntity=function(e,n){var r=e.getEntity()===n?e:e.set("entity",n);return t.create(r)},t.create=function(e){if(!e)return u;var n=o({style:s,entity:null}).merge(e),r=f.get(n);if(r)return r;var a=new t(n);return f=f.set(n,a),a},t}(i(c)),u=new l,f=o([[o(c),u]]);l.EMPTY=u,e.exports=l},1982:function(e,t,n){"use strict";var r={},o=Math.pow(2,24);e.exports=function(){for(var e=void 0;void 0===e||r.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*o).toString(32);return r[e]=!0,e}},1983:function(e,t,n){"use strict";var r=n(2146),o=n(2147),a=n(2148),i=n(2149);function s(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var a=n.slice(e.length);return!!t&&(a=r?r(a):a,o.contains(a,t))}function c(e){return"Windows"===r.platformName?e.replace(/^\s*NT/,""):e}var l={isBrowser:function(e){return s(r.browserName,r.browserFullVersion,e)},isBrowserArchitecture:function(e){return s(r.browserArchitecture,null,e)},isDevice:function(e){return s(r.deviceName,null,e)},isEngine:function(e){return s(r.engineName,r.engineVersion,e)},isPlatform:function(e){return s(r.platformName,r.platformFullVersion,e,c)},isPlatformArchitecture:function(e){return s(r.platformArchitecture,null,e)}};e.exports=a(l,i)},1987:function(e,t,n){"use strict";var r=n(2125),o=n(1995),a=n(1980),i=n(2140),s=n(1988),c=n(2014),l=n(2017),u=n(2037),f=n(2141),p=n(2039),d=n(2003),g=n(1978),m=n(2035),h=n(1977),y=n(2023),v=n(2198),b=n(1996),E=n(2200),S={Editor:f,EditorBlock:p,EditorState:h,CompositeDecorator:i,Entity:d,EntityInstance:m,BlockMapBuilder:o,CharacterMetadata:a,ContentBlock:s,ContentState:c,SelectionState:b,AtomicBlockUtils:r,KeyBindingUtil:y,Modifier:g,RichUtils:v,DefaultDraftBlockRenderMap:l,DefaultDraftInlineStyle:u,convertFromHTML:n(2052),convertFromRaw:n(2203),convertToRaw:E,genKey:n(1982),getDefaultKeyBinding:n(2054),getVisibleSelectionRect:n(2207)};e.exports=S},1988:function(e,t,n){"use strict";var r=n(1976),o=n(2001),a=r.List,i=r.Map,s=r.OrderedSet,c=r.Record,l=s(),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getKey=function(){return this.get("key")},t.prototype.getType=function(){return this.get("type")},t.prototype.getText=function(){return this.get("text")},t.prototype.getCharacterList=function(){return this.get("characterList")},t.prototype.getLength=function(){return this.getText().length},t.prototype.getDepth=function(){return this.get("depth")},t.prototype.getData=function(){return this.get("data")},t.prototype.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():l},t.prototype.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},t.prototype.findStyleRanges=function(e,t){o(this.getCharacterList(),f,e,t)},t.prototype.findEntityRanges=function(e,t){o(this.getCharacterList(),p,e,t)},t}(c({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:i()}));function f(e,t){return e.getStyle()===t.getStyle()}function p(e,t){return e.getEntity()===t.getEntity()}e.exports=u},1989:function(e,t,n){"use strict";var r=n(121),o=55296,a=56319,i=56320,s=57343,c=/[\uD800-\uDFFF]/;function l(e){return o<=e&&e<=s}function u(e){return c.test(e)}function f(e,t){return 1+l(e.charCodeAt(t))}function p(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!u(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var o=0;if(t>0){for(;t>0&&o<r;t--)o+=f(e,o);if(o>=r)return""}else if(t<0){for(o=r;t<0&&0<o;t++)o-=f(e,o-1);o<0&&(o=0)}var a=r;if(n<r)for(a=o;n>0&&a<r;n--)a+=f(e,a);return e.substring(o,a)}var d={getCodePoints:function(e){for(var t=[],n=0;n<e.length;n+=f(e,n))t.push(e.codePointAt(n));return t},getUTF16Length:f,hasSurrogateUnit:u,isCodeUnitInSurrogateRange:l,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||r(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),c=e.charCodeAt(t+1);return o<=n&&n<=a&&i<=c&&c<=s},strlen:function(e){if(!u(e))return e.length;for(var t=0,n=0;n<e.length;n+=f(e,n))t++;return t},substring:function(e,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-t);return p(e,t=t<n?t:n,r)},substr:p};e.exports=d},1995:function(e,t,n){"use strict";var r=n(1976).OrderedMap,o={createFromArray:function(e){return r(e.map(function(e){return[e.getKey(),e]}))}};e.exports=o},1996:function(e,t,n){"use strict";var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},t.prototype.getAnchorKey=function(){return this.get("anchorKey")},t.prototype.getAnchorOffset=function(){return this.get("anchorOffset")},t.prototype.getFocusKey=function(){return this.get("focusKey")},t.prototype.getFocusOffset=function(){return this.get("focusOffset")},t.prototype.getIsBackward=function(){return this.get("isBackward")},t.prototype.getHasFocus=function(){return this.get("hasFocus")},t.prototype.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),o=this.getFocusKey();if(r===o&&r===e){var a=this.getStartOffset();return t<=this.getEndOffset()&&a<=n}if(e!==r&&e!==o)return!1;var i=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=i&&n>=i},t.prototype.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},t.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},t.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},t.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},t.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},t.createEmpty=function(e){return new t({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},t}((0,n(1976).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=r},1997:function(e,t,n){"use strict";function r(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}},1998:function(e,t,n){"use strict";var r=n(1978);e.exports=function(e,t,n){var o=e.getSelection(),a=e.getCurrentContent(),i=o;if(o.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return a}else if(e.isSelectionAtStartOfContent())return a;if((i=t(e))===o)return a}return r.removeRange(a,i,n)}},2000:function(e,t,n){"use strict";var r=n(0),o=n(469),a=n(1981),i=n(21),s=n(1991);function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(e){return function(t){var n=t.maskError,l=t.inlineError,u=(t.errorCode,c(t,["maskError","inlineError","errorCode"]));return n?r.createElement(s.a,null,r.createElement(o.a,{errorHeader:r.createElement(i.b,n.errorHeader),errorSubHeader:n.errorSubHeader?r.createElement(i.b,n.errorSubHeader):void 0})):l?r.createElement(r.Fragment,null,r.createElement(a.a,{title:r.createElement(i.b,l.title)},r.createElement(i.b,l.content)),r.createElement(e,u)):r.createElement(e,u)}}},2001:function(e,t,n){"use strict";e.exports=function(e,t,n,r){if(e.size){var o=0;e.reduce(function(e,a,i){return t(e,a)||(n(e)&&r(o,i),o=i),a}),n(e.last())&&r(o,e.count())}}},2002:function(e,t,n){"use strict";var r=n(1982),o=n(2032);e.exports=function(e,t){var n=t.getStartKey(),a=t.getStartOffset(),i=t.getEndKey(),s=t.getEndOffset(),c=o(e,t).getBlockMap(),l=c.keySeq(),u=l.indexOf(n),f=l.indexOf(i)+1;return c.slice(u,f).map(function(e,t){var o=r(),c=e.getText(),l=e.getCharacterList();return n===i?e.merge({key:o,text:c.slice(a,s),characterList:l.slice(a,s)}):t===n?e.merge({key:o,text:c.slice(a),characterList:l.slice(a)}):t===i?e.merge({key:o,text:c.slice(0,s),characterList:l.slice(0,s)}):e.set("key",o)}).toOrderedMap()}},2003:function(e,t,n){"use strict";var r=n(146)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2035),a=n(1976),i=n(121),s=(0,a.Map)(),c=0;function l(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var u={getLastCreatedEntityKey:function(){return l("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),u.__getLastCreatedEntityKey()},create:function(e,t,n){return l("DraftEntity.create","contentState.createEntity"),u.__create(e,t,n)},add:function(e){return l("DraftEntity.add","contentState.addEntity"),u.__add(e)},get:function(e){return l("DraftEntity.get","contentState.getEntity"),u.__get(e)},mergeData:function(e,t){return l("DraftEntity.mergeData","contentState.mergeEntityData"),u.__mergeData(e,t)},replaceData:function(e,t){return l("DraftEntity.replaceData","contentState.replaceEntityData"),u.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return""+c},__create:function(e,t,n){return u.__add(new o({type:e,mutability:t,data:n||{}}))},__add:function(e){var t=""+ ++c;return s=s.set(t,e),t},__get:function(e){var t=s.get(e);return t||i(!1),t},__mergeData:function(e,t){var n=u.__get(e),o=r({},n.getData(),t),a=n.set("data",o);return s=s.set(e,a),a},__replaceData:function(e,t){var n=u.__get(e).set("data",t);return s=s.set(e,n),n}};e.exports=u},2004:function(e,t,n){"use strict";var r={encode:function(e,t,n){return e+"-"+t+"-"+n},decode:function(e){var t=e.split("-"),n=t[0],r=t[1],o=t[2];return{blockKey:n,decoratorKey:parseInt(r,10),leafKey:parseInt(o,10)}}};e.exports=r},2005:function(e,t,n){"use strict";e.exports=function(e){return"handled"===e||!0===e}},2014:function(e,t,n){"use strict";var r=n(1995),o=n(1980),a=n(1988),i=n(2003),s=n(1976),c=n(1996),l=n(1982),u=n(2015),f=s.List,p=s.Record,d=s.Repeat,g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getEntityMap=function(){return i},t.prototype.getBlockMap=function(){return this.get("blockMap")},t.prototype.getSelectionBefore=function(){return this.get("selectionBefore")},t.prototype.getSelectionAfter=function(){return this.get("selectionAfter")},t.prototype.getBlockForKey=function(e){return this.getBlockMap().get(e)},t.prototype.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil(function(t){return t===e}).skip(1).first()},t.prototype.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil(function(t){return t===e}).skip(1).first()},t.prototype.getBlockAfter=function(e){return this.getBlockMap().skipUntil(function(t,n){return n===e}).skip(1).first()},t.prototype.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil(function(t,n){return n===e}).skip(1).first()},t.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray()},t.prototype.getFirstBlock=function(){return this.getBlockMap().first()},t.prototype.getLastBlock=function(){return this.getBlockMap().last()},t.prototype.getPlainText=function(e){return this.getBlockMap().map(function(e){return e?e.getText():""}).join(e||"\n")},t.prototype.getLastCreatedEntityKey=function(){return i.__getLastCreatedEntityKey()},t.prototype.hasText=function(){var e=this.getBlockMap();return e.size>1||e.first().getLength()>0},t.prototype.createEntity=function(e,t,n){return i.__create(e,t,n),this},t.prototype.mergeEntityData=function(e,t){return i.__mergeData(e,t),this},t.prototype.replaceEntityData=function(e,t){return i.__replaceData(e,t),this},t.prototype.addEntity=function(e){return i.__add(e),this},t.prototype.getEntity=function(e){return i.__get(e)},t.createFromBlockArray=function(e,n){var o=Array.isArray(e)?e:e.contentBlocks,a=r.createFromArray(o),s=a.isEmpty()?new c:c.createEmpty(a.first().getKey());return new t({blockMap:a,entityMap:n||i,selectionBefore:s,selectionAfter:s})},t.createFromText=function(e){var n=arguments.length<=1||void 0===arguments[1]?/\r\n?|\n/g:arguments[1],r=e.split(n).map(function(e){return e=u(e),new a({key:l(),text:e,type:"unstyled",characterList:f(d(o.EMPTY,e.length))})});return t.createFromBlockArray(r)},t}(p({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}));e.exports=g},2015:function(e,t,n){"use strict";var r=new RegExp("\r","g");e.exports=function(e){return e.replace(r,"")}},2016:function(e,t,n){"use strict";var r=n(121),o="LTR",a="RTL",i=null;function s(e){return e===o||e===a}function c(e){return s(e)||r(!1),e===o?"ltr":"rtl"}function l(e){i=e}var u={NEUTRAL:"NEUTRAL",LTR:o,RTL:a,isStrong:s,getHTMLDir:c,getHTMLDirIfDifferent:function(e,t){return s(e)||r(!1),s(t)||r(!1),e===t?null:c(e)},setGlobalDir:l,initGlobalDir:function(){l(o)},getGlobalDir:function(){return i||this.initGlobalDir(),i||r(!1),i}};e.exports=u},2017:function(e,t,n){"use strict";var r=n(1976).Map,o=n(0),a=n(1997),i=r({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:o.createElement("ul",{className:a("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:o.createElement("ol",{className:a("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:o.createElement("pre",{className:a("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=i},2018:function(e,t,n){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},2019:function(e,t,n){"use strict";function r(e,t){return t&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function(e,t){var n;if(t.isCollapsed()){var o=t.getAnchorKey(),a=t.getAnchorOffset();return a>0?(n=e.getBlockForKey(o).getEntityAt(a-1),r(e.getEntityMap(),n)):null}var i=t.getStartKey(),s=t.getStartOffset(),c=e.getBlockForKey(i);return n=s===c.getLength()?null:c.getEntityAt(s),r(e.getEntityMap(),n)}},2020:function(e,t,n){"use strict";function r(e,t){var n=o.get(e,t);return"auto"===n||"scroll"===n}var o={get:n(2154),getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=o},2021:function(e,t,n){"use strict";var r=n(2159),o=n(2160);e.exports=function(e){var t=r(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=o(e),a=e===t?e.ownerDocument.documentElement:e,i=e.scrollWidth-a.clientWidth,s=e.scrollHeight-a.clientHeight;return n.x=Math.max(0,Math.min(n.x,i)),n.y=Math.max(0,Math.min(n.y,s)),n}},2022:function(e,t,n){"use strict";var r=n(2044);e.exports=function(e){for(var t=e;t&&t!==document.documentElement;){var n=r(t);if(null!=n)return n;t=t.parentNode}return null}},2023:function(e,t,n){"use strict";var r=n(1983).isPlatform("Mac OS X"),o={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return r&&e.altKey},hasCommandModifier:function(e){return r?!!e.metaKey&&!e.altKey:o.isCtrlKeyCommand(e)}};e.exports=o},2024:function(e,t,n){"use strict";e.exports=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),o=n.getStartKey(),a=n.getStartOffset(),i=o,s=0;if(t>a){var c=r.getKeyBefore(o);null==c?i=o:(i=c,s=r.getBlockForKey(c).getText().length)}else s=a-t;return n.merge({focusKey:i,focusOffset:s,isBackward:!0})}},2031:function(e,t,n){"use strict";e.exports={draft_killswitch_allow_nontextnodes:!1,draft_segmented_entities_behavior:!1}},2032:function(e,t,n){"use strict";var r=n(1980),o=n(2001),a=n(121);function i(e,t,n){var i=t.getCharacterList(),s=n>0?i.get(n-1):void 0,c=n<i.count()?i.get(n):void 0,l=s?s.getEntity():void 0,u=c?c.getEntity():void 0;if(u&&u===l&&"MUTABLE"!==e.__get(u).getMutability()){for(var f,p=function(e,t,n){var r;return o(e,function(e,t){return e.getEntity()===t.getEntity()},function(e){return e.getEntity()===t},function(e,t){e<=n&&t>=n&&(r={start:e,end:t})}),"object"!==typeof r&&a(!1),r}(i,u,n),d=p.start,g=p.end;d<g;)f=i.get(d),i=i.set(d,r.applyEntity(f,null)),d++;return t.set("characterList",i)}return t}e.exports=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),o={},a=t.getStartKey(),s=t.getStartOffset(),c=n.get(a),l=i(r,c,s);l!==c&&(o[a]=l);var u=t.getEndKey(),f=t.getEndOffset(),p=n.get(u);a===u&&(p=l);var d=i(r,p,f);return d!==p&&(o[u]=d),Object.keys(o).length?e.merge({blockMap:n.merge(o),selectionAfter:t}):e.set("selectionAfter",t)}},2033:function(e,t,n){"use strict";e.exports=function(e,t,n){if(n===e.count())t.forEach(function(t){e=e.push(t)});else if(0===n)t.reverse().forEach(function(t){e=e.unshift(t)});else{var r=e.slice(0,n),o=e.slice(n);e=r.concat(t,o).toList()}return e}},2034:function(e,t,n){"use strict";var r=n(1976),o=n(507),a=n(2001),i=r.List,s=r.Repeat,c=r.Record,l=o.thatReturnsTrue,u=c({start:null,end:null}),f=c({start:null,end:null,decoratorKey:null,leaves:null}),p={generate:function(e,t,n){var r=t.getLength();if(!r)return i.of(new f({start:0,end:0,decoratorKey:null,leaves:i.of(new u({start:0,end:0}))}));var o=[],c=n?n.getDecorations(t,e):i(s(null,r)),p=t.getCharacterList();return a(c,g,l,function(e,t){o.push(new f({start:e,end:t,decoratorKey:c.get(e),leaves:d(p.slice(e,t).toList(),e)}))}),i(o)},getFingerprint:function(e){return e.map(function(e){var t=e.get("decoratorKey");return(null!==t?t+"."+(e.get("end")-e.get("start")):"")+"."+e.get("leaves").size}).join("-")}};function d(e,t){var n=[],r=e.map(function(e){return e.getStyle()}).toList();return a(r,g,l,function(e,r){n.push(new u({start:e+t,end:r+t}))}),i(n)}function g(e,t){return e===t}e.exports=p},2035:function(e,t,n){"use strict";var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getType=function(){return this.get("type")},t.prototype.getMutability=function(){return this.get("mutability")},t.prototype.getData=function(){return this.get("data")},t}((0,n(1976).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=r},2036:function(e,t,n){"use strict";var r=n(2016),o=n(121),a="\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05cf\u05d0-\u05ea\u05eb-\u05ef\u05f0-\u05f2\u05f3-\u05f4\u05f5-\u05ff\u07c0-\u07c9\u07ca-\u07ea\u07f4-\u07f5\u07fa\u07fb-\u07ff\u0800-\u0815\u081a\u0824\u0828\u082e-\u082f\u0830-\u083e\u083f\u0840-\u0858\u085c-\u085d\u085e\u085f-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb37\ufb38-\ufb3c\ufb3d\ufb3e\ufb3f\ufb40-\ufb41\ufb42\ufb43-\ufb44\ufb45\ufb46-\ufb4f",i="\u0608\u060b\u060d\u061b\u061c\u061d\u061e-\u061f\u0620-\u063f\u0640\u0641-\u064a\u066d\u066e-\u066f\u0671-\u06d3\u06d4\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06fd-\u06fe\u06ff\u0700-\u070d\u070e\u070f\u0710\u0712-\u072f\u074b-\u074c\u074d-\u07a5\u07b1\u07b2-\u07bf\u08a0-\u08b2\u08b3-\u08e3\ufb50-\ufbb1\ufbb2-\ufbc1\ufbc2-\ufbd2\ufbd3-\ufd3d\ufd40-\ufd4f\ufd50-\ufd8f\ufd90-\ufd91\ufd92-\ufdc7\ufdc8-\ufdcf\ufdf0-\ufdfb\ufdfc\ufdfe-\ufdff\ufe70-\ufe74\ufe75\ufe76-\ufefc\ufefd-\ufefe",s=new RegExp("["+"A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u01ba\u01bb\u01bc-\u01bf\u01c0-\u01c3\u01c4-\u0293\u0294\u0295-\u02af\u02b0-\u02b8\u02bb-\u02c1\u02d0-\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376-\u0377\u037a\u037b-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0482\u048a-\u052f\u0531-\u0556\u0559\u055a-\u055f\u0561-\u0587\u0589\u0903\u0904-\u0939\u093b\u093d\u093e-\u0940\u0949-\u094c\u094e-\u094f\u0950\u0958-\u0961\u0964-\u0965\u0966-\u096f\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09be-\u09c0\u09c7-\u09c8\u09cb-\u09cc\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09ef\u09f0-\u09f1\u09f4-\u09f9\u09fa\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3e-\u0a40\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0abe-\u0ac0\u0ac9\u0acb-\u0acc\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0af0\u0b02-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b3e\u0b40\u0b47-\u0b48\u0b4b-\u0b4c\u0b57\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b70\u0b71\u0b72-\u0b77\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bbf\u0bc1-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd0\u0bd7\u0be6-\u0bef\u0bf0-\u0bf2\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c41-\u0c44\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c7f\u0c82-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cbe\u0cbf\u0cc0-\u0cc4\u0cc6\u0cc7-\u0cc8\u0cca-\u0ccb\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0cf1-\u0cf2\u0d02-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d3e-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d4e\u0d57\u0d60-\u0d61\u0d66-\u0d6f\u0d70-\u0d75\u0d79\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dcf-\u0dd1\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0df4\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e46\u0e4f\u0e50-\u0e59\u0e5a-\u0e5b\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f01-\u0f03\u0f04-\u0f12\u0f13\u0f14\u0f15-\u0f17\u0f1a-\u0f1f\u0f20-\u0f29\u0f2a-\u0f33\u0f34\u0f36\u0f38\u0f3e-\u0f3f\u0f40-\u0f47\u0f49-\u0f6c\u0f7f\u0f85\u0f88-\u0f8c\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce-\u0fcf\u0fd0-\u0fd4\u0fd5-\u0fd8\u0fd9-\u0fda\u1000-\u102a\u102b-\u102c\u1031\u1038\u103b-\u103c\u103f\u1040-\u1049\u104a-\u104f\u1050-\u1055\u1056-\u1057\u105a-\u105d\u1061\u1062-\u1064\u1065-\u1066\u1067-\u106d\u106e-\u1070\u1075-\u1081\u1083-\u1084\u1087-\u108c\u108e\u108f\u1090-\u1099\u109a-\u109c\u109e-\u109f\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fb\u10fc\u10fd-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1360-\u1368\u1369-\u137c\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166d-\u166e\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16eb-\u16ed\u16ee-\u16f0\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1735-\u1736\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17b6\u17be-\u17c5\u17c7-\u17c8\u17d4-\u17d6\u17d7\u17d8-\u17da\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1923-\u1926\u1929-\u192b\u1930-\u1931\u1933-\u1938\u1946-\u194f\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c0\u19c1-\u19c7\u19c8-\u19c9\u19d0-\u19d9\u19da\u1a00-\u1a16\u1a19-\u1a1a\u1a1e-\u1a1f\u1a20-\u1a54\u1a55\u1a57\u1a61\u1a63-\u1a64\u1a6d-\u1a72\u1a80-\u1a89\u1a90-\u1a99\u1aa0-\u1aa6\u1aa7\u1aa8-\u1aad\u1b04\u1b05-\u1b33\u1b35\u1b3b\u1b3d-\u1b41\u1b43-\u1b44\u1b45-\u1b4b\u1b50-\u1b59\u1b5a-\u1b60\u1b61-\u1b6a\u1b74-\u1b7c\u1b82\u1b83-\u1ba0\u1ba1\u1ba6-\u1ba7\u1baa\u1bae-\u1baf\u1bb0-\u1bb9\u1bba-\u1be5\u1be7\u1bea-\u1bec\u1bee\u1bf2-\u1bf3\u1bfc-\u1bff\u1c00-\u1c23\u1c24-\u1c2b\u1c34-\u1c35\u1c3b-\u1c3f\u1c40-\u1c49\u1c4d-\u1c4f\u1c50-\u1c59\u1c5a-\u1c77\u1c78-\u1c7d\u1c7e-\u1c7f\u1cc0-\u1cc7\u1cd3\u1ce1\u1ce9-\u1cec\u1cee-\u1cf1\u1cf2-\u1cf3\u1cf5-\u1cf6\u1d00-\u1d2b\u1d2c-\u1d6a\u1d6b-\u1d77\u1d78\u1d79-\u1d9a\u1d9b-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200e\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2134\u2135-\u2138\u2139\u213c-\u213f\u2145-\u2149\u214e\u214f\u2160-\u2182\u2183-\u2184\u2185-\u2188\u2336-\u237a\u2395\u249c-\u24e9\u26ac\u2800-\u28ff\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c7b\u2c7c-\u2c7d\u2c7e-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d70\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005\u3006\u3007\u3021-\u3029\u302e-\u302f\u3031-\u3035\u3038-\u303a\u303b\u303c\u3041-\u3096\u309d-\u309e\u309f\u30a1-\u30fa\u30fc-\u30fe\u30ff\u3105-\u312d\u3131-\u318e\u3190-\u3191\u3192-\u3195\u3196-\u319f\u31a0-\u31ba\u31f0-\u31ff\u3200-\u321c\u3220-\u3229\u322a-\u3247\u3248-\u324f\u3260-\u327b\u327f\u3280-\u3289\u328a-\u32b0\u32c0-\u32cb\u32d0-\u32fe\u3300-\u3376\u337b-\u33dd\u33e0-\u33fe\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua014\ua015\ua016-\ua48c\ua4d0-\ua4f7\ua4f8-\ua4fd\ua4fe-\ua4ff\ua500-\ua60b\ua60c\ua610-\ua61f\ua620-\ua629\ua62a-\ua62b\ua640-\ua66d\ua66e\ua680-\ua69b\ua69c-\ua69d\ua6a0-\ua6e5\ua6e6-\ua6ef\ua6f2-\ua6f7\ua722-\ua76f\ua770\ua771-\ua787\ua789-\ua78a\ua78b-\ua78e\ua790-\ua7ad\ua7b0-\ua7b1\ua7f7\ua7f8-\ua7f9\ua7fa\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua823-\ua824\ua827\ua830-\ua835\ua836-\ua837\ua840-\ua873\ua880-\ua881\ua882-\ua8b3\ua8b4-\ua8c3\ua8ce-\ua8cf\ua8d0-\ua8d9\ua8f2-\ua8f7\ua8f8-\ua8fa\ua8fb\ua900-\ua909\ua90a-\ua925\ua92e-\ua92f\ua930-\ua946\ua952-\ua953\ua95f\ua960-\ua97c\ua983\ua984-\ua9b2\ua9b4-\ua9b5\ua9ba-\ua9bb\ua9bd-\ua9c0\ua9c1-\ua9cd\ua9cf\ua9d0-\ua9d9\ua9de-\ua9df\ua9e0-\ua9e4\ua9e6\ua9e7-\ua9ef\ua9f0-\ua9f9\ua9fa-\ua9fe\uaa00-\uaa28\uaa2f-\uaa30\uaa33-\uaa34\uaa40-\uaa42\uaa44-\uaa4b\uaa4d\uaa50-\uaa59\uaa5c-\uaa5f\uaa60-\uaa6f\uaa70\uaa71-\uaa76\uaa77-\uaa79\uaa7a\uaa7b\uaa7d\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadc\uaadd\uaade-\uaadf\uaae0-\uaaea\uaaeb\uaaee-\uaaef\uaaf0-\uaaf1\uaaf2\uaaf3-\uaaf4\uaaf5\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5b\uab5c-\uab5f\uab64-\uab65\uabc0-\uabe2\uabe3-\uabe4\uabe6-\uabe7\uabe9-\uabea\uabeb\uabec\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ue000-\uf8ff\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\uff21-\uff3a\uff41-\uff5a\uff66-\uff6f\uff70\uff71-\uff9d\uff9e-\uff9f\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc"+a+i+"]"),c=new RegExp("["+a+i+"]");function l(e){var t=s.exec(e);return null==t?null:t[0]}function u(e){var t=l(e);return null==t?r.NEUTRAL:c.exec(t)?r.RTL:r.LTR}function f(e,t){if(t=t||r.NEUTRAL,!e.length)return t;var n=u(e);return n===r.NEUTRAL?t:n}function p(e,t){return t||(t=r.getGlobalDir()),r.isStrong(t)||o(!1),f(e,t)}var d={firstStrongChar:l,firstStrongCharDir:u,resolveBlockDir:f,getDirection:p,isDirectionLTR:function(e,t){return p(e,t)===r.LTR},isDirectionRTL:function(e,t){return p(e,t)===r.RTL}};e.exports=d},2037:function(e,t,n){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},2038:function(e,t,n){"use strict";e.exports=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),o=t.getStartOffset(),a=!1;return r.some(function(e){return o===e.get("start")?(a=!0,!0):o<e.get("end")&&e.get("leaves").some(function(e){var t=e.get("start");return o===t&&(a=!0,!0)})}),a}},2039:function(e,t,n){"use strict";var r=n(146)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(2144),a=n(2004),i=n(0),s=n(31),c=n(2042),l=n(2020),u=n(2036),f=n(2016),p=n(1997),d=n(2157),g=n(2021),m=n(2161),h=n(121),y=n(1979),v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||b(e.selection,e.block.getKey())&&e.forceSelection},t.prototype.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n,r=s.findDOMNode(this),o=l.getScrollParent(r),a=g(o);if(o===window){var i=d(r);(n=i.y+i.height-m().height)>0&&window.scrollTo(a.x,a.y+n+10)}else{r instanceof HTMLElement||h(!1),(n=r.offsetHeight+r.offsetTop-(o.offsetHeight+a.y))>0&&c.setTop(o,c.getTop(o)+n+10)}}},t.prototype._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),s=t.getText(),c=this.props.tree.size-1,l=b(this.props.selection,n);return this.props.tree.map(function(p,d){var g=p.get("leaves"),m=g.size-1,h=g.map(function(r,u){var f=a.encode(n,d,u),p=r.get("start"),g=r.get("end");return i.createElement(o,{key:f,offsetKey:f,block:t,start:p,selection:l?e.props.selection:void 0,forceSelection:e.props.forceSelection,text:s.slice(p,g),styleSet:t.getInlineStyleAt(p),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:d===c&&u===m})}).toArray(),v=p.get("decoratorKey");if(null==v)return h;if(!e.props.decorator)return h;var b=y(e.props.decorator),E=b.getComponentForKey(v);if(!E)return h;var S=b.getPropsForKey(v),O=a.encode(n,d,0),C=s.slice(g.first().get("start"),g.last().get("end")),k=f.getHTMLDirIfDifferent(u.getDirection(C),e.props.direction);return i.createElement(E,r({},S,{contentState:e.props.contentState,decoratedText:C,dir:k,key:O,entityKey:t.getEntityAt(p.get("start")),offsetKey:O}),h)}).toArray()},t.prototype.render=function(){var e=this.props,t=e.direction,n=e.offsetKey,r=p({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===t,"public/DraftStyleDefault/rtl":"RTL"===t});return i.createElement("div",{"data-offset-key":n,className:r},this._renderChildren())},t}(i.Component);function b(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}e.exports=v},2040:function(e,t,n){"use strict";var r=n(2152);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},2041:function(e,t,n){"use strict";e.exports=function(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},2042:function(e,t,n){"use strict";function r(e,t){return!!t&&(e===t.documentElement||e===t.body)}var o={getTop:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollTop=n.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollLeft=n.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=o},2043:function(e,t,n){"use strict";var r=n(2164),o=n(2165),a=n(507),i=new RegExp("\r\n","g"),s={"text/rtf":1,"text/html":1};function c(e){if("file"==e.kind)return e.getAsFile()}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.types=t.types?o(t.types):[]}return e.prototype.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(e){return s[e]})},e.prototype.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(i,"\n"):null},e.prototype.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},e.prototype.isLink=function(){return this.types.some(function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")})},e.prototype.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},e.prototype.isImage=function(){var e=this.types.some(function(e){return-1!=e.indexOf("application/x-moz-file")});if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var o=t[n].type;if(!r.isImage(o))return!1}return!0},e.prototype.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},e.prototype.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(c).filter(a.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},e.prototype.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=l},2044:function(e,t,n){"use strict";e.exports=function e(t){if(t instanceof Element){var n=t.getAttribute("data-offset-key");if(n)return n;for(var r=0;r<t.childNodes.length;r++){var o=e(t.childNodes[r]);if(o)return o}}return null}},2045:function(e,t,n){"use strict";(function(t){var n=/\.textClipping$/,r={"text/plain":!0,"text/html":!0,"text/rtf":!0},o=5e3;e.exports=function(e,a){var i=0,s=[];e.forEach(function(c){!function(e,o){if(t.FileReader&&(!e.type||e.type in r)){if(""===e.type){var a="";return n.test(e.name)&&(a=e.name.replace(n,"")),void o(a)}var i=new FileReader;i.onload=function(){o(i.result)},i.onerror=function(){o("")},i.readAsText(e)}else o("")}(c,function(t){i++,t&&s.push(t.slice(0,o)),i==e.length&&a(s.join("\r"))})})}}).call(this,n(64))},2046:function(e,t,n){"use strict";var r=n(2004),o=n(1979);e.exports=function(e,t,n,a,i){var s=o(e.getSelection()),c=r.decode(t),l=c.blockKey,u=e.getBlockTree(l).getIn([c.decoratorKey,"leaves",c.leafKey]),f=r.decode(a),p=f.blockKey,d=e.getBlockTree(p).getIn([f.decoratorKey,"leaves",f.leafKey]),g=u.get("start"),m=d.get("start"),h=u?g+n:null,y=d?m+i:null;if(s.getAnchorKey()===l&&s.getAnchorOffset()===h&&s.getFocusKey()===p&&s.getFocusOffset()===y)return s;var v=!1;if(l===p){var b=u.get("end"),E=d.get("end");v=m===g&&E===b?i<n:m<g}else v=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(e){return e===l||e===p}).first()===p;return s.merge({anchorKey:l,anchorOffset:h,focusKey:p,focusOffset:y,isBackward:v})}},2047:function(e,t,n){"use strict";var r=n(2002);e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:r(e.getCurrentContent(),t)}},2048:function(e,t,n){"use strict";var r=n(1983),o=n(121);var a=r.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var a=r===e.commonAncestorContainer;a?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var i,s=Array.from(t.getClientRects());if(n.push(s),a)return n.reverse(),(i=[]).concat.apply(i,n);t.setEndBefore(r)}o(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=a},2049:function(e,t,n){"use strict";var r=n(2022),o=n(2044),a=n(2046),i=n(121),s=n(1979);function c(e,t,n){var a=t,c=r(a);if(null!=c||e&&(e===a||e.firstChild===a)||i(!1),e===a&&((a=a.firstChild)instanceof Element&&"true"===a.getAttribute("data-contents")||i(!1),n>0&&(n=a.childNodes.length)),0===n){var u=null;if(null!=c)u=c;else{var f=function(e){for(;e.firstChild&&o(e.firstChild);)e=e.firstChild;return e}(a);u=s(o(f))}return{key:u,offset:0}}var p=a.childNodes[n-1],d=null,g=null;if(o(p)){var m=function(e){for(;e.lastChild&&o(e.lastChild);)e=e.lastChild;return e}(p);d=s(o(m)),g=l(m)}else d=s(c),g=l(p);return{key:d,offset:g}}function l(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,n,o,i,l){var u=n.nodeType===Node.TEXT_NODE,f=i.nodeType===Node.TEXT_NODE;if(u&&f)return{selectionState:a(e,s(r(n)),o,s(r(i)),l),needsRecovery:!1};var p=null,d=null,g=!0;return u?(p={key:s(r(n)),offset:o},d=c(t,i,l)):f?(d={key:s(r(i)),offset:l},p=c(t,n,o)):(p=c(t,n,o),d=c(t,i,l),n===i&&o===l&&(g=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:a(e,p.key,p.offset,d.key,d.offset),needsRecovery:g}}},2050:function(e,t,n){"use strict";var r="\\s|(?![_])"+n(2182).getPunctuation(),o=new RegExp("^(?:"+r+")*(?:['\u2018\u2019]|(?!"+r+").)*(?:(?!"+r+").)"),a=new RegExp("(?:(?!"+r+").)(?:['\u2018\u2019]|(?!"+r+").)*(?:"+r+")*$");function i(e,t){var n=t?a.exec(e):o.exec(e);return n?n[0]:e}var s={getBackward:function(e){return i(e,!0)},getForward:function(e){return i(e,!1)}};e.exports=s},2051:function(e,t,n){"use strict";e.exports=function(e,t){var n,r=e.getSelection(),o=r.getStartKey(),a=r.getStartOffset(),i=e.getCurrentContent(),s=o;return t>i.getBlockForKey(o).getText().length-a?(s=i.getKeyAfter(o),n=0):n=a+t,r.merge({focusKey:s,focusOffset:n})}},2052:function(e,t,n){"use strict";var r,o=n(1980),a=n(1988),i=n(2017),s=n(2003),c=n(1976),l=n(2193),u=n(1982),f=n(2053),p=n(121),d=n(1979),g=n(2015),m=n(1976).Set,h=c.List,y=c.OrderedSet,v=" ",b=4,E=new RegExp("\r","g"),S=new RegExp("\n","g"),O=new RegExp("&nbsp;","g"),C=new RegExp("&#13;?","g"),k=new RegExp("&#8203;?","g"),w=["bold","bolder","500","600","700","800","900"],_=["light","lighter","100","200","300","400"],T={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},x=["className","href","rel","target","title"],A=["alt","className","height","src","width"];function D(e){var t=new Array(1);return e&&(t[0]=e),{text:v,inlines:[y()],entities:t,blocks:[]}}function M(){return{text:"\n",inlines:[y()],entities:new Array(1),blocks:[]}}function P(e,t){return{text:"\r",inlines:[y()],entities:new Array(1),blocks:[{type:e,depth:Math.max(0,Math.min(b,t))}]}}function R(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null}function F(e,t,n){var r=n.filter(function(t){return t.element===e||t.wrapper===e||t.aliasedElements&&t.aliasedElements.some(function(t){return t===e})}).keySeq().toSet().toArray().sort();switch(r.length){case 0:return"unstyled";case 1:return r[0];default:return function(e,t,n){for(var r=0;r<n.length;r++){var o=n[r](e,t);if(o)return o}return null}(e,t,[R])||"unstyled"}}function j(e,t){var n=e.text.slice(-1),r=t.text.slice(0,1);if("\r"===n&&"\r"===r&&(e.text=e.text.slice(0,-1),e.inlines.pop(),e.entities.pop(),e.blocks.pop()),"\r"===n){if(t.text===v||"\n"===t.text)return e;r!==v&&"\n"!==r||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}}function N(e){e instanceof HTMLAnchorElement||p(!1);var t=e.protocol;return"http:"===t||"https:"===t||"mailto:"===t}function I(e,t,n,o,a,i,c,u,f){var p=t.nodeName.toLowerCase(),d=!1,g="unstyled",m=r,h=e;if("#text"===p){var y=t.textContent;return""===y.trim()&&"pre"!==a?{chunk:D(f),entityMap:e}:("pre"!==a&&(y=y.replace(S,v)),r=p,{chunk:{text:y,inlines:Array(y.length).fill(n),entities:Array(y.length).fill(f),blocks:[]},entityMap:e})}if(r=p,"br"===p)return"br"!==m||a&&"unstyled"!==F(a,o,u)?{chunk:M(),entityMap:e}:{chunk:P("unstyled",c),entityMap:e};"img"===p&&t instanceof HTMLImageElement&&t.attributes.getNamedItem("src")&&t.attributes.getNamedItem("src").value&&function(){var e=t,n={};A.forEach(function(t){var r=e.getAttribute(t);r&&(n[t]=r)});var r=new l(n.src).toString();t.textContent=r,f=s.__create("IMAGE","MUTABLE",n||{})}();var b={text:"",inlines:[],entities:[],blocks:[]};n=function(e,t,n){var r,o=T[e];return o?n=n.add(o).toOrderedSet():t instanceof HTMLElement&&(r=t,n=n.withMutations(function(e){var t=r.style.fontWeight,n=r.style.fontStyle,o=r.style.textDecoration;w.indexOf(t)>=0?e.add("BOLD"):_.indexOf(t)>=0&&e.remove("BOLD"),"italic"===n?e.add("ITALIC"):"normal"===n&&e.remove("ITALIC"),"underline"===o&&e.add("UNDERLINE"),"line-through"===o&&e.add("STRIKETHROUGH"),"none"===o&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}).toOrderedSet()),n}(p,t,n),"ul"!==p&&"ol"!==p||(o&&(c+=1),o=p),a||-1===i.indexOf(p)?o&&"li"===a&&"li"===p&&(b=P(F(p,o,u),c),a=p,d=!0,g="ul"===o?"unordered-list-item":"ordered-list-item"):(b=P(F(p,o,u),c),a=p,d=!0);var E=t.firstChild;null!=E&&(p=E.nodeName.toLowerCase());for(var O=null;E;){E instanceof HTMLAnchorElement&&E.href&&N(E)?function(){var e=E,t={};x.forEach(function(n){var r=e.getAttribute(n);r&&(t[n]=r)}),t.url=new l(e.href).toString(),O=s.__create("LINK","MUTABLE",t||{})}():O=void 0;var C=I(h,E,n,o,a,i,c,u,O||f),k=C.chunk;h=C.entityMap,b=j(b,k);var R=E.nextSibling;R&&i.indexOf(p)>=0&&a&&(b=j(b,M())),R&&(p=R.nodeName.toLowerCase()),E=R}return d&&(b=j(b,P(g,c))),{chunk:b,entityMap:h}}function B(e,t,n,o){e=e.trim().replace(E,"").replace(O,v).replace(C,"").replace(k,"");var a=function(e){var t=e.get("unstyled").element,n=new m([]);return e.forEach(function(e){e.aliasedElements&&e.aliasedElements.forEach(function(e){n=n.add(e)}),n=n.add(e.element)}),n.filter(function(e){return e&&e!==t}).toArray().sort()}(n),i=t(e);if(!i)return null;r=null;var s=function(e,t){return t.some(function(t){return-1!==e.indexOf("<"+t)})}(e,a)?a:["div"],c=I(o,i,y(),"ul",null,s,-1,n),l=c.chunk,u=c.entityMap;return 0===l.text.indexOf("\r")&&(l={text:l.text.slice(1),inlines:l.inlines.slice(1),entities:l.entities.slice(1),blocks:l.blocks}),"\r"===l.text.slice(-1)&&(l.text=l.text.slice(0,-1),l.inlines=l.inlines.slice(0,-1),l.entities=l.entities.slice(0,-1),l.blocks.pop()),0===l.blocks.length&&l.blocks.push({type:"unstyled",depth:0}),l.text.split("\r").length===l.blocks.length+1&&l.blocks.unshift({type:"unstyled",depth:0}),{chunk:l,entityMap:u}}e.exports=function(e){var t=B(e,arguments.length<=1||void 0===arguments[1]?f:arguments[1],arguments.length<=2||void 0===arguments[2]?i:arguments[2],s);if(null==t)return null;var n=t.chunk,r=t.entityMap,c=0;return{contentBlocks:n.text.split("\r").map(function(e,t){e=g(e);var r=c+e.length,i=d(n).inlines.slice(c,r),s=d(n).entities.slice(c,r),l=h(i.map(function(e,t){var n={style:e,entity:null};return s[t]&&(n.entity=s[t]),o.create(n)}));return c=r+1,new a({key:u(),type:d(n).blocks[t].type,depth:d(n).blocks[t].depth,text:e,characterList:l})}),entityMap:r}}},2053:function(e,t,n){"use strict";var r=n(1983),o=n(121),a=r.isBrowser("IE <= 9");e.exports=function(e){var t,n=null;return!a&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||o(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}},2054:function(e,t,n){"use strict";var r=n(2023),o=n(2018),a=n(1983),i=a.isPlatform("Mac OS X"),s=a.isPlatform("Windows"),c=i&&a.isBrowser("Firefox < 29"),l=r.hasCommandModifier,u=r.isCtrlKeyCommand;function f(e){return i&&e.altKey||u(e)}e.exports=function(e){switch(e.keyCode){case 66:return l(e)?"bold":null;case 68:return u(e)?"delete":null;case 72:return u(e)?"backspace":null;case 73:return l(e)?"italic":null;case 74:return l(e)?"code":null;case 75:return!s&&u(e)?"secondary-cut":null;case 77:case 79:return u(e)?"split-block":null;case 84:return i&&u(e)?"transpose-characters":null;case 85:return l(e)?"underline":null;case 87:return i&&u(e)?"backspace-word":null;case 89:return u(e)?s?"redo":"secondary-paste":null;case 90:return function(e){return l(e)?e.shiftKey?"redo":"undo":null}(e)||null;case o.RETURN:return"split-block";case o.DELETE:return function(e){return s&&e.shiftKey?null:f(e)?"delete-word":"delete"}(e);case o.BACKSPACE:return function(e){return l(e)&&i?"backspace-to-start-of-line":f(e)?"backspace-word":"backspace"}(e);case o.LEFT:return c&&l(e)?"move-selection-to-start-of-block":null;case o.RIGHT:return c&&l(e)?"move-selection-to-end-of-block":null;default:return null}}},2055:function(e,t,n){"use strict";var r={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=r},2125:function(e,t,n){"use strict";var r=n(1995),o=n(1980),a=n(1988),i=n(1978),s=n(1977),c=(n(1996),n(1976)),l=n(1982),u=n(2139),f=c.List,p=c.Repeat,d={insertAtomicBlock:function(e,t,n){var c=e.getCurrentContent(),u=e.getSelection(),d=i.removeRange(c,u,"backward"),g=d.getSelectionAfter(),m=i.splitBlock(d,g),h=m.getSelectionAfter(),y=i.setBlockType(m,h,"atomic"),v=o.create({entity:t}),b=[new a({key:l(),type:"atomic",text:n,characterList:f(p(v,n.length))}),new a({key:l(),type:"unstyled",text:"",characterList:f()})],E=r.createFromArray(b),S=i.replaceWithFragment(y,h,E),O=S.merge({selectionBefore:u,selectionAfter:S.getSelectionAfter().set("hasFocus",!0)});return s.push(e,O,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var o=e.getCurrentContent(),a=e.getSelection(),c=void 0;if("before"===r||"after"===r){var l=o.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());c=u(o,t,l,r)}else{var f=i.removeRange(o,n,"backward"),p=f.getSelectionAfter(),d=f.getBlockForKey(p.getFocusKey());if(0===p.getStartOffset())c=u(f,t,d,"before");else if(p.getEndOffset()===d.getLength())c=u(f,t,d,"after");else{var g=i.splitBlock(f,p),m=g.getSelectionAfter(),h=g.getBlockForKey(m.getFocusKey());c=u(g,t,h,"before")}}var y=c.merge({selectionBefore:a,selectionAfter:c.getSelectionAfter().set("hasFocus",!0)});return s.push(e,y,"move-block")}};e.exports=d},2126:function(e,t,n){"use strict";var r=n(1980),o=n(1976).Map,a={add:function(e,t,n){return i(e,t,n,!0)},remove:function(e,t,n){return i(e,t,n,!1)}};function i(e,t,n,a){var i=e.getBlockMap(),s=t.getStartKey(),c=t.getStartOffset(),l=t.getEndKey(),u=t.getEndOffset(),f=i.skipUntil(function(e,t){return t===s}).takeUntil(function(e,t){return t===l}).concat(o([[l,i.get(l)]])).map(function(e,t){var o,i;s===l?(o=c,i=u):(o=t===s?c:0,i=t===l?u:e.getLength());for(var f,p=e.getCharacterList();o<i;)f=p.get(o),p=p.set(o,a?r.applyStyle(f,n):r.removeStyle(f,n)),o++;return e.set("characterList",p)});return e.merge({blockMap:i.merge(f),selectionBefore:t,selectionAfter:t})}e.exports=a},2127:function(e,t,n){"use strict";var r=n(1976),o=n(2128);e.exports=function(e,t,n){var a=e.getBlockMap(),i=t.getStartKey(),s=t.getStartOffset(),c=t.getEndKey(),l=t.getEndOffset(),u=a.skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===c}).toOrderedMap().merge(r.OrderedMap([[c,a.get(c)]])).map(function(e,t){var r=t===i?s:0,a=t===c?l:e.getLength();return o(e,r,a,n)});return e.merge({blockMap:a.merge(u),selectionBefore:t,selectionAfter:t})}},2128:function(e,t,n){"use strict";var r=n(1980);e.exports=function(e,t,n,o){for(var a=e.getCharacterList();t<n;)a=a.set(t,r.applyEntity(a.get(t),o)),t++;return e.set("characterList",a)}},2129:function(e,t,n){"use strict";var r=n(2130),o=n(2131),a=n(121);function i(e,t,n,i,s,c,l){var u=n.getStartOffset(),f=n.getEndOffset(),p=e.__get(s).getMutability(),d=l?u:f;if("MUTABLE"===p)return n;var g=o(t,s).filter(function(e){return d<=e.end&&d>=e.start});1!=g.length&&a(!1);var m=g[0];if("IMMUTABLE"===p)return n.merge({anchorOffset:m.start,focusOffset:m.end,isBackward:!1});c||(l?f=m.end:u=m.start);var h=r.getRemovalRange(u,f,t.getText().slice(m.start,m.end),m.start,i);return n.merge({anchorOffset:h.start,focusOffset:h.end,isBackward:!1})}e.exports=function(e,t,n,r,o){var a=r.getStartOffset(),s=r.getEndOffset(),c=t.getEntityAt(a),l=n.getEntityAt(s-1);if(!c&&!l)return r;var u=r;if(c&&c===l)u=i(e,t,u,o,c,!0,!0);else if(c&&l){var f=i(e,t,u,o,c,!1,!0),p=i(e,n,u,o,l,!1,!1);u=u.merge({anchorOffset:f.getAnchorOffset(),focusOffset:p.getFocusOffset(),isBackward:!1})}else if(c){var d=i(e,t,u,o,c,!1,!0);u=u.merge({anchorOffset:d.getStartOffset(),isBackward:!1})}else if(l){var g=i(e,n,u,o,l,!1,!1);u=u.merge({focusOffset:g.getEndOffset(),isBackward:!1})}return u}},2130:function(e,t,n){"use strict";e.exports={getRemovalRange:function(e,t,n,r,o){var a=n.split(" ");a=a.map(function(e,t){if("forward"===o){if(t>0)return" "+e}else if(t<a.length-1)return e+" ";return e});for(var i,s=r,c=null,l=null,u=0;u<a.length;u++){if(e<(i=s+a[u].length)&&s<t)null!==c?l=i:(c=s,l=i);else if(null!==c)break;s=i}var f=r+n.length,p=c===r,d=l===f;return(!p&&d||p&&!d)&&("forward"===o?l!==f&&l++:c!==r&&c--),{start:c,end:l}}}},2131:function(e,t,n){"use strict";var r=n(121);e.exports=function(e,t){var n=[];return e.findEntityRanges(function(e){return e.getEntity()===t},function(e,t){n.push({start:e,end:t})}),n.length||r(!1),n}},2132:function(e,t,n){"use strict";var r=n(1995),o=n(1982),a=n(2033),i=n(121);e.exports=function(e,t,n){t.isCollapsed()||i(!1);var s,c,l=t.getStartKey(),u=t.getStartOffset(),f=e.getBlockMap(),p=n.size;if(1===p){var d=f.get(l),g=n.first(),m=d.getText(),h=d.getCharacterList(),y=d.merge({text:m.slice(0,u)+g.getText()+m.slice(u),characterList:a(h,g.getCharacterList(),u),data:g.getData()});return f=f.set(l,y),s=l,c=u+g.getText().length,e.merge({blockMap:f.set(l,y),selectionBefore:t,selectionAfter:t.merge({anchorKey:s,anchorOffset:c,focusKey:s,focusOffset:c,isBackward:!1})})}var v=[];return e.getBlockMap().forEach(function(e,t){if(t===l){var r=e.getText(),a=e.getCharacterList(),i=r.length,c=r.slice(0,u),f=a.slice(0,u),d=n.first(),g=e.merge({text:c+d.getText(),characterList:f.concat(d.getCharacterList()),type:c?e.getType():d.getType(),data:d.getData()});v.push(g),n.slice(1,p-1).forEach(function(e){v.push(e.set("key",o()))});var m=r.slice(u,i),h=a.slice(u,i),y=n.last();s=o();var b=y.merge({key:s,text:y.getText()+m,characterList:y.getCharacterList().concat(h),data:y.getData()});v.push(b)}else v.push(e)}),c=n.last().getLength(),e.merge({blockMap:r.createFromArray(v),selectionBefore:t,selectionAfter:t.merge({anchorKey:s,anchorOffset:c,focusKey:s,focusOffset:c,isBackward:!1})})}},2133:function(e,t,n){"use strict";var r=n(1976),o=n(2033),a=n(121),i=r.Repeat;e.exports=function(e,t,n,r){t.isCollapsed()||a(!1);var s=n.length;if(!s)return e;var c=e.getBlockMap(),l=t.getStartKey(),u=t.getStartOffset(),f=c.get(l),p=f.getText(),d=f.merge({text:p.slice(0,u)+n+p.slice(u,f.getLength()),characterList:o(f.getCharacterList(),i(r,s).toList(),u)}),g=u+s;return e.merge({blockMap:c.set(l,d),selectionAfter:t.merge({anchorOffset:g,focusOffset:g})})}},2134:function(e,t,n){"use strict";var r=n(1976).Map;e.exports=function(e,t,n){var o=t.getStartKey(),a=t.getEndKey(),i=e.getBlockMap(),s=i.toSeq().skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===a}).concat(r([[a,i.get(a)]])).map(n);return e.merge({blockMap:i.merge(s),selectionBefore:t,selectionAfter:t})}},2135:function(e,t,n){"use strict";var r=n(1976);e.exports=function(e,t){if(t.isCollapsed())return e;var n,o=e.getBlockMap(),a=t.getStartKey(),i=t.getStartOffset(),s=t.getEndKey(),c=t.getEndOffset(),l=o.get(a),u=o.get(s);n=l===u?function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),o=e.slice(n);e=r.concat(o).toList()}return e}(l.getCharacterList(),i,c):l.getCharacterList().slice(0,i).concat(u.getCharacterList().slice(c));var f=l.merge({text:l.getText().slice(0,i)+u.getText().slice(c),characterList:n}),p=o.toSeq().skipUntil(function(e,t){return t===a}).takeUntil(function(e,t){return t===s}).concat(r.Map([[s,null]])).map(function(e,t){return t===a?f:null});return o=o.merge(p).filter(function(e){return!!e}),e.merge({blockMap:o,selectionBefore:t,selectionAfter:t.merge({anchorKey:a,anchorOffset:i,focusKey:a,focusOffset:i,isBackward:!1})})}},2136:function(e,t,n){"use strict";var r=n(1976),o=n(1982),a=n(121),i=r.Map;e.exports=function(e,t){t.isCollapsed()||a(!1);var n=t.getAnchorKey(),r=t.getAnchorOffset(),s=e.getBlockMap(),c=s.get(n),l=c.getText(),u=c.getCharacterList(),f=c.merge({text:l.slice(0,r),characterList:u.slice(0,r)}),p=o(),d=f.merge({key:p,text:l.slice(r),characterList:u.slice(r),data:i()}),g=s.toSeq().takeUntil(function(e){return e===c}),m=s.toSeq().skipUntil(function(e){return e===c}).rest(),h=g.concat([[f.getKey(),f],[d.getKey(),d]],m).toOrderedMap();return e.merge({blockMap:h,selectionBefore:t,selectionAfter:t.merge({anchorKey:p,anchorOffset:0,focusKey:p,focusOffset:0,isBackward:!1})})}},2137:function(e,t,n){"use strict";var r,o=n(1976),a=n(2138),i=n(1979),s=o.OrderedMap,c={getDirectionMap:function(e,t){r?r.reset():r=new a;var n=e.getBlockMap(),c=n.valueSeq().map(function(e){return i(r).getDirection(e.getText())}),l=s(n.keySeq().zip(c));return null!=t&&o.is(t,l)?t:l}};e.exports=c},2138:function(e,t,n){"use strict";var r=n(2036),o=n(2016),a=n(121),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t?o.isStrong(t)||a(!1):t=o.getGlobalDir(),this._defaultDir=t,this.reset()}return e.prototype.reset=function(){this._lastDir=this._defaultDir},e.prototype.getDirection=function(e){return this._lastDir=r.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=i},2139:function(e,t,n){"use strict";var r=n(121);e.exports=function(e,t,n,o){t.getKey()===n.getKey()&&r(!1),"replace"===o&&r(!1);var a=n.getKey(),i=e.getBlockBefore(a),s=e.getBlockAfter(a),c=e.getBlockMap().delete(t.getKey()),l=c.toSeq().takeUntil(function(e){return e===n}),u=c.toSeq().skipUntil(function(e){return e===n}).skip(1),f=void 0;return"before"===o?(i&&i.getKey()===t.getKey()&&r(!1),f=l.concat([[t.getKey(),t],[n.getKey(),n]],u).toOrderedMap()):"after"===o&&(s&&s.getKey()===t.getKey()&&r(!1),f=l.concat([[n.getKey(),n],[t.getKey(),t]],u).toOrderedMap()),e.merge({blockMap:f,selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:t.getKey(),focusKey:t.getKey()})})}},2140:function(e,t,n){"use strict";var r=n(1976).List,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._decorators=t.slice()}return e.prototype.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach(function(r,o){var a=0;(0,r.strategy)(e,function(e,t){(function(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(function(e,t,n,r){for(var o=t;o<n;o++)e[o]=r}(n,e,t,o+"."+a),a++)},t)}),r(n)},e.prototype.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},e.prototype.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e}();e.exports=o},2141:function(e,t,n){"use strict";var r=n(146)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(2017),a=n(2037),i=n(2142),s=n(2143),c=n(2163),l=n(2166),u=n(2197),f=n(1977),p=n(0),d=n(31),g=n(2042),m=n(2020),h=n(1983),y=n(1997),v=n(507),b=n(1982),E=n(2054),S=n(2021),O=n(121),C=n(1979),k=h.isBrowser("IE"),w=!k,_={edit:l,composite:i,drag:c,cut:null,render:null},T=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return r._blockSelectEvents=!1,r._clipboard=null,r._handler=null,r._dragCount=0,r._editorKey=n.editorKey||b(),r._placeholderAccessibilityID="placeholder-"+r._editorKey,r._latestEditorState=n.editorState,r._onBeforeInput=r._buildHandler("onBeforeInput"),r._onBlur=r._buildHandler("onBlur"),r._onCharacterData=r._buildHandler("onCharacterData"),r._onCompositionEnd=r._buildHandler("onCompositionEnd"),r._onCompositionStart=r._buildHandler("onCompositionStart"),r._onCopy=r._buildHandler("onCopy"),r._onCut=r._buildHandler("onCut"),r._onDragEnd=r._buildHandler("onDragEnd"),r._onDragOver=r._buildHandler("onDragOver"),r._onDragStart=r._buildHandler("onDragStart"),r._onDrop=r._buildHandler("onDrop"),r._onInput=r._buildHandler("onInput"),r._onFocus=r._buildHandler("onFocus"),r._onKeyDown=r._buildHandler("onKeyDown"),r._onKeyPress=r._buildHandler("onKeyPress"),r._onKeyUp=r._buildHandler("onKeyUp"),r._onMouseDown=r._buildHandler("onMouseDown"),r._onMouseUp=r._buildHandler("onMouseUp"),r._onPaste=r._buildHandler("onPaste"),r._onSelect=r._buildHandler("onSelect"),r.focus=r._focus.bind(r),r.blur=r._blur.bind(r),r.setMode=r._setMode.bind(r),r.exitCurrentMode=r._exitCurrentMode.bind(r),r.restoreEditorDOM=r._restoreEditorDOM.bind(r),r.setClipboard=r._setClipboard.bind(r),r.getClipboard=r._getClipboard.bind(r),r.getEditorKey=function(){return r._editorKey},r.update=r._update.bind(r),r.onDragEnter=r._onDragEnter.bind(r),r.onDragLeave=r._onDragLeave.bind(r),r.state={contentsKey:0},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&r(t,n)}}},t.prototype._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},t.prototype._renderPlaceholder=function(){return this._showPlaceholder()?p.createElement(u,{text:C(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID}):null},t.prototype.render=function(){var e=this.props,t=e.readOnly,n=e.textAlignment,o=y({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===n,"DraftEditor/alignRight":"right"===n,"DraftEditor/alignCenter":"center"===n});return p.createElement("div",{className:o},this._renderPlaceholder(),p.createElement("div",{className:y("DraftEditor/editorContainer"),ref:"editorContainer"},p.createElement("div",{"aria-activedescendant":t?null:this.props.ariaActiveDescendantID,"aria-autocomplete":t?null:this.props.ariaAutoComplete,"aria-describedby":this._showPlaceholder()?this._placeholderAccessibilityID:null,"aria-expanded":t?null:this.props.ariaExpanded,"aria-haspopup":t?null:this.props.ariaHasPopup,"aria-label":this.props.ariaLabel,"aria-owns":t?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:y({notranslate:!t,"public/DraftEditor/content":!0}),contentEditable:!t,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:"editor",role:t?null:this.props.role||"textbox",spellCheck:w&&this.props.spellCheck,style:{outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},p.createElement(s,{blockRenderMap:this.props.blockRenderMap,blockRendererFn:this.props.blockRendererFn,blockStyleFn:this.props.blockStyleFn,customStyleMap:r({},a,this.props.customStyleMap),customStyleFn:this.props.customStyleFn,editorKey:this._editorKey,editorState:this.props.editorState,key:"contents"+this.state.contentsKey,textDirectionality:this.props.textDirectionality}))))},t.prototype.componentDidMount=function(){this.setMode("edit"),k&&document.execCommand("AutoUrlDetect",!1,!1)},t.prototype.componentWillUpdate=function(e){this._blockSelectEvents=!0,this._latestEditorState=e.editorState},t.prototype.componentDidUpdate=function(){this._blockSelectEvents=!1},t.prototype._focus=function(e){var t=this.props.editorState,n=t.getSelection().getHasFocus(),r=d.findDOMNode(this.refs.editor),o=m.getScrollParent(r),a=e||S(o),i=a.x,s=a.y;r instanceof HTMLElement||O(!1),r.focus(),o===window?window.scrollTo(i,s):g.setTop(o,s),n||this.update(f.forceSelection(t,t.getSelection()))},t.prototype._blur=function(){var e=d.findDOMNode(this.refs.editor);e instanceof HTMLElement||O(!1),e.blur()},t.prototype._setMode=function(e){this._handler=_[e]},t.prototype._exitCurrentMode=function(){this.setMode("edit")},t.prototype._restoreEditorDOM=function(e){var t=this;this.setState({contentsKey:this.state.contentsKey+1},function(){t._focus(e)})},t.prototype._setClipboard=function(e){this._clipboard=e},t.prototype._getClipboard=function(){return this._clipboard},t.prototype._update=function(e){this._latestEditorState=e,this.props.onChange(e)},t.prototype._onDragEnter=function(){this._dragCount++},t.prototype._onDragLeave=function(){this._dragCount--,0===this._dragCount&&this.exitCurrentMode()},t}(p.Component);T.defaultProps={blockRenderMap:o,blockRendererFn:v.thatReturnsNull,blockStyleFn:v.thatReturns(""),keyBindingFn:E,readOnly:!1,spellCheck:!1,stripPastedStyles:!1},e.exports=T},2142:function(e,t,n){"use strict";var r=n(1978),o=n(1977),a=n(2018),i=n(2019),s=n(2038),c=!1,l=!1,u="",f={onBeforeInput:function(e,t){u=(u||"")+t.data},onCompositionStart:function(e){l=!0},onCompositionEnd:function(e){c=!1,l=!1,setTimeout(function(){c||f.resolveComposition(e)},20)},onKeyDown:function(e,t){if(!l)return f.resolveComposition(e),void e._onKeyDown(t);t.which!==a.RIGHT&&t.which!==a.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===a.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!l){c=!0;var t=u;u="";var n=o.set(e._latestEditorState,{inCompositionMode:!1}),a=n.getCurrentInlineStyle(),f=i(n.getCurrentContent(),n.getSelection()),p=!t||s(n)||a.size>0||null!==f;if(p&&e.restoreEditorDOM(),e.exitCurrentMode(),t){var d=r.replaceText(n.getCurrentContent(),n.getSelection(),t,a,f);e.update(o.push(n,d,"insert-characters"))}else p&&e.update(o.set(n,{nativelyRenderedContent:null,forceSelection:!0}))}}};e.exports=f},2143:function(e,t,n){"use strict";var r=n(146)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(2039),a=n(2004),i=(n(1977),n(0)),s=n(1997),c=n(2162),l=n(1979),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),o=t.isInCompositionMode(),a=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||o&&a)return!1;var i=t.getCurrentContent(),s=n.getCurrentContent(),c=t.getDecorator(),l=n.getDecorator();return o!==a||i!==s||c!==l||n.mustForceSelection()},t.prototype.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,s=e.customStyleMap,u=e.customStyleFn,p=e.editorState,d=p.getCurrentContent(),g=p.getSelection(),m=p.mustForceSelection(),h=p.getDecorator(),y=l(p.getDirectionMap()),v=d.getBlocksAsArray(),b=[],E=null,S=null,O=0;O<v.length;O++){var C=v[O],k=C.getKey(),w=C.getType(),_=n(C),T=void 0,x=void 0,A=void 0;_&&(T=_.component,x=_.props,A=_.editable);var D=this.props.textDirectionality,M=D||y.get(k),P=a.encode(k,0,0),R={contentState:d,block:C,blockProps:x,customStyleMap:s,customStyleFn:u,decorator:h,direction:M,forceSelection:m,key:k,offsetKey:P,selection:g,tree:p.getBlockTree(k)},F=t.get(w),j=F.wrapper,N=F.element||t.get("unstyled").element,I=C.getDepth(),B=this.props.blockStyleFn(C);if("li"===N)B=c(B,f(w,I,S!==j||null===E||I>E,M));var K=T||o,L={className:B,"data-block":!0,"data-editor":this.props.editorKey,"data-offset-key":P,key:k};void 0!==A&&(L=r({},L,{contentEditable:A,suppressContentEditableWarning:!0}));var U=i.createElement(N,L,i.createElement(K,R));b.push({block:U,wrapperTemplate:j,key:k,offsetKey:P}),E=j?C.getDepth():null,S=j}for(var H=[],q=0;q<b.length;){var V=b[q];if(V.wrapperTemplate){var W=[];do{W.push(b[q].block),q++}while(q<b.length&&b[q].wrapperTemplate===V.wrapperTemplate);var z=i.cloneElement(V.wrapperTemplate,{key:V.key+"-wrap","data-offset-key":V.offsetKey},W);H.push(z)}else H.push(V.block),q++}return i.createElement("div",{"data-contents":"true"},H)},t}(i.Component);function f(e,t,n,r){return s({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":4===t,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})}e.exports=u},2144:function(e,t,n){"use strict";var r=n(146);n(1988);var o=n(2145),a=n(0),i=n(31),s=n(121),c=n(2150),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,o=t.text,a=n.getKey(),l=r+o.length;if(e.hasEdgeWithin(a,r,l)){var u=i.findDOMNode(this);u||s(!1);var f=u.firstChild;f||s(!1);var p=void 0;f.nodeType===Node.TEXT_NODE?p=f:"BR"===f.tagName?p=u:(p=f.firstChild)||s(!1),c(e,p,a,r,l)}}},t.prototype.shouldComponentUpdate=function(e){var t=i.findDOMNode(this.refs.leaf);return t||s(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},t.prototype.componentDidUpdate=function(){this._setSelection()},t.prototype.componentDidMount=function(){this._setSelection()},t.prototype.render=function(){var e=this.props.block,t=this.props.text;t.endsWith("\n")&&this.props.isLast&&(t+="\n");var n=this.props,i=n.customStyleMap,s=n.customStyleFn,c=n.offsetKey,l=n.styleSet,u=l.reduce(function(e,t){var n={},o=i[t];return void 0!==o&&e.textDecoration!==o.textDecoration&&(n.textDecoration=[e.textDecoration,o.textDecoration].join(" ").trim()),r(e,o,n)},{});if(s){var f=s(l,e);u=r(u,f)}return a.createElement("span",{"data-offset-key":c,ref:"leaf",style:u},a.createElement(o,null,t))},t}(a.Component);e.exports=l},2145:function(e,t,n){"use strict";var r=n(0),o=n(31),a=n(1983),i=n(121),s=a.isBrowser("IE <= 11");var c=s?r.createElement("span",{key:"A","data-text":"true"},"\n"):r.createElement("br",{key:"A","data-text":"true"}),l=s?r.createElement("span",{key:"B","data-text":"true"},"\n"):r.createElement("br",{key:"B","data-text":"true"}),u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return r._forceFlag=!1,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){var t=o.findDOMNode(this),n=""===e.children;return t instanceof Element||i(!1),n?!function(e){return s?"\n"===e.textContent:"BR"===e.tagName}(t):t.textContent!==e.children},t.prototype.componentWillUpdate=function(){this._forceFlag=!this._forceFlag},t.prototype.render=function(){return""===this.props.children?this._forceFlag?c:l:r.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true"},this.props.children)},t}(r.Component);e.exports=u},2146:function(e,t,n){"use strict";var r=n(889),o="Unknown",a={"Mac OS":"Mac OS X"};var i,s=(new r).getResult(),c=function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(s.browser.version),l={browserArchitecture:s.cpu.architecture||o,browserFullVersion:s.browser.version||o,browserMinorVersion:c.minor||o,browserName:s.browser.name||o,browserVersion:s.browser.major||o,deviceName:s.device.model||o,engineName:s.engine.name||o,engineVersion:s.engine.version||o,platformArchitecture:s.cpu.architecture||o,platformName:(i=s.os.name,a[i]||i||o),platformVersion:s.os.version||o,platformFullVersion:s.os.version||o};e.exports=l},2147:function(e,t,n){"use strict";var r=n(121),o=/\./,a=/\|\|/,i=/\s+\-\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,c=/^(\d*)(.*)/;function l(e,t){var n=e.split(a);return n.length>1?n.some(function(e){return E.contains(e,t)}):function(e,t){var n=e.split(i);if(n.length>0&&n.length<=2||r(!1),1===n.length)return u(n[0],t);var o=n[0],a=n[1];return m(o)&&m(a)||r(!1),u(">="+o,t)&&u("<="+a,t)}(e=n[0].trim(),t)}function u(e,t){if(""===(e=e.trim()))return!0;var n,r=t.split(o),a=d(e),i=a.modifier,s=a.rangeComponents;switch(i){case"<":return f(r,s);case"<=":return-1===(n=b(r,s))||0===n;case">=":return p(r,s);case">":return function(e,t){return 1===b(e,t)}(r,s);case"~":case"~>":return function(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var o=r.length-1,a=parseInt(r[o],10);g(a)&&(r[o]=a+1+"");return p(e,n)&&f(e,r)}(r,s);default:return function(e,t){return 0===b(e,t)}(r,s)}}function f(e,t){return-1===b(e,t)}function p(e,t){var n=b(e,t);return 1===n||0===n}function d(e){var t=e.split(o),n=t[0].match(s);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function g(e){return!isNaN(e)&&isFinite(e)}function m(e){return!d(e).modifier}function h(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function y(e,t){var n=e.match(c)[1],r=t.match(c)[1],o=parseInt(n,10),a=parseInt(r,10);return g(o)&&g(a)&&o!==a?v(o,a):v(e,t)}function v(e,t){return typeof e!==typeof t&&r(!1),e>t?1:e<t?-1:0}function b(e,t){for(var n=function(e,t){h(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var o=n;o<e.length;o++)e[o]="0"}return h(t,e.length),[e,t]}(e,t),r=n[0],o=n[1],a=0;a<o.length;a++){var i=y(r[a],o[a]);if(i)return i}return 0}var E={contains:function(e,t){return l(e.trim(),t.trim())}};e.exports=E},2148:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!e)return null;var o={};for(var a in e)r.call(e,a)&&(o[a]=t.call(n,e[a],a,e));return o}},2149:function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},2150:function(e,t,n){"use strict";(function(t){var r=n(2151),o=n(2040),a=n(2041),i=n(121);function s(e){if(!e)return"[empty]";var t=function e(t){if(t.nodeType===Node.TEXT_NODE){var n=t.textContent.length;return document.createTextNode("[text "+n+"]")}var r=t.cloneNode();var o=t.childNodes;for(var a=0;a<o.length;a++)r.appendChild(e(o[a]));return r}(e);return t.nodeType===Node.TEXT_NODE?t.textContent:(t instanceof Element||i(!1),t.innerHTML)}function c(e){for(var t=e;t;){if(t instanceof Element&&t.hasAttribute("contenteditable"))return s(t);t=t.parentNode}return"Could not find contentEditable parent of node"}function l(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function u(e,t,n,i){if(e.extend&&o(a(),t))n>l(t)&&r.logSelectionStateFailure({anonymizedDom:c(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(i.toJS())}),e.extend(t,n);else{var s=e.getRangeAt(0);s.setEnd(t,n),e.addRange(s.cloneRange())}}function f(e,t,n,o){var a=document.createRange();n>l(t)&&r.logSelectionStateFailure({anonymizedDom:c(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(o.toJS())}),a.setStart(t,n),e.addRange(a)}e.exports=function(e,n,r,a,i){if(o(document.documentElement,n)){var s=t.getSelection(),c=e.getAnchorKey(),l=e.getAnchorOffset(),p=e.getFocusKey(),d=e.getFocusOffset(),g=e.getIsBackward();if(!s.extend&&g){var m=c,h=l;c=p,l=d,p=m,d=h,g=!1}var y=c===r&&a<=l&&i>=l,v=p===r&&a<=d&&i>=d;if(y&&v)return s.removeAllRanges(),f(s,n,l-a,e),void u(s,n,d-a,e);if(g){if(v&&(s.removeAllRanges(),f(s,n,d-a,e)),y){var b=s.focusNode,E=s.focusOffset;s.removeAllRanges(),f(s,n,l-a,e),u(s,b,E,e)}}else y&&(s.removeAllRanges(),f(s,n,l-a,e)),v&&u(s,n,d-a,e)}}}).call(this,n(64))},2151:function(e,t,n){"use strict";e.exports={logSelectionStateFailure:function(){return null}}},2152:function(e,t,n){"use strict";var r=n(2153);e.exports=function(e){return r(e)&&3==e.nodeType}},2153:function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"===typeof t.Node?e instanceof t.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}},2154:function(e,t,n){"use strict";var r=n(2155),o=n(2156);function a(e){return null==e?e:String(e)}e.exports=function(e,t){var n=void 0;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return a(n.getPropertyValue(o(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return a(n.getPropertyValue(o(t)));if("display"===t)return"none"}return e.currentStyle?a("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(t)]):a(e.style&&e.style[r(t)])}},2155:function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,function(e,t){return t.toUpperCase()})}},2156:function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},2157:function(e,t,n){"use strict";var r=n(2158);e.exports=function(e){var t=r(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},2158:function(e,t,n){"use strict";var r=n(2040);e.exports=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!r(t,e))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}},2159:function(e,t,n){"use strict";var r="undefined"!==typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:r||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},2160:function(e,t,n){"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},2161:function(e,t,n){"use strict";function r(){var e=void 0;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function o(){var e=void 0;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function a(){return{width:window.innerWidth||r(),height:window.innerHeight||o()}}a.withoutScrollbars=function(){return{width:r(),height:o()}},e.exports=a},2162:function(e,t,n){"use strict";e.exports=function(e){e||(e="");var t=void 0,n=arguments.length;if(n>1)for(var r=1;r<n;r++)(t=arguments[r])&&(e=(e?e+" ":"")+t);return e}},2163:function(e,t,n){"use strict";var r=n(2043),o=n(1978),a=n(1977),i=n(2022),s=n(2045),c=n(2046),l=n(1979),u=n(2005);var f={onDragEnd:function(e){e.exitCurrentMode()},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),f=e._latestEditorState,d=function(e,t){var n=null,r=null;if("function"===typeof document.caretRangeFromPoint){var o=document.caretRangeFromPoint(e.x,e.y);n=o.startContainer,r=o.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=l(n),r=l(r);var a=l(i(n));return c(t,a,r,a,r)}(t.nativeEvent,f);if(t.preventDefault(),e.exitCurrentMode(),null!=d){var g=n.getFiles();if(g.length>0){if(e.props.handleDroppedFiles&&u(e.props.handleDroppedFiles(d,g)))return;s(g,function(t){t&&e.update(p(f,d,t))})}else{var m=e._internalDrag?"internal":"external";e.props.handleDrop&&u(e.props.handleDrop(d,n,m))||(e._internalDrag?e.update(function(e,t){var n=o.moveText(e.getCurrentContent(),e.getSelection(),t);return a.push(e,n,"insert-fragment")}(f,d)):e.update(p(f,d,n.getText())))}}}};function p(e,t,n){var r=o.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return a.push(e,r,"insert-fragment")}e.exports=f},2164:function(e,t,n){"use strict";var r={isImage:function(e){return"image"===o(e)[0]},isJpeg:function(e){var t=o(e);return r.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};function o(e){return e.split("/")}e.exports=r},2165:function(e,t,n){"use strict";var r=n(121);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!==typeof e&&"function"!==typeof e)&&r(!1),"number"!==typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"===typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(a){}for(var n=Array(t),o=0;o<t;o++)n[o]=e[o];return n}(e):[e]}},2166:function(e,t,n){"use strict";var r={onBeforeInput:n(2167),onBlur:n(2169),onCompositionStart:n(2170),onCopy:n(2171),onCut:n(2172),onDragOver:n(2173),onDragStart:n(2174),onFocus:n(2175),onInput:n(2176),onKeyDown:n(2177),onPaste:n(2191),onSelect:n(2195)};e.exports=r},2167:function(e,t,n){"use strict";var r=n(2034),o=n(1978),a=n(1977),i=n(1983),s=n(2019),c=n(2038),l=n(1979),u=n(2168),f=n(2005),p="'",d="/",g=i.isBrowser("Firefox");function m(e,t,n,r){var i=o.replaceText(e.getCurrentContent(),e.getSelection(),t,n,r);return a.push(e,i,"insert-characters")}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,o=t.data;if(o)if(e.props.handleBeforeInput&&f(e.props.handleBeforeInput(o,n)))t.preventDefault();else{var i=n.getSelection();if(!i.isCollapsed())return t.preventDefault(),void e.update(m(n,o,n.getCurrentInlineStyle(),s(n.getCurrentContent(),n.getSelection())));var h=!c(n),y=m(n,o,n.getCurrentInlineStyle(),s(n.getCurrentContent(),n.getSelection()));if(!h)return t.preventDefault(),void e.update(y);var v,b=i.getAnchorKey(),E=n.getBlockTree(b),S=r.getFingerprint(E),O=r.getFingerprint(y.getBlockTree(b));v=o,g&&(v==p||v==d)||S!==O||l(y.getDirectionMap()).get(b)!==l(n.getDirectionMap()).get(b)?(t.preventDefault(),e.update(y)):(y=a.set(y,{nativelyRenderedContent:y.getCurrentContent()}),e._pendingStateFromBeforeInput=y,u(function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}},2168:function(e,t,n){"use strict";(function(t){n(1041),e.exports=t.setImmediate}).call(this,n(64))},2169:function(e,t,n){"use strict";(function(t){var r=n(1977),o=n(1983),a=n(2041),i=o.isEngine("WebKit");e.exports=function(e,n){i&&a()===document.body&&t.getSelection().removeAllRanges();var o=e._latestEditorState,s=o.getSelection();if(s.getHasFocus()){var c=s.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(n),e.update(r.acceptSelection(o,c))}}}).call(this,n(64))},2170:function(e,t,n){"use strict";var r=n(1977);e.exports=function(e,t){e.setMode("composite"),e.update(r.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},2171:function(e,t,n){"use strict";var r=n(2047);e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(r(e._latestEditorState))}},2172:function(e,t,n){"use strict";var r=n(1978),o=n(1977),a=n(2020),i=n(2047),s=n(2021);e.exports=function(e,t){var n=e._latestEditorState;if(n.getSelection().isCollapsed())t.preventDefault();else{var c=a.getScrollParent(t.target),l=s(c),u=l.x,f=l.y,p=i(n);e.setClipboard(p),e.setMode("cut"),setTimeout(function(){e.restoreEditorDOM({x:u,y:f}),e.exitCurrentMode(),e.update(function(e){var t=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return o.push(e,t,"remove-range")}(n))},0)}}},2173:function(e,t,n){"use strict";e.exports=function(e,t){e._internalDrag=!1,e.setMode("drag"),t.preventDefault()}},2174:function(e,t,n){"use strict";e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},2175:function(e,t,n){"use strict";var r=n(1977);e.exports=function(e,t){var n=e._latestEditorState,o=n.getSelection();if(!o.getHasFocus()){var a=o.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),e.update(r.forceSelection(n,a))}}},2176:function(e,t,n){"use strict";(function(t){var r=n(2031),o=n(1978),a=n(2004),i=n(1977),s=n(1983),c=n(2022),l=n(1979),u=s.isEngine("Gecko"),f="\n\n";e.exports=function(e){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=t.getSelection(),s=n.anchorNode,p=n.isCollapsed,d=s.nodeType!==Node.TEXT_NODE,g=s.nodeType!==Node.TEXT_NODE&&s.nodeType!==Node.ELEMENT_NODE;if(r.draft_killswitch_allow_nontextnodes){if(d)return}else if(g)return;if(s.nodeType===Node.TEXT_NODE&&(null!==s.previousSibling||null!==s.nextSibling)){var m=s.parentNode;s.nodeValue=m.textContent;for(var h=m.firstChild;null!==h;h=h.nextSibling)h!==s&&m.removeChild(h)}var y=s.textContent,v=e._latestEditorState,b=l(c(s)),E=a.decode(b),S=E.blockKey,O=E.decoratorKey,C=E.leafKey,k=v.getBlockTree(S).getIn([O,"leaves",C]),w=k.start,_=k.end,T=v.getCurrentContent(),x=T.getBlockForKey(S),A=x.getText().slice(w,_);if(y.endsWith(f)&&(y=y.slice(0,-1)),y!==A){var D,M,P,R,F=v.getSelection(),j=F.merge({anchorOffset:w,focusOffset:_,isBackward:!1}),N=x.getEntityAt(w),I=N&&T.getEntity(N),B="MUTABLE"===(I&&I.getMutability()),K=B?"spellcheck-change":"apply-entity",L=o.replaceText(T,j,y,x.getInlineStyleAt(w),B?x.getEntityAt(w):null);if(u)D=n.anchorOffset,M=n.focusOffset,R=(P=w+Math.min(D,M))+Math.abs(D-M),D=P,M=R;else{var U=y.length-A.length;P=F.getStartOffset(),R=F.getEndOffset(),D=p?R+U:P,M=R+U}var H=L.merge({selectionBefore:T.getSelectionAfter(),selectionAfter:F.merge({anchorOffset:D,focusOffset:M})});e.update(i.push(v,H,K))}}}).call(this,n(64))},2177:function(e,t,n){"use strict";var r=n(1978),o=n(1977),a=n(2023),i=n(2018),s=n(2178),c=n(1983),l=n(2179),u=n(2181),f=n(2183),p=n(2184),d=n(2185),g=n(2186),m=n(2187),h=n(2188),y=n(2189),v=n(2190),b=n(2005),E=a.isOptionKeyCommand,S=c.isBrowser("Chrome");e.exports=function(e,t){var n=t.which,a=e._latestEditorState;switch(n){case i.RETURN:if(t.preventDefault(),e.props.handleReturn&&b(e.props.handleReturn(t,a)))return;break;case i.ESC:return t.preventDefault(),void(e.props.onEscape&&e.props.onEscape(t));case i.TAB:return void(e.props.onTab&&e.props.onTab(t));case i.UP:return void(e.props.onUpArrow&&e.props.onUpArrow(t));case i.DOWN:return void(e.props.onDownArrow&&e.props.onDownArrow(t));case i.SPACE:if(S&&E(t)){t.preventDefault();var c=r.replaceText(a.getCurrentContent(),a.getSelection(),"\xa0");return void e.update(o.push(a,c,"insert-characters"))}}var O=e.props.keyBindingFn(t);if(O)if("undo"!==O){if(t.preventDefault(),!e.props.handleKeyCommand||!b(e.props.handleKeyCommand(O,a))){var C=function(e,t){switch(e){case"redo":return o.redo(t);case"delete":return g(t);case"delete-word":return f(t);case"backspace":return d(t);case"backspace-word":return u(t);case"backspace-to-start-of-line":return l(t);case"split-block":return p(t);case"transpose-characters":return y(t);case"move-selection-to-start-of-block":return h(t);case"move-selection-to-end-of-block":return m(t);case"secondary-cut":return s.cut(t);case"secondary-paste":return s.paste(t);default:return t}}(O,a);C!==a&&e.update(C)}}else v(t,a,e.update)}},2178:function(e,t,n){"use strict";var r=n(1978),o=n(1977),a=n(2002),i=n(1979),s=null,c={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),c=null;if(n.isCollapsed()){var l=n.getAnchorKey(),u=t.getBlockForKey(l).getLength();if(u===n.getAnchorOffset())return e;c=n.set("focusOffset",u)}else c=n;c=i(c),s=a(t,c);var f=r.removeRange(t,c,"forward");return f===t?e:o.push(e,f,"remove-range")},paste:function(e){if(!s)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return o.push(e,t,"insert-fragment")}};e.exports=c},2179:function(e,t,n){"use strict";(function(t){var r=n(1977),o=n(2180),a=n(2049),i=n(2024),s=n(1998);e.exports=function(e){var n=s(e,function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return i(e,1);var r=t.getSelection().getRangeAt(0);return r=o(r),a(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState},"backward");return n===e.getCurrentContent()?e:r.push(e,n,"remove-range")}}).call(this,n(64))},2180:function(e,t,n){"use strict";var r=n(1989),o=n(2048),a=n(121);function i(e,t){for(var n=1/0,r=1/0,o=-1/0,a=-1/0,i=0;i<e.length;i++){var s=e[i];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),o=Math.max(o,s.top),a=Math.max(a,s.bottom))}return o<=r&&o-n<t&&a-r<t}function s(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||a(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=function(e){var t=getComputedStyle(e),n=document.createElement("div");n.style.fontFamily=t.fontFamily,n.style.fontSize=t.fontSize,n.style.fontStyle=t.fontStyle,n.style.fontWeight=t.fontWeight,n.style.lineHeight=t.lineHeight,n.style.position="absolute",n.textContent="M";var r=document.body;r||a(!1),r.appendChild(n);var o=n.getBoundingClientRect();return r.removeChild(n),o.height}(t),c=e.endContainer,l=e.endOffset;for(e.setStart(e.startContainer,0);i(o(e),n)&&(c=e.startContainer,l=e.startOffset,c.parentNode||a(!1),e.setStartBefore(c),1!==c.nodeType||"inline"===getComputedStyle(c).display););for(var u=c,f=l-1;;){for(var p=u.nodeValue,d=f;d>=0;d--)if(!(null!=p&&d>0&&r.isSurrogatePair(p,d-1))){if(e.setStart(u,d),!i(o(e),n))break;c=u,l=d}if(-1===d||0===u.childNodes.length)break;f=s(u=u.childNodes[d])}return e.setStart(c,l),e}},2181:function(e,t,n){"use strict";var r=n(2050),o=n(1977),a=n(2024),i=n(1998);e.exports=function(e){var t=i(e,function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return a(e,1);var o=t.getStartKey(),i=e.getCurrentContent().getBlockForKey(o).getText().slice(0,n),s=r.getBackward(i);return a(e,s.length||1)},"backward");return t===e.getCurrentContent()?e:o.push(e,t,"remove-range")}},2182:function(e,t,n){"use strict";e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf]"}}},2183:function(e,t,n){"use strict";var r=n(2050),o=n(1977),a=n(2051),i=n(1998);e.exports=function(e){var t=i(e,function(e){var t=e.getSelection(),n=t.getStartOffset(),o=t.getStartKey(),i=e.getCurrentContent().getBlockForKey(o).getText().slice(n),s=r.getForward(i);return a(e,s.length||1)},"forward");return t===e.getCurrentContent()?e:o.push(e,t,"remove-range")}},2184:function(e,t,n){"use strict";var r=n(1978),o=n(1977);e.exports=function(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return o.push(e,t,"split-block")}},2185:function(e,t,n){"use strict";var r=n(1977),o=n(1989),a=n(2024),i=n(1998);e.exports=function(e){var t=i(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),i=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[i-1];return a(e,s?o.getUTF16Length(s,0):1)},"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},2186:function(e,t,n){"use strict";var r=n(1977),o=n(1989),a=n(2051),i=n(1998);e.exports=function(e){var t=i(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),i=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[i];return a(e,s?o.getUTF16Length(s,0):1)},"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},2187:function(e,t,n){"use strict";var r=n(1977);e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),o=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:o,focusKey:n,focusOffset:o,isBackward:!1}),forceSelection:!0})}},2188:function(e,t,n){"use strict";var r=n(1977);e.exports=function(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},2189:function(e,t,n){"use strict";var r=n(1978),o=n(1977),a=n(2002);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var i,s,c=t.getAnchorKey(),l=e.getCurrentContent(),u=l.getBlockForKey(c).getLength();if(u<=1)return e;n===u?(i=t.set("anchorOffset",n-1),s=t):s=(i=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var f=a(l,i),p=r.removeRange(l,i,"backward"),d=p.getSelectionAfter(),g=d.getAnchorOffset()-1,m=d.merge({anchorOffset:g,focusOffset:g}),h=r.replaceWithFragment(p,m,f),y=o.push(e,h,"insert-fragment");return o.acceptSelection(y,s)}},2190:function(e,t,n){"use strict";var r=n(1977);e.exports=function(e,t,n){var o=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout(function(){n(o)},0)):n(o);else{var a=o.getCurrentContent();n(r.set(o,{nativelyRenderedContent:a}))}}},2191:function(e,t,n){"use strict";var r=n(1995),o=n(1980),a=n(2043),i=n(1978),s=n(2192),c=n(1977),l=n(2019),u=n(2045),f=n(2005),p=n(2194);function d(e,t,n){var r=i.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return c.push(e,r.set("entityMap",n),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var n=new a(t.clipboardData);if(!n.isRichText()){var g=n.getFiles(),m=n.getText();if(g.length>0){if(e.props.handlePastedFiles&&f(e.props.handlePastedFiles(g)))return;return void u(g,function(t){if(t=t||m){var n=e._latestEditorState,a=p(t),u=o.create({style:n.getCurrentInlineStyle(),entity:l(n.getCurrentContent(),n.getSelection())}),f=s.processText(a,u),d=r.createFromArray(f),g=i.replaceWithFragment(n.getCurrentContent(),n.getSelection(),d);e.update(c.push(n,g,"insert-fragment"))}})}}var h=[],y=n.getText(),v=n.getHTML(),b=e._latestEditorState;if(!e.props.handlePastedText||!f(e.props.handlePastedText(y,v,b))){if(y&&(h=p(y)),!e.props.stripPastedStyles){var E=e.getClipboard();if(n.isRichText()&&E){if(-1!==v.indexOf(e.getEditorKey())||1===h.length&&1===E.size&&E.first().getText()===y)return void e.update(d(e._latestEditorState,E))}else if(E&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every(function(t,n){return t.getText()===e[n]})}(h,E))return void e.update(d(e._latestEditorState,E));if(v){var S=s.processHTML(v,e.props.blockRenderMap);if(S){var O=S.contentBlocks,C=S.entityMap;if(O){var k=r.createFromArray(O);return void e.update(d(e._latestEditorState,k,C))}}}e.setClipboard(null)}if(h.length){var w=o.create({style:b.getCurrentInlineStyle(),entity:l(b.getCurrentContent(),b.getSelection())}),_=s.processText(h,w),T=r.createFromArray(_);e.update(d(e._latestEditorState,T))}}}},2192:function(e,t,n){"use strict";n(1980);var r=n(1988),o=n(1976),a=n(2052),i=n(1982),s=n(2053),c=n(2015),l=o.List,u=o.Repeat,f={processHTML:function(e,t){return a(e,s,t)},processText:function(e,t){return e.map(function(e){return e=c(e),new r({key:i(),type:"unstyled",text:e,characterList:l(u(t,e.length))})})}};e.exports=f},2193:function(e,t,n){"use strict";var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uri=t}return e.prototype.toString=function(){return this._uri},e}();e.exports=r},2194:function(e,t,n){"use strict";var r=/\r\n?|\n/g;e.exports=function(e){return e.split(r)}},2195:function(e,t,n){"use strict";var r=n(1977),o=n(31),a=n(2196),i=n(121);e.exports=function(e){if(!e._blockSelectEvents&&e._latestEditorState===e.props.editorState){var t=e.props.editorState,n=o.findDOMNode(e.refs.editorContainer);n||i(!1),n.firstChild instanceof HTMLElement||i(!1);var s=a(t,n.firstChild),c=s.selectionState;c!==t.getSelection()&&(t=s.needsRecovery?r.forceSelection(t,c):r.acceptSelection(t,c),e.update(t))}}},2196:function(e,t,n){"use strict";(function(t){var r=n(2049);e.exports=function(e,n){var o=t.getSelection();return 0===o.rangeCount?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(e,n,o.anchorNode,o.anchorOffset,o.focusNode,o.focusOffset)}}).call(this,n(64))},2197:function(e,t,n){"use strict";var r=n(0),o=n(1997),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},t.prototype.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=o({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return r.createElement("div",{className:t},r.createElement("div",{className:o("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID},this.props.text))},t}(r.Component);e.exports=a},2198:function(e,t,n){"use strict";var r=n(1978),o=n(1977),a=(n(1996),n(2199)),i=n(1979),s={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()})},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t){switch(t){case"bold":return s.toggleInlineStyle(e,"BOLD");case"italic":return s.toggleInlineStyle(e,"ITALIC");case"underline":return s.toggleInlineStyle(e,"UNDERLINE");case"code":return s.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=o.push(e,t,"insert-characters");return o.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),a=n.getBlockBefore(r);if(a&&"atomic"===a.getType()){var i=n.getBlockMap().delete(a.getKey()),c=n.merge({blockMap:i,selectionAfter:t});if(c!==n)return o.push(e,c,"remove-range")}var l=s.tryToRemoveBlockStyle(e);return l?o.push(e,l,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),a=t.getStartKey(),i=n.getBlockForKey(a).getLength();if(t.getStartOffset()<i)return null;var s=n.getBlockAfter(a);if(!s||"atomic"!==s.getType())return null;var c=t.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),l=r.removeRange(n,c,"forward");return l!==n?o.push(e,l,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),i=r.getAnchorKey();if(i!==r.getFocusKey())return t;var s=t.getCurrentContent(),c=s.getBlockForKey(i),l=c.getType();if("unordered-list-item"!==l&&"ordered-list-item"!==l)return t;e.preventDefault();var u=s.getBlockBefore(i);if(!u)return t;var f=u.getType();if("unordered-list-item"!==f&&"ordered-list-item"!==f)return t;var p=c.getDepth();if(!e.shiftKey&&p===n)return t;n=Math.min(u.getDepth()+1,n);var d=a(s,r,e.shiftKey?-1:1,n);return o.push(t,d,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),a=n.getStartKey(),s=n.getEndKey(),c=e.getCurrentContent(),l=n;if(a!==s&&0===n.getEndOffset()){var u=i(c.getBlockBefore(s));s=u.getKey(),l=l.merge({anchorKey:a,anchorOffset:n.getStartOffset(),focusKey:s,focusOffset:u.getLength(),isBackward:!1})}if(c.getBlockMap().skipWhile(function(e,t){return t!==a}).reverse().skipWhile(function(e,t){return t!==s}).some(function(e){return"atomic"===e.getType()}))return e;var f=c.getBlockForKey(a).getType()===t?"unstyled":t;return o.push(e,r.setBlockType(c,l,f),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?s.toggleBlockType(e,"code-block"):s.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),a=e.getCurrentInlineStyle();if(n.isCollapsed())return o.setInlineStyleOverride(e,a.has(t)?a.remove(t):a.add(t));var i,s=e.getCurrentContent();return i=a.has(t)?r.removeInlineStyle(s,n,t):r.applyInlineStyle(s,n,t),o.push(e,i,"change-inline-style")},toggleLink:function(e,t,n){var a=r.applyEntity(e.getCurrentContent(),t,n);return o.push(e,a,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var o=t.getAnchorKey(),a=e.getCurrentContent(),i=a.getBlockForKey(o);if(i.getLength()>0)return null;var s=i.getType(),c=a.getBlockBefore(o);if("code-block"===s&&c&&"code-block"===c.getType())return null;if("unstyled"!==s)return r.setBlockType(a,t,"unstyled")}return null}};e.exports=s},2199:function(e,t,n){"use strict";e.exports=function(e,t,n,r){var o=t.getStartKey(),a=t.getEndKey(),i=e.getBlockMap(),s=i.toSeq().skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===a}).concat([[a,i.get(a)]]).map(function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)});return i=i.merge(s),e.merge({blockMap:i,selectionBefore:t,selectionAfter:t})}},2200:function(e,t,n){"use strict";var r=n(2055),o=n(2201),a=n(2202);e.exports=function(e){var t=0,n={},i=[];e.getBlockMap().forEach(function(e,s){e.findEntityRanges(function(e){return null!==e.getEntity()},function(o){var a=r.stringify(e.getEntityAt(o));n.hasOwnProperty(a)||(n[a]=""+t++)}),i.push({key:s,text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:a(e),entityRanges:o(e,n),data:e.getData().toObject()})});var s=Object.keys(n),c={};return s.forEach(function(t,n){var o=e.getEntity(r.unstringify(t));c[n]={type:o.getType(),mutability:o.getMutability(),data:o.getData()}}),{entityMap:c,blocks:i}}},2201:function(e,t,n){"use strict";var r=n(2055),o=n(1989).strlen;e.exports=function(e,t){var n=[];return e.findEntityRanges(function(e){return!!e.getEntity()},function(a,i){var s=e.getText(),c=e.getEntityAt(a);n.push({offset:o(s.slice(0,a)),length:o(s.slice(a,i)),key:Number(t[r.stringify(c)])})}),n}},2202:function(e,t,n){"use strict";var r=n(1989),o=n(2001),a=function(e,t){return e===t},i=function(e){return!!e},s=[];e.exports=function(e){var t=e.getCharacterList().map(function(e){return e.getStyle()}).toList(),n=t.flatten().toSet().map(function(n){return function(e,t,n){var s=[],c=t.map(function(e){return e.has(n)}).toList();return o(c,a,i,function(t,o){var a=e.getText();s.push({offset:r.strlen(a.slice(0,t)),length:r.strlen(a.slice(t,o)),style:n})}),s}(e,t,n)});return Array.prototype.concat.apply(s,n.toJS())}},2203:function(e,t,n){"use strict";var r=n(146)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1988),a=n(2014),i=n(2003),s=n(2204),c=n(2205),l=n(2206),u=n(1982),f=n(1976).Map;e.exports=function(e){var t=e.blocks,n=e.entityMap,p={};Object.keys(n).forEach(function(e){var t=n[e],r=t.type,o=t.mutability,a=t.data,s=i.__create(r,o,a||{});p[e]=s});var d=t.map(function(e){var t=e.key,n=e.type,a=e.text,i=e.depth,d=e.inlineStyleRanges,g=e.entityRanges,m=e.data;t=t||u(),n=n||"unstyled",i=i||0,d=d||[],g=g||[],m=f(m);var h=l(a,d),y=g.filter(function(e){return p.hasOwnProperty(e.key)}).map(function(e){return r({},e,{key:p[e.key]})}),v=c(a,y),b=s(h,v);return new o({key:t,type:n,text:a,depth:i,characterList:b,data:m})});return a.createFromBlockArray(d)}},2204:function(e,t,n){"use strict";var r=n(1980),o=n(1976).List;e.exports=function(e,t){var n=e.map(function(e,n){var o=t[n];return r.create({style:e,entity:o})});return o(n)}},2205:function(e,t,n){"use strict";var r=n(1989).substr;e.exports=function(e,t){var n=Array(e.length).fill(null);return t&&t.forEach(function(t){for(var o=r(e,0,t.offset).length,a=o+r(e,t.offset,t.length).length,i=o;i<a;i++)n[i]=t.key}),n}},2206:function(e,t,n){"use strict";var r=n(1989),o=n(1976).OrderedSet,a=r.substr,i=o();e.exports=function(e,t){var n=Array(e.length).fill(i);return t&&t.forEach(function(t){for(var r=a(e,0,t.offset).length,o=r+a(e,t.offset,t.length).length;r<o;)n[r]=n[r].add(t.style),r++}),n}},2207:function(e,t,n){"use strict";var r=n(2208);e.exports=function(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),o=r(n),a=o.top,i=o.right,s=o.bottom,c=o.left;return 0===a&&0===i&&0===s&&0===c?null:o}},2208:function(e,t,n){"use strict";var r=n(2048);e.exports=function(e){var t=r(e),n=0,o=0,a=0,i=0;if(t.length){if(t.length>1&&0===t[0].width){var s=t[1];n=s.top,o=s.right,a=s.bottom,i=s.left}else{var c=t[0];n=c.top,o=c.right,a=c.bottom,i=c.left}for(var l=1;l<t.length;l++){var u=t[l];0!==u.height&&0!==u.width&&(n=Math.min(n,u.top),o=Math.max(o,u.right),a=Math.max(a,u.bottom),i=Math.min(i,u.left))}}return{top:n,right:o,bottom:a,left:i,width:o-i,height:a-n}}},2209:function(e,t){var n=/^(?:submit|button|image|reset|file)$/i,r=/^(?:input|select|textarea|keygen)/i,o=/(\[[^\[\]]*\])/g;function a(e,t,n){if(t.match(o)){!function e(t,n,r){if(0===n.length)return t=r;var o=n.shift(),a=o.match(/^\[(.+?)\]$/);if("[]"===o)return t=t||[],Array.isArray(t)?t.push(e(null,n,r)):(t._values=t._values||[],t._values.push(e(null,n,r))),t;if(a){var i=a[1],s=+i;isNaN(s)?(t=t||{})[i]=e(t[i],n,r):(t=t||[])[s]=e(t[s],n,r)}else t[o]=e(t[o],n,r);return t}(e,function(e){var t=[],n=new RegExp(o),r=/^([^\[\]]*)/.exec(e);for(r[1]&&t.push(r[1]);null!==(r=n.exec(e));)t.push(r[1]);return t}(t),n)}else{var r=e[t];r?(Array.isArray(r)||(e[t]=[r]),e[t].push(n)):e[t]=n}return e}function i(e,t,n){return n=n.replace(/(\r)?\n/g,"\r\n"),n=(n=encodeURIComponent(n)).replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(t)+"="+n}e.exports=function(e,t){"object"!=typeof t?t={hash:!!t}:void 0===t.hash&&(t.hash=!0);for(var o=t.hash?{}:"",s=t.serializer||(t.hash?a:i),c=e&&e.elements?e.elements:[],l=Object.create(null),u=0;u<c.length;++u){var f=c[u];if((t.disabled||!f.disabled)&&f.name&&r.test(f.nodeName)&&!n.test(f.type)){var p=f.name,d=f.value;if("checkbox"!==f.type&&"radio"!==f.type||f.checked||(d=void 0),t.empty){if("checkbox"!==f.type||f.checked||(d=""),"radio"===f.type&&(l[f.name]||f.checked?f.checked&&(l[f.name]=!0):l[f.name]=!1),void 0==d&&"radio"==f.type)continue}else if(!d)continue;if("select-multiple"!==f.type)o=s(o,p,d);else{d=[];for(var g=f.options,m=!1,h=0;h<g.length;++h){var y=g[h],v=t.empty&&!y.value,b=y.value||v;y.selected&&b&&(m=!0,o=t.hash&&"[]"!==p.slice(p.length-2)?s(o,p+"[]",y.value):s(o,p,y.value))}!m&&t.empty&&(o=s(o,p,""))}}}if(t.empty)for(var p in l)l[p]||(o=s(o,p,""));return o}},2210:function(e,t,n){},2212:function(e,t,n){},2214:function(e,t,n){},2216:function(e,t,n){},2218:function(e,t,n){},2220:function(e,t,n){},2222:function(e,t,n){},2224:function(e,t,n){},2226:function(e,t,n){"use strict";n.r(t);var r=n(28),o=n.n(r),a=n(0),i=n.n(a),s=n(203),c=n.n(s),l=n(29),u=n.n(l),f=n(241),p=n.n(f),d=n(21),g=n(17),m=n(678),h=n(276),y=n(468),v=n(34),b=(n(142),n(394)),E=n(226),S=n(275),O=n(30),C=n.n(O),k=n(5),w=n.n(k),_=n(506),T=Object(d.f)({eventTime:{id:"boxui.readableTime.eventTime",defaultMessage:"{time, date, medium}"},eventTimeToday:{id:"boxui.readableTime.eventTimeToday",defaultMessage:"Today at {time, time, short}"},eventTimeYesterday:{id:"boxui.readableTime.eventTimeYesterday",defaultMessage:"Yesterday at {time, time, short}"},eventTimeDate:{id:"boxui.readableTime.eventTimeDate",defaultMessage:"{time, date, medium} at {time, time, short}"},eventTimeDateShort:{id:"boxui.readableTime.eventTimeDateShort",defaultMessage:"{date} at {time, time, short}"}}),x=n(1),A=n.n(x),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M=function(e){var t=e.timestamp,n=e.relativeThreshold,r=e.allowFutureTimestamps,o=void 0===r||r,a=e.alwaysShowTime,s=void 0!==a&&a,c=Date.now()-n,l=!Object(_.e)(t);!o&&t>Date.now()&&(t=c);var u=T.eventTime,f=null;if(Object(_.f)(t))u=T.eventTimeToday;else if(Object(_.g)(t))u=T.eventTimeYesterday;else if(l&&s)u=T.eventTimeDate;else if(!l&&s)u=T.eventTimeDateShort,f=i.a.createElement(d.a,{value:t,month:"short",day:"numeric"});else if(!l&&!s)return i.a.createElement(d.a,{value:t,month:"short",day:"numeric"});var p=i.a.createElement(d.b,D({},u,{values:{time:t,date:f}}));return t>c&&(p=i.a.createElement(d.d,{value:t})),p};M.propTypes={timestamp:A.a.number.isRequired,relativeThreshold:A.a.number.isRequired,allowFutureTimestamps:A.a.bool,alwaysShowTime:A.a.bool};var P=M,R=n(392),F=n(331),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),j(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.children,r=e.className;return a.createElement("div",{className:"link-group "+r},t?a.createElement("div",{className:"link-group-title"},t):null,a.createElement("ul",null,a.Children.map(n,function(e,t){return e?a.createElement("li",{key:t},e," "):null})))}}]),t}();N.defaultProps={title:"",className:""},N.propTypes={title:A.a.node,children:A.a.node.isRequired,className:A.a.string.isRequired};var I=n(2013),B=n(2028),K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var L=function(e){var t=e.className,n=void 0===t?"":t,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className"]);return a.createElement(B.a,K({className:"btn "+n},r))};L.propTypes={children:A.a.node.isRequired,className:A.a.string};var U=L,H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var q=function(e){var t=e.className,n=void 0===t?"":t,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className"]);return a.createElement(U,H({className:"btn-primary "+n},r))};q.propTypes={children:A.a.node.isRequired,className:A.a.string};function V(e){return(V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=Q(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==V(o)&&"function"!==typeof o?J(r):o,$(J(J(n)),"state",{}),$(J(J(n)),"getProfileUrlHandler",function(e){n.setState({profileUrl:e})}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,a["PureComponent"]),n=t,(r=[{key:"getUserProfileUrl",value:function(){var e=this.props,t=e.id,n=e.getUserProfileUrl;return n?n(t).then(this.getProfileUrlHandler):Promise.resolve()}},{key:"componentDidMount",value:function(){this.getUserProfileUrl()}},{key:"render",value:function(){var e=this.props,t=e.name,n=(e.getUserProfileUrl,z(e,["name","getUserProfileUrl"])),r=this.state.profileUrl;return r?a.createElement(I.a,W({},n,{href:r}),t):a.createElement("div",n,t)}}])&&G(n.prototype,r),o&&G(n,o),t}(),Z=n(675),ee=n(2056),te=n(23),ne=function(e){var t=e.className,n=void 0===t?"":t,r=e.color,o=void 0===r?"#979797":r,i=e.height,s=void 0===i?12:i,c=e.title,l=e.width,u=void 0===l?12:l;return a.createElement(te.a,{className:"icon-trash "+n,title:c,width:u,height:s,viewBox:"0 0 12 12"},a.createElement("g",{className:"fill-color",fill:o},a.createElement("path",{d:"M11.2 0H0l1.8 11c.1.5.6 1 1.2 1h6c.5 0 1.1-.4 1.2-1L12 0h-.8zm-2 10.9s-.1.1-.2.1H3c-.1 0-.2-.1-.2-.1L1.2 1h9.6l-1.6 9.9z"}),a.createElement("path",{d:"M8.5 2h-5c-.3 0-.5.2-.5.5s.2.5.5.5h5c.3 0 .5-.2.5-.5S8.8 2 8.5 2z"})))};ne.propTypes={className:A.a.string,color:A.a.string,height:A.a.number,title:A.a.oneOfType([A.a.string,A.a.node]),width:A.a.number};var re=ne;function oe(e){return(oe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=ie(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==oe(o)&&"function"!==typeof o?ce(r):o,le(ce(ce(n)),"state",{isConfirming:!1}),le(ce(ce(n)),"onDeleteConfirmedHandler",function(){var e=n.props,t=e.id;(0,e.onDelete)({id:t,permissions:e.permissions})}),le(ce(ce(n)),"handleFlyoutOpen",function(){n.setState({isConfirming:!0})}),le(ce(ce(n)),"handleFlyoutClose",function(){n.setState({isConfirming:!1})}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.intl,n=e.message;return a.createElement("div",{className:w()("bcs-comment-delete-container",{"bcs-is-confirming":this.state.isConfirming})},a.createElement(ee.a,{onClose:this.handleFlyoutClose,onOpen:this.handleFlyoutOpen,position:"middle-left"},a.createElement(Z.a,{"aria-label":t.formatMessage(g.a.deleteLabel),className:"bcs-comment-delete","data-resin-target":F.a.INLINE_DELETE},a.createElement(re,null)),a.createElement(ee.b,null,a.createElement("b",null,n),a.createElement("div",null,a.createElement(Z.a,{className:"lnk bcs-comment-delete-yes",onClick:this.onDeleteConfirmedHandler,type:"button"},a.createElement(d.b,g.a.commentDeleteConfirm))," / ",a.createElement(Z.a,{className:"lnk bcs-comment-delete-no",type:"button"},a.createElement(d.b,g.a.commentDeleteCancel))))))}}])&&ae(n.prototype,r),o&&ae(n,o),t}(),fe=Object(d.g)(ue),pe=function(e){var t=e.className,n=void 0===t?"":t,r=e.color,o=void 0===r?"#777777":r,i=e.height,s=void 0===i?13:i,c=e.title,l=e.width,u=void 0===l?13:l;return a.createElement(te.a,{className:"icon-pencil "+n,title:c,width:u,height:s,viewBox:"0 0 13 13"},a.createElement("path",{className:"fill-color",fill:o,d:"M12,1c-0.8-0.8-2.1-0.8-2.9,0L2,8.1c0,0,0,0-0.1,0.1l0,0c0,0,0,0,0,0.1l0,0L0.6,12c-0.1,0.2,0,0.4,0.2,0.5 c0.1,0,0.2,0,0.2,0l3.7-1.3l0,0c0,0,0,0,0.1,0l0,0c0,0,0,0,0.1-0.1l6.5-6.5l0,0L12,3.9C12.8,3.1,12.8,1.8,12,1z M4.6,10.2L2.8,8.4 l6-6l1.8,1.8L4.6,10.2z M2.4,9.1l1.5,1.5l-2.4,0.8L2.4,9.1z M11.5,3.4l-0.4,0.4L9.3,1.9l0.4-0.4c0.5-0.5,1.3-0.5,1.8,0 C12,2.1,12,2.9,11.5,3.4z"}))};pe.propTypes={className:A.a.string,color:A.a.string,height:A.a.number,title:A.a.oneOfType([A.a.string,A.a.node]),width:A.a.number};var de=pe;function ge(e){return(ge="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var be=function(e){function t(){var e,n,r,o,a,i,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return r=this,o=(e=he(t)).call.apply(e,[this].concat(l)),n=!o||"object"!==ge(o)&&"function"!==typeof o?ve(r):o,a=ve(ve(n)),s=function(){var e=n.props,t=e.id;(0,e.toEdit)({id:t})},(i="onEdit")in a?Object.defineProperty(a,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[i]=s,n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.onEdit;return a.createElement("div",{className:"bcs-comment-edit-container"},a.createElement(Z.a,{"aria-label":this.props.intl.formatMessage(g.a.editLabel),className:"bcs-comment-edit",onClick:e,type:"button","data-resin-target":F.a.INLINE_EDIT},a.createElement(de,null)))}}])&&me(n.prototype,r),o&&me(n,o),t}(),Ee=Object(d.g)(be),Se=n(1981),Oe=function(e){var t=e.action,n=e.message,r=e.title;return a.createElement(Se.a,{className:"bcs-comment-error",title:a.createElement(d.b,r)},a.createElement("div",null,a.createElement(d.b,n)),t?a.createElement(Z.a,{className:"lnk bcs-comment-error-action",onClick:t.onAction,type:"button"},t.text):null)},Ce=n(676);function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){o=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var we=/((?:[@\uff20\ufe6b]\[[0-9]+:[^\]]+])|(?:\b(?:(?:ht|f)tps?:\/\/)[\w\._\-]+(?::\d+)?(?:\/[\w\-_\.~\+\/#\?&%=:\[\]@!$'\(\)\*;,]*)?))/gim,_e=function(e,t,n,r){var o=e.split(we).map(function(e,o){var i="".concat(o,"-").concat(t),s=e.match(/([@\uff20\ufe6b])\[([0-9]+):([^\]]+)]/i);if(s){var c=ke(s,4),l=c[1],u=c[2],f=c[3];return n?"".concat(l).concat(f):a.createElement(Y,{id:u,name:"".concat(l).concat(f),"data-resin-target":F.a.MENTION,className:"bcs-comment-mention",getUserProfileUrl:r,key:i})}if(!n){var p=e.match(/((?:(?:ht|f)tps?:\/\/)[\w\._\-]+(?::\d+)?(?:\/[\w\-_\.~\+\/#\?&%=:\[\]@!$'\(\)\*;,]*)?)/i);if(p){var d=ke(p,2)[1];return a.createElement(I.a,{key:i,href:d},d)}}return e});return n?o.join(""):o},Te=function(e){var t=e.handleShowOriginal;return a.createElement(Z.a,{className:"bcs-comment-translate",onClick:t},a.createElement(d.b,g.a.commentShowOriginal))},xe=function(e){var t=e.handleTranslate;return a.createElement(Z.a,{className:"bcs-comment-translate",onClick:t},a.createElement(d.b,g.a.commentTranslate))};function Ae(e){return(Ae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=Me(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Ae(o)&&"function"!==typeof o?Re(r):o,Fe(Re(Re(n)),"state",{isLoading:!1,isTranslation:!1}),Fe(Re(Re(n)),"handleTranslate",function(e){var t=n.props,r=t.id,o=t.tagged_message,a=t.onTranslate,i=void 0===a?u.a:a;t.translatedTaggedMessage||(n.setState({isLoading:!0}),i({id:r,tagged_message:o})),n.setState({isTranslation:!0}),e.preventDefault()}),Fe(Re(Re(n)),"handleShowOriginal",function(e){n.setState({isTranslation:!1}),e.preventDefault()}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,a["Component"]),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=e.translatedTaggedMessage,n=e.translationFailed;(t||n)&&this.setState({isLoading:!1})}},{key:"getButton",value:function(e){return e?a.createElement(Te,{handleShowOriginal:this.handleShowOriginal}):a.createElement(xe,{handleTranslate:this.handleTranslate})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.tagged_message,r=e.translatedTaggedMessage,o=e.translationEnabled,i=e.getUserProfileUrl,s=this.state,c=s.isLoading,l=s.isTranslation,u=o&&l&&r?r:n;return c?a.createElement("div",{className:"bcs-comment-text-loading"},a.createElement(Ce.a,{size:"small"})):a.createElement("div",{className:"bcs-comment-text"},_e(u,t,!1,i),o?this.getButton(l):null)}}])&&De(n.prototype,r),o&&De(n,o),t}();Fe(je,"defaultProps",{translationEnabled:!1});var Ne=je,Ie=n(1987),Be=n(2209),Ke=n.n(Be),Le=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ue=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){var t=e.currentTarget;if(n.props.onChange){var r=Ke()(t,{hash:!0,empty:!0});n.props.onChange(r)}},n.onSubmit=function(e){var t=e.target;e.preventDefault();var r=t.checkValidity(),o=n.props,a=o.onInvalidSubmit,i=o.onValidSubmit,s=n.state.registeredInputs;if(r){i(Ke()(t,{hash:!0,empty:!0}))}else{var c=function(e){return[].slice.call(e.elements).reduce(function(e,t){if(t.name&&!t.validity.valid){var n=t.validity;return t.validity.customError&&(n.customErrorCode=t.validationMessage),e[t.name]={validityState:n},e}return e},{})}(t);Object.keys(c).forEach(function(e){return s[e]&&s[e](c[e].validityState)}),a&&a(c)}},n.registerInput=function(e,t){if(n.state.registeredInputs[e])throw new Error("Input '"+e+"' is already registered.");var r=n.state;r.registeredInputs[e]=t,n.setState(r)},n.unregisterInput=function(e){var t=n.state;delete t.registeredInputs[e],n.setState(t)},n.state={registeredInputs:{}},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Le(t,[{key:"getChildContext",value:function(){return{form:{registerInput:this.registerInput.bind(this),unregisterInput:this.unregisterInput.bind(this)}}}},{key:"componentWillUpdate",value:function(e,t){e.formValidityState&&Object.keys(e.formValidityState).forEach(function(n){t.registeredInputs[n]&&t.registeredInputs[n](e.formValidityState[n])})}},{key:"render",value:function(){var e=this.props.children;return i.a.createElement("form",{noValidate:!0,onChange:this.onChange,onSubmit:this.onSubmit},e)}}]),t}();Ue.propTypes={children:A.a.node,onChange:A.a.func,onValidSubmit:A.a.func.isRequired,onInvalidSubmit:A.a.func,formValidityState:A.a.object},Ue.childContextTypes={form:A.a.shape({registerInput:A.a.func.isRequired,unregisterInput:A.a.func.isRequired}).isRequired};var He=Ue,qe=n(2007),Ve=(n(2210),n(1986)),We=(n(2212),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ge=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){(0,n.props.onChange)(e)},n.handleBlur=function(e){(0,n.props.onBlur)(e)},n.handleReturn=function(e){var t=n.props,r=t.onReturn,o=t.inputProps;return r&&!o["aria-activedescendant"]&&r(e)?"handled":"not-handled"},n.state={error:e.error},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),ze(t,[{key:"render",value:function(){var e=this.props,t=e.editorState,n=e.error,r=e.hideLabel,o=e.inputProps,i=e.isDisabled,s=e.isRequired,c=e.label,l=e.onFocus,u=e.placeholder,f=this.handleBlur,p=this.handleChange,d=w()({"draft-js-editor":!0,"is-disabled":i,"show-error":!!n}),g={};return o.role&&(g={ariaActiveDescendantID:o["aria-activedescendant"],ariaAutoComplete:o["aria-autocomplete"],ariaExpanded:o["aria-expanded"],ariaOwneeID:o["aria-owns"],role:o.role}),a.createElement("div",{className:d},a.createElement(Ve.a,{text:c,showOptionalText:!s,hideLabel:r},a.createElement(R.b,{isShown:!!n,text:n?n.message:"",theme:"error",position:"bottom-left"},a.createElement("div",null,a.createElement(Ie.Editor,We({},g,{editorState:t,onBlur:f,onChange:p,onFocus:l,placeholder:u,readOnly:i,handleReturn:this.handleReturn,stripPastedStyles:!0}))))))}}]),t}();Ge.defaultProps={inputProps:{},isRequired:!1,isFocused:!1},Ge.propTypes={editorState:function(){return("function"===typeof Ie.bpfrpt_proptype_EditorState?Ie.bpfrpt_proptype_EditorState.isRequired?Ie.bpfrpt_proptype_EditorState.isRequired:Ie.bpfrpt_proptype_EditorState:A.a.shape(Ie.bpfrpt_proptype_EditorState).isRequired).apply(this,arguments)},error:A.a.object,hideLabel:A.a.bool,inputProps:A.a.object.isRequired,isDisabled:A.a.bool,isRequired:A.a.bool,label:A.a.node.isRequired,onBlur:A.a.func.isRequired,onFocus:A.a.func.isRequired,onChange:A.a.func.isRequired,onReturn:A.a.func,placeholder:A.a.string};var Qe=Ge,Xe=n(2025),Je=Object(d.f)({startMention:{id:"boxui.draftjs.mentionSelector.startMention",defaultMessage:"Mention someone to notify them"}}),$e=(n(2214),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ze=function(e){var t=e.item,n=void 0===t?{}:t,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["item"]);return a.createElement(qe.a,r,n.name," ",a.createElement("span",{className:"dropdown-secondary-text"},n.email))};Ze.propTypes={item:A.a.shape({name:A.a.string,email:A.a.string})};var et=function(e){var t=e.message;return a.createElement("div",{className:"mention-start-state"},t)};et.propTypes={message:A.a.node};var tt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleMention=function(){var e=n.props.onMention,t=n.state.activeMention;e&&e(t?t.mentionString:"")},n.handleContactSelected=function(e){var t=n.props.contacts;n.addMention(t[e]),n.setState({activeMention:null,isFocused:!0},function(){n.handleMention()})},n.handleBlur=function(e){var t=n.props.onBlur;n.setState({isFocused:!1}),t&&t(e)},n.handleFocus=function(e){var t=n.props.onFocus;n.setState({isFocused:!0}),t&&t(e)},n.handleChange=function(e){var t=n.props.onChange,r=n.getActiveMentionForEditorState(e);n.setState({activeMention:r},function(){t&&t(e),r&&r.mentionString&&n.handleMention()})},n.shouldDisplayMentionLookup=function(){var e=n.props.contacts,t=n.state.activeMention;return!!(t&&t.mentionString&&e.length)};var r=e.mentionTriggers.reduce(function(e,t){return e+"\\"+t},"");return n.state={activeMention:null,isFocused:!1,mentionPattern:new RegExp("(["+r+"])([^"+r+"]*)$")},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Ye(t,[{key:"componentWillReceiveProps",value:function(e,t){var n=e.contacts,r=this.props.contacts;null===t.activeMention||n.length||n===r||n.length===r.length||this.setState({activeMention:null})}},{key:"getActiveMentionForEditorState",value:function(e){var t=this.state.mentionPattern,n=e.getCurrentContent(),r=e.getSelection(),o=r.getStartKey(),a=n.getBlockForKey(o),i=r.getStartOffset(),s=null;return a.findEntityRanges(function(e){return null===e.getEntity()},function(e,n){if(e<=i&&i<=n){var r=a.getText().substr(e,i-e).match(t);r&&(s={blockID:o,mentionString:r[2],mentionTrigger:r[1],start:e+r.index,end:i})}return null}),s}},{key:"addMention",value:function(e){var t=this,n=this.state.activeMention,r=this.props.editorState,o=n||{},a=o.start,i=o.end,s=e.id,c=e.name,l=r.getCurrentContent(),u=r.getSelection().merge({anchorOffset:a,focusOffset:i}),f="@"+c,p=l.createEntity("MENTION","IMMUTABLE",{id:s}).getLastCreatedEntityKey(),d=Ie.Modifier.replaceText(l,u,f,null,p),g=u.getStartOffset()+f.length,m=u.merge({anchorOffset:g,focusOffset:g}),h=Ie.Modifier.insertText(d,m," "),y=Ie.EditorState.push(r,h,"change-block-type");this.setState({activeMention:null},function(){t.handleChange(y)})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.contacts,r=e.editorState,o=e.error,i=e.hideLabel,s=e.isDisabled,c=e.isRequired,l=e.label,u=e.onReturn,f=e.placeholder,p=e.selectorRow,d=e.startMentionMessage,g=e.onMention,m=this.state,h=m.activeMention,y=m.isFocused,v=w()("mention-selector-wrapper",t),b=!(!g||!h||h.mentionString||!y);return a.createElement("div",{className:v},a.createElement(Xe.a,{onSelect:this.handleContactSelected,selector:a.createElement(Qe,{editorState:r,error:o,hideLabel:i,isDisabled:s,isFocused:y,isRequired:c,label:l,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,onReturn:u,placeholder:f})},this.shouldDisplayMentionLookup()?n.map(function(e){return a.cloneElement(p,$e({},p.props,e,{key:e.id}))}):[]),b?a.createElement(et,{message:d}):null)}}]),t}();tt.defaultProps={className:"",contacts:[],isDisabled:!1,isRequired:!1,mentionTriggers:["@","\uff20","\ufe6b"],selectorRow:a.createElement(Ze,null),startMentionMessage:a.createElement(function(){return a.createElement(d.b,Je.startMention)},null)},tt.propTypes={className:A.a.string,contacts:A.a.arrayOf(A.a.shape({id:A.a.oneOfType([A.a.number,A.a.string]),name:A.a.string.isRequired})).isRequired,editorState:function(){return("function"===typeof Ie.EditorState?A.a.instanceOf(Ie.EditorState).isRequired:A.a.any.isRequired).apply(this,arguments)},error:A.a.object,hideLabel:A.a.bool,isDisabled:A.a.bool,isRequired:A.a.bool,label:A.a.node.isRequired,mentionTriggers:A.a.arrayOf(A.a.string).isRequired,onBlur:A.a.func,onChange:A.a.func,onFocus:A.a.func,onMention:A.a.func,onReturn:A.a.func,placeholder:A.a.string,selectorRow:A.a.node.isRequired,startMentionMessage:A.a.node};var nt=tt,rt=function(e){var t=e.contentState,n=e.entityKey,r=e.children,o=t.getEntity(n).getData().id;return a.createElement("a",{href:"/profile/"+o},r)};rt.propTypes={children:A.a.node.isRequired,contentState:function(){return("function"===typeof Ie.ContentState?A.a.instanceOf(Ie.ContentState).isRequired:A.a.any.isRequired).apply(this,arguments)},entityKey:A.a.string.isRequired};var ot=rt,at=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var it=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),at(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,n=e.onValidityStateUpdate;this.context.form&&this.context.form.registerInput(t,n)}},{key:"componentWillUnmount",value:function(){this.context.form&&this.context.form.unregisterInput(this.props.name)}},{key:"render",value:function(){return i.a.createElement("div",null,this.props.children)}}]),t}();it.propTypes={children:A.a.node.isRequired,onValidityStateUpdate:A.a.func.isRequired,name:A.a.string.isRequired},it.contextTypes={form:A.a.shape({registerInput:A.a.func.isRequired,unregisterInput:A.a.func.isRequired})};var st=it,ct=n(1985),lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ft=function(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"MENTION"===n.getEntity(t).getType()},t)},pt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleBlur=function(e){n.props.validateOnBlur&&n.containerEl&&e.relatedTarget instanceof Node&&!n.containerEl.contains(e.relatedTarget)&&n.checkValidity(),n.setState({hasReceivedFirstInteraction:!0})},n.handleFocus=function(e){var t=n.props.onFocus;t&&t(e)},n.handleChange=function(e){var t=n.state.internalEditorState,r=n.props.onChange;t?n.setState({internalEditorState:e},function(){r&&r(e),n.checkValidity()}):(r&&r(e),n.checkValidity())},n.handleValidityStateUpdateHandler=function(){if(n.state.hasReceivedFirstInteraction){var e=n.getErrorFromValidityState();n.setState({error:e})}},n.checkValidity=function(){n.handleValidityStateUpdateHandler()};var r=new Ie.CompositeDecorator([{strategy:ft,component:ot}]);return n.state={contacts:[],hasReceivedFirstInteraction:!1,internalEditorState:e.editorState?null:Ie.EditorState.createEmpty(r),error:null},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),ut(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.contacts;n&&this.setState({contacts:n},function(){t.checkValidity()})}},{key:"getErrorFromValidityState",value:function(){var e=this.props,t=e.editorState,n=e.isRequired,r=e.maxLength,o=e.minLength,a=(this.state.internalEditorState||t).getCurrentContent().getPlainText().trim().length;return n&&!a?{code:"valueMissing",message:i.a.createElement(d.b,ct.a.requiredFieldError)}:"undefined"!==typeof o&&a<o?function(e){return{code:"tooShort",message:i.a.createElement(d.b,lt({},ct.a.minLengthError,{values:{min:e}}))}}(o):"undefined"!==typeof r&&a>r?function(e){return{code:"tooLong",message:i.a.createElement(d.b,lt({},ct.a.maxLengthError,{values:{max:e}}))}}(r):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=void 0===n?"":n,o=t.editorState,i=t.hideLabel,s=t.isDisabled,c=t.isRequired,l=t.label,u=t.mentionTriggers,f=t.name,p=t.onMention,d=t.placeholder,g=t.selectorRow,m=t.startMentionMessage,h=t.onReturn,y=this.state,v=y.contacts,b=y.internalEditorState,E=y.error,S=this.handleBlur,O=this.handleChange,C=this.handleFocus,k=b||o;return a.createElement("div",{className:r,ref:function(t){e.containerEl=t}},a.createElement(st,{name:f,onValidityStateUpdate:this.handleValidityStateUpdateHandler},a.createElement(nt,{contacts:v,editorState:k,error:E,hideLabel:i,isDisabled:s,isRequired:c,label:l,mentionTriggers:u,onBlur:S,onChange:O,onFocus:C,onMention:p,onReturn:h,placeholder:d,selectorRow:g,startMentionMessage:m})))}}]),t}();pt.defaultProps={isRequired:!1,validateOnBlur:!0},pt.propTypes={className:A.a.string,contacts:A.a.arrayOf(A.a.shape({id:A.a.oneOfType([A.a.number,A.a.string]),name:A.a.string.isRequired})).isRequired,editorState:function(){return("function"===typeof Ie.EditorState?A.a.instanceOf(Ie.EditorState):A.a.any).apply(this,arguments)},hideLabel:A.a.bool,isDisabled:A.a.bool,isRequired:A.a.bool,label:A.a.node.isRequired,mentionTriggers:A.a.arrayOf(A.a.string),maxLength:A.a.number,minLength:A.a.number,name:A.a.string.isRequired,onChange:A.a.func,onFocus:A.a.func,onMention:A.a.func.isRequired,onReturn:A.a.func,placeholder:A.a.string,selectorRow:A.a.node,startMentionMessage:A.a.node,validateOnBlur:A.a.bool};var dt=pt,gt=new Ie.CompositeDecorator([{strategy:function(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"MENTION"===n.getEntity(t).getType()},t)},component:ot}]),mt=n(959);n(2216);var ht=function(e){var t=e.name,n=e.subtitle,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["name","subtitle"]);return a.createElement(qe.a,r,a.createElement("div",{className:"contact-text contact-name"},t),n&&a.createElement("div",{className:"contact-text contact-sub-name"},n))};ht.propTypes={name:A.a.node.isRequired,subtitle:A.a.node};var yt=ht,vt=n(2006);var bt=function(e){if(null===e||"undefined"===typeof e)return[];var t=e.match(/(".*?"|[^",\r\n]+)(?=\s*[,\r\n]|\s*$)/g);return t?t.map(function(e){for(e=e.trim();e.length>=2&&'"'===e.charAt(0)&&'"'===e.charAt(e.length-1);)e=e.substr(1,e.length-2);return e}):[]},Et=n(2027),St=n(2058),Ot=(n(2218),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Ct=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function kt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var wt=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=kt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={inputValue:""},r.parsePills=function(){var e=r.state.inputValue,t=r.props,n=t.parseItems,o=t.validator,a=n?n(e):bt(e);return a?(o&&(a=a.filter(function(e){return o(e)})),a.map(function(e){return{text:e,value:e}})):[]},r.addPillsFromInput=function(){var e=r.props,t=e.allowCustomPills,n=e.onInput,o=e.onSelect,a=e.selectedOptions,i=e.validateForError,s=r.state.inputValue;if(t){var c=r.parsePills();c.length>0?(o(c),r.setState({inputValue:""}),n("")):!i||""===s&&0!==a.length||i(s)}},r.handleBlur=function(){r.addPillsFromInput()},r.handleInput=function(e){var t=e.target.value;r.setState({inputValue:t}),r.props.onInput(t)},r.handleEnter=function(e){e.preventDefault(),r.addPillsFromInput()},r.handlePaste=function(){setTimeout(r.addPillsFromInput,0)},r.handleSelect=function(e,t){var n=r.props,o=n.onSelect,a=n.selectorOptions;o(["function"===typeof a.get?a.get(e):a[e]],t),r.handleInput({target:{value:""}})},kt(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Ct(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.disabled,o=e.error,a=e.inputProps,s=e.label,c=e.onRemove,l=e.placeholder,u=e.selectedOptions;return i.a.createElement(Xe.a,{className:w()("pill-selector-wrapper",n),onEnter:this.handleEnter,onSelect:this.handleSelect,selector:i.a.createElement(Ve.a,{text:s},i.a.createElement(St.a,Ot({},a,{disabled:r,error:o,onBlur:this.handleBlur,onInput:this.handleInput,onPaste:this.handlePaste,onRemove:c,placeholder:l,selectedOptions:u,value:this.state.inputValue})))},t)}}]),t}();wt.propTypes={allowCustomPills:A.a.bool,children:A.a.node,className:A.a.string,disabled:A.a.bool,error:A.a.node,inputProps:A.a.object.isRequired,label:A.a.node,onInput:A.a.func.isRequired,onRemove:A.a.func.isRequired,onSelect:A.a.func.isRequired,parseItems:A.a.func,placeholder:A.a.string.isRequired,selectedOptions:Et.a,selectorOptions:Et.a,validateForError:A.a.func,validator:A.a.func},wt.defaultProps={allowCustomPills:!1,disabled:!1,error:"",inputProps:{},label:"",placeholder:"",selectedOptions:[],selectorOptions:[]};var _t=wt;function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=Object(d.g)(function(e){var t=e.approvalDate,n=e.approvers,r=e.approverSelectorContacts,o=void 0===r?[]:r,i=e.approverSelectorError,s=e.onApprovalDateChange,c=e.onApproverSelectorInput,l=e.onApproverSelectorRemove,u=e.onApproverSelectorSelect,f=e.intl,p=o.filter(function(e){var t=e.id;return!n.find(function(e){return e.value===t})}).map(function(e){var t=e.id,n=e.item;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Tt(e,t,n[t])})}return e}({},n,{text:n.name,value:t})});return a.createElement("div",{className:"bcs-comment-add-approver-fields-container"},a.createElement(_t,{error:i,label:a.createElement(d.b,g.a.approvalAssignees),onInput:c,onRemove:l,onSelect:u,placeholder:f.formatMessage(g.a.approvalAddAssignee),selectedOptions:n,selectorOptions:p},p.map(function(e){var t=e.id,n=e.name,r=e.email;return a.createElement(yt,{key:t,name:n,subtitle:r})})),a.createElement(vt.a,{className:"bcs-comment-add-approver-date-input",label:a.createElement(d.b,g.a.approvalDueDate),minDate:new Date,name:"approverDateInput",placeholder:f.formatMessage(g.a.approvalSelectDate),onChange:s,value:t,inputProps:Tt({},F.c,F.a.TASK_DATE_PICKER)}))}),At=Object(d.g)(function(e){var t=e.approvalDate,n=e.approvers,r=e.approverSelectorContacts,o=e.approverSelectorError,i=e.isAddApprovalVisible,s=e.onApprovalDateChange,c=e.onApproverSelectorInput,l=e.onApproverSelectorRemove,u=e.onApproverSelectorSelect,f=e.intl;return a.createElement("div",{className:"bcs-comment-add-approver"},a.createElement(mt.a,{className:"bcs-comment-add-approver-checkbox","data-resin-target":F.a.APPROVAL_FORM_ADD_TASK,label:f.formatMessage(g.a.approvalAddTask),name:"addApproval",isChecked:i,tooltip:f.formatMessage(g.a.approvalAddTaskTooltip)}),i?a.createElement(xt,{approvalDate:t,approvers:n,approverSelectorContacts:r,approverSelectorError:o,onApproverSelectorInput:c,onApproverSelectorRemove:l,onApproverSelectorSelect:u,onApprovalDateChange:s}):null)}),Dt=n(71),Mt=n(147),Pt=function(e){var t=e.onCancel;return a.createElement("div",{className:"bcs-comment-input-controls"},a.createElement(Dt.a,{className:"bcs-comment-input-cancel-btn","data-resin-target":F.a.APPROVAL_FORM_CANCEL,onClick:t,type:"button"},a.createElement(d.b,g.a.commentCancel)),a.createElement(Mt.a,{className:"bcs-comment-input-submit-btn","data-resin-target":F.a.APPROVAL_FORM_POST},a.createElement(d.b,g.a.commentPost)))},Rt=function(e){var t=e.className,n=void 0===t?"":t,r=e.url,o=e.onError;return i.a.createElement("img",{alt:"",className:"avatar-image "+n,src:r,onError:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){"function"===typeof o&&o(e)})})};Rt.propTypes={className:A.a.string,url:A.a.string.isRequired,onError:A.a.func};var Ft=Rt,jt=["#18BBF7","#0D67C7","#052E5C","#747679","#FDA308","#98C332","#159F45","#B800B2","#F22C44"],Nt=function(e){var t=e.className,n=void 0===t?"":t,r=e.id,o=e.name,a=parseInt(r,10)||0,s=jt[a%jt.length];return i.a.createElement("span",{className:"avatar-initials "+n,style:{backgroundColor:s}},function(e){return e.slice(0,1)+e.slice(e.lastIndexOf(" ")+1,e.lastIndexOf(" ")+2)}(o))};Nt.propTypes={className:A.a.string,id:A.a.oneOfType([A.a.string,A.a.number]),name:A.a.string.isRequired};var It=Nt,Bt=n(50),Kt=n.n(Bt),Lt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ut(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Ht="unknown-user-avatar",qt=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Ut(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.idPrefix=Kt()(Ht)+"-",Ut(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["PureComponent"]),Lt(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.height,r=e.title,o=e.width;return a.createElement(te.a,{className:Ht+" "+t,height:n,title:r,viewBox:"0 0 28 28",width:o},a.createElement("defs",null,a.createElement("circle",{id:this.idPrefix+"a",cx:"14",cy:"14",r:"14"})),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("use",{className:"background-fill-color",fill:"#EDEDED",xlinkHref:"#"+this.idPrefix+"a"}),a.createElement("path",{className:"fill-color",fill:"#C3C3C3",d:"M5.5 25.1C6.7 21 10 18 14 18s7.3 3 8.5 7.1a14 14 0 0 1-17 0zM14 16a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"})))}}]),t}();qt.defaultProps={className:"",height:28,width:28},qt.propTypes={className:A.a.string.isRequired,height:A.a.number,title:A.a.oneOfType([A.a.string,A.a.node]),width:A.a.number};var Vt=qt,Wt=(n(2220),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());function zt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Gt=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=zt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={hasImageErrored:!1},r.onImageError=function(){r.setState({hasImageErrored:!0})},zt(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["PureComponent"]),Wt(t,[{key:"componentWillReceiveProps",value:function(e){this.state.hasImageErrored&&this.props.avatarUrl!==e.avatarUrl&&this.setState({hasImageErrored:!1})}},{key:"render",value:function(){var e=this.props,t=e.avatarUrl,n=e.className,r=void 0===n?"":n,o=e.name,i=e.id,s=this.state.hasImageErrored,c=void 0;return c=t&&!s?a.createElement(Ft,{url:t,onError:this.onImageError}):o?a.createElement(It,{id:i,name:o}):a.createElement(Vt,{className:"avatar-icon"}),a.createElement("span",{className:"avatar "+r,role:"presentation"},c)}}]),t}();Gt.propTypes={avatarUrl:A.a.string,className:A.a.string,id:A.a.oneOfType([A.a.string,A.a.number]),name:A.a.string};var Qt=Gt;function Xt(e){return(Xt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tn=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=$t(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Xt(o)&&"function"!==typeof o?Zt(r):o,en(Zt(Zt(n)),"state",{avatarUrl:null}),en(Zt(Zt(n)),"getAvatarUrlHandler",function(e){n.setState({avatarUrl:e})}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(t,a["PureComponent"]),n=t,(r=[{key:"getAvatarUrl",value:function(){var e=this.props,t=e.user,n=e.getAvatarUrl;return(n?n(t.id):Promise.resolve(t.avatar_url)).then(this.getAvatarUrlHandler)}},{key:"componentDidMount",value:function(){this.getAvatarUrl()}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.className,r=this.state.avatarUrl,o=t.id,i=t.name;return a.createElement(Qt,{className:n,id:o,name:i,avatarUrl:r})}}])&&Jt(n.prototype,r),o&&Jt(n,o),t}();function nn(e){return(nn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e,t){return(an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ln=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=on(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==nn(o)&&"function"!==typeof o?sn(r):o,cn(sn(sn(n)),"state",{approvalDate:null,approvers:[],approverSelectorError:"",commentEditorState:Ie.EditorState.createWithContent(Ie.ContentState.createFromText(n.props.tagged_message||""),gt),isAddApprovalVisible:!1}),cn(sn(sn(n)),"onFormChangeHandler",function(e){return n.setState({isAddApprovalVisible:"on"===e.addApproval})}),cn(sn(sn(n)),"onFormValidSubmitHandler",function(e){var t=n.props,r=t.createComment,o=void 0===r?u.a:r,a=t.createTask,i=void 0===a?u.a:a,s=t.intl,c=t.updateTask,l=void 0===c?u.a:c,f=t.onSubmit,p=t.entityId,d=n.getFormattedCommentText(),g=d.text,m=d.hasMention;if(g){if("on"===e.addApproval){var h=n.state,y=h.approvers,v=h.approvalDate;if(0===y.length)return void n.setState({approverSelectorError:s.formatMessage(ct.a.requiredFieldError)});i({text:g,assignees:y,dueAt:v})}else p?l({text:g,id:p}):o({text:g,hasMention:m});f&&f(),n.setState({commentEditorState:Ie.EditorState.createEmpty(gt),isAddApprovalVisible:!1,approvalDate:null,approvers:[]})}}),cn(sn(sn(n)),"onMentionSelectorChangeHandler",function(e){return n.setState({commentEditorState:e})}),cn(sn(sn(n)),"onApprovalDateChangeHandler",function(e){e&&e.setHours(23,59,59,999),n.setState({approvalDate:e})}),cn(sn(sn(n)),"getFormattedCommentText",function(){var e=n.state.commentEditorState.getCurrentContent(),t=e.getBlockMap(),r=[],o=!1;return t.forEach(function(t){var n=t.getText(),a=[];t.findEntityRanges(function(){return!0},function(r,i){var s=t.getEntityAt(r);if(s){var c=e.getEntity(s),l="@[".concat(c.getData().id,":").concat(n.substring(r+1,i),"]");a.push(l),o=!0}else a.push(n.substring(r,i))}),r.push(a.join(""))}),{text:r.join("\n"),hasMention:o}}),cn(sn(sn(n)),"handleApproverSelectorInput",function(e){var t=n.props.getApproverWithQuery;(void 0===t?u.a:t)(e),n.setState({approverSelectorError:""})}),cn(sn(sn(n)),"scrollApproverSelector",function(){var e=document.querySelector(".bcs-comment-add-approver-fields-container .pill-selector-input-wrapper");e&&(e.scrollTop=e.scrollHeight)}),cn(sn(sn(n)),"handleApproverSelectorSelect",function(e){n.setState({approvers:n.state.approvers.concat(e)},n.scrollApproverSelector)}),cn(sn(sn(n)),"handleApproverSelectorRemove",function(e,t){var r=n.state.approvers.slice();r.splice(t,1),n.setState({approvers:r})}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&an(e,t)}(t,a["Component"]),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=e.isOpen;t===this.props.isOpen||t||this.setState({commentEditorState:Ie.EditorState.createEmpty(gt),isAddApprovalVisible:!1})}},{key:"render",value:function(){var e=this.props,t=e.approverSelectorContacts,n=e.className,r=e.createTask,o=e.getMentionWithQuery,i=e.intl.formatMessage,s=e.isDisabled,c=e.isOpen,l=e.mentionSelectorContacts,u=void 0===l?[]:l,f=e.onCancel,p=e.onFocus,m=e.user,h=e.isEditing,v=e.tagged_message,b=e.getAvatarUrl,E=this.state,S=E.approvalDate,O=E.approvers,C=E.approverSelectorError,k=E.commentEditorState,_=E.isAddApprovalVisible,T=w()("bcs-comment-input-container",n,{"bcs-comment-input-is-open":c});return a.createElement("div",{className:T},!h&&a.createElement("div",{className:"bcs-avatar-container"},a.createElement(tn,{getAvatarUrl:b,user:m})),a.createElement("div",{className:"bcs-comment-input-form-container"},a.createElement(He,{onChange:this.onFormChangeHandler,onValidSubmit:this.onFormValidSubmitHandler},a.createElement(dt,{className:"bcs-comment-input",contacts:c?u:[],editorState:k,hideLabel:!0,isDisabled:s,isRequired:c,name:"commentText",label:"Comment",onChange:this.onMentionSelectorChangeHandler,onFocus:p,onMention:o,placeholder:v?null:i(g.a.commentWrite),validateOnBlur:!1}),a.createElement("aside",{className:w()("bcs-at-mention-tip",{"accessibility-hidden":c})},a.createElement(d.b,g.a.atMentionTip)),r?a.createElement(y.FeatureFlag,{feature:"activityFeed.tasks.createFromComment"},a.createElement(At,{approvalDate:S,approvers:O,approverSelectorContacts:t,approverSelectorError:C,formatMessage:i,isAddApprovalVisible:_,onApprovalDateChange:this.onApprovalDateChangeHandler,onApproverSelectorInput:this.handleApproverSelectorInput,onApproverSelectorRemove:this.handleApproverSelectorRemove,onApproverSelectorSelect:this.handleApproverSelectorSelect})):null,a.createElement(Pt,{onCancel:f}))))}}])&&rn(n.prototype,r),o&&rn(n,o),t}();cn(ln,"defaultProps",{isOpen:!1});var un=Object(d.g)(ln),fn=n(3);function pn(e){return(pn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(){return(dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bn=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=mn(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==pn(o)&&"function"!==typeof o?yn(r):o,vn(yn(yn(n)),"state",{isEditing:!1,isFocused:!1,isInputOpen:!1}),vn(yn(yn(n)),"onKeyDown",function(e){e.nativeEvent.stopImmediatePropagation()}),vn(yn(yn(n)),"approvalCommentFormFocusHandler",function(){return n.setState({isInputOpen:!0})}),vn(yn(yn(n)),"approvalCommentFormCancelHandler",function(){return n.setState({isInputOpen:!1,isEditing:!1})}),vn(yn(yn(n)),"approvalCommentFormSubmitHandler",function(){return n.setState({isInputOpen:!1,isEditing:!1})}),vn(yn(yn(n)),"updateTaskHandler",function(e){var t=n.props.onEdit;(void 0===t?u.a:t)(e),n.approvalCommentFormSubmitHandler()}),vn(yn(yn(n)),"toEdit",function(){return n.setState({isEditing:!0,isInputOpen:!0})}),vn(yn(yn(n)),"handleCommentFocus",function(){n.setState({isFocused:!0})}),vn(yn(yn(n)),"handleCommentBlur",function(){n.setState({isFocused:!1})}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.created_by,n=e.created_at,r=e.permissions,o=e.id,i=e.inlineDeleteMessage,s=void 0===i?g.a.commentDeletePrompt:i,c=e.isPending,l=e.error,u=e.onDelete,f=e.onEdit,p=e.tagged_message,m=void 0===p?"":p,h=e.translatedTaggedMessage,y=e.translations,v=e.currentUser,b=e.isDisabled,E=e.getAvatarUrl,S=e.getUserProfileUrl,O=e.getMentionWithQuery,k=e.mentionSelectorContacts,_=this.toEdit,T=this.state,x=T.isEditing,A=T.isFocused,D=T.isInputOpen,M=new Date(n).getTime(),j=C()(r,"can_delete",!1),N=C()(r,"can_edit",!1),I=t||fn.yd;return a.createElement("div",{className:"bcs-comment-container"},a.createElement("div",{className:w()("bcs-comment",{"bcs-is-pending":c||l,"bcs-is-focused":A}),onBlur:this.handleCommentBlur,onFocus:this.handleCommentFocus},a.createElement(tn,{className:"bcs-comment-avatar",getAvatarUrl:E,user:I}),a.createElement("div",{className:"bcs-comment-content"},a.createElement("div",{className:"bcs-comment-headline"},a.createElement(Y,{className:"bcs-comment-user-name","data-resin-target":F.a.PROFILE,id:I.id,name:I.name,getUserProfileUrl:S}),a.createElement(R.b,{text:a.createElement(d.b,dn({},g.a.commentPostedFullDateTime,{values:{time:M}}))},a.createElement("small",{className:"bcs-comment-created-at"},a.createElement(P,{timestamp:M,relativeThreshold:36e5}))),f&&N&&!c?a.createElement(Ee,{id:o,toEdit:_}):null,u&&j&&!c?a.createElement(fe,{id:o,permissions:r,message:a.createElement(d.b,s),onDelete:u}):null),x?a.createElement(un,{onSubmit:function(){},isDisabled:b,className:w()("bcs-activity-feed-comment-input",{"bcs-is-disabled":b}),updateTask:this.updateTaskHandler,isOpen:D,user:v,onCancel:this.approvalCommentFormCancelHandler,onFocus:this.approvalCommentFormFocusHandler,isEditing:x,entityId:o,tagged_message:_e(m,o,!0,S),getAvatarUrl:E,mentionSelectorContacts:k,getMentionWithQuery:O}):null,x?null:a.createElement(Ne,dn({id:o,tagged_message:m,translatedTaggedMessage:h},y,{translationFailed:!!l||null,getUserProfileUrl:S})))),l?a.createElement(Oe,l):null)}}])&&gn(n.prototype,r),o&&gn(n,o),t}(),En=n(87),Sn=n(395),On=function(e){var t=e.name;return a.createElement("div",{className:"bcs-task-completed-assignment"},a.createElement("div",{className:"bcs-task-assignment-name"},t),a.createElement("div",{className:"bcs-task-assignment-actions"},a.createElement(Sn.a,{className:"bcs-task-check-icon",height:18,title:a.createElement(d.b,g.a.completedAssignment),width:18})))},Cn=n(185),kn=function(e){var t=e.name,n=e.onTaskApproval,r=e.onTaskReject,o=e.shouldShowActions;return a.createElement("div",{className:"bcs-task-pending-assignment"},a.createElement("div",{className:"bcs-task-assignment-name"},t),o?a.createElement("div",{className:"bcs-task-assignment-actions"},a.createElement(R.b,{position:"bottom-center",text:a.createElement(d.b,g.a.taskApprove)},a.createElement(Z.a,{className:"bcs-task-check-btn",onClick:n,"data-resin-target":F.a.TASK_APPROVE},a.createElement(Sn.a,{className:"bcs-task-check-icon",height:18,width:18}))),a.createElement(R.b,{position:"bottom-center",text:a.createElement(d.b,g.a.taskReject)},a.createElement(Z.a,{className:"bcs-task-x-btn",onClick:r,"data-resin-target":F.a.TASK_REJECT},a.createElement(Cn.a,{className:"bcs-task-x-icon",height:18,width:18})))):null)},wn=function(e){var t=e.name;return a.createElement("div",{className:"bcs-task-rejected-assignment"},a.createElement("div",{className:"bcs-task-assignment-name"},t),a.createElement("div",{className:"bcs-task-assignment-actions"},a.createElement(Cn.a,{className:"bcs-task-x-icon",height:18,title:a.createElement(d.b,g.a.rejectedAssignment),width:18})))};function _n(e){return(_n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(){return(Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t){return!t||"object"!==_n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mn(e,t){return(Mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),An(this,Dn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mn(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.task_assignment_collection,n=e.created_at,r=e.created_by,o=e.currentUser,i=e.due_at,s=e.error,c=e.id,l=e.isPending,f=e.onDelete,p=e.onEdit,m=e.onAssignmentUpdate,h=void 0===m?u.a:m,y=e.message,v=e.translatedTaggedMessage,b=e.translations,E=e.getAvatarUrl,S=e.getUserProfileUrl,O=e.getMentionWithQuery,C=e.mentionSelectorContacts,k=o&&r&&r.id===o.id,_={can_edit:k,can_delete:k};return a.createElement("div",{className:w()("bcs-task",{"bcs-is-pending":l||s})},a.createElement(bn,{created_at:n,created_by:r,currentUser:o,error:s,id:c,inlineDeleteMessage:g.a.taskDeletePrompt,isPending:l,onDelete:f,onEdit:p,permissions:_,tagged_message:y,translatedTaggedMessage:v,translations:b,getAvatarUrl:E,getUserProfileUrl:S,mentionSelectorContacts:C,getMentionWithQuery:O}),a.createElement("div",{className:"bcs-task-approvers-container"},a.createElement("div",{className:"bcs-task-approvers-header"},a.createElement("strong",null,a.createElement(d.b,g.a.tasksForApproval)),i?a.createElement("span",{className:"bcs-task-due-date"},a.createElement(d.b,g.a.taskDueDate),a.createElement(d.a,{value:i,day:"numeric",month:"long",year:"numeric"})):null),a.createElement("div",{className:"bcs-task-assignees"},t&&t.entries?t.entries.map(En.i).map(function(e){var t=e.id,n=e.assigned_to;switch(e.status){case fn.be:case fn.ae:return a.createElement(On,Tn({},n,{key:n.id}));case fn.de:return a.createElement(wn,Tn({},n,{key:n.id}));case fn.ce:return a.createElement(kn,Tn({},n,{key:n.id,onTaskApproval:l?u.a:function(){return h(c,t,fn.ae)},onTaskReject:l?u.a:function(){return h(c,t,fn.de)},shouldShowActions:h!==u.a&&o&&n.id===o.id}));default:return null}}):null)))}}])&&xn(n.prototype,r),o&&xn(n,o),t}(),Rn=function(e){var t=e.className,n=void 0===t?"":t,r=e.color,o=void 0===r?"#000000":r,i=e.height,s=void 0===i?18:i,c=e.title,l=e.width,u=void 0===l?18:l;return a.createElement(te.a,{className:"icon-info-inverted "+n,title:c,width:u,height:s,viewBox:"0 0 18 18"},a.createElement("path",{className:"fill-color",fill:o,fillRule:"evenodd",d:"M8.1 13.5h1.8V8.1H8.1v5.4zM9 0C4.05 0 0 4.05 0 9s4.05 9 9 9 9-4.05 9-9-4.05-9-9-9zm0 16.2c-3.96 0-7.2-3.24-7.2-7.2S5.04 1.8 9 1.8s7.2 3.24 7.2 7.2-3.24 7.2-7.2 7.2zm-.9-9.9h1.8V4.5H8.1v1.8z"}))};Rn.propTypes={className:A.a.string,color:A.a.string,height:A.a.number,title:A.a.oneOfType([A.a.string,A.a.node]),width:A.a.number};var Fn=Rn;function jn(){return(jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Nn=Object(d.g)(function(e){var t=e.action,n=e.collaborators,r=e.intl,o=e.onInfo,i=e.versions,s=e.version_start,c=e.version_end;return a.createElement("div",{className:"bcs-collapsed-version"},a.createElement("span",{className:"bcs-version-message"},function(e,t,n,r){if("upload"!==e)return null;var o=Object.keys(t),i=o.length,s=a.createElement("span",{className:"bcs-version-range"},n," - ",r);if(1===i){var c=t[o[0]];return a.createElement(d.b,jn({},g.a.versionUploadCollapsed,{values:{name:a.createElement("strong",null,c.name),versions:s}}))}return a.createElement(d.b,jn({},g.a.versionMultipleUsersUploaded,{values:{numberOfCollaborators:i,versions:s}}))}(t,n,s,c)),o?a.createElement("span",{className:"bcs-version-actions"},a.createElement(Z.a,{"aria-label":r.formatMessage(g.a.getVersionInfo),className:"bcs-version-info",onClick:function(){o({versions:i})},type:"button","data-resin-target":F.a.VERSION_CARD},a.createElement(Fn,{height:16,width:16}))):null)});function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Bn=Object(d.g)(function(e){var t=e.action,n=e.modified_by,r=e.id,o=e.intl,i=e.onInfo,s=e.version_number,c=n||fn.yd;return a.createElement("div",{className:"bcs-version"},a.createElement("span",{className:"bcs-version-message"},function(e,t,n){switch(t){case fn.me:return a.createElement(d.b,In({},g.a.versionUploaded,{values:{name:a.createElement("strong",null,e),version_number:n}}));case fn.ke:return a.createElement(d.b,In({},g.a.versionDeleted,{values:{name:a.createElement("strong",null,e),version_number:n}}));case fn.le:return a.createElement(d.b,In({},g.a.versionRestored,{values:{name:a.createElement("strong",null,e),version_number:n}}));default:return null}}(c.name,t,s)),i?a.createElement("span",{className:"bcs-version-actions"},a.createElement(Z.a,{"aria-label":o.formatMessage(g.a.getVersionInfo),className:"bcs-version-info",onClick:function(){i({id:r,version_number:s})},type:"button","data-resin-target":F.a.VERSION_CARD},a.createElement(Fn,{height:16,width:16}))):null)});function Kn(){return(Kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ln=function(e){var t=e.words;return a.createElement("span",{className:"bcs-keywords-actions"},a.createElement(R.b,{className:"bcs-keywords-actions-tooltip",position:"bottom-left",text:a.createElement(d.b,Kn({},g.a.keywordsList,{values:{words:t}}))},a.createElement("div",{className:"bcs-keywords-info"},a.createElement(Fn,{height:16,width:16}))))};var Un=function(e){var t=e.action,n=e.words;return a.createElement("div",{className:"bcs-keywords"},a.createElement("span",{className:"bcs-keywords-message"},function(e){switch(e){case"applied":return a.createElement(d.b,g.a.keywordsApplied);default:return null}}(t)),n?a.createElement(Ln,{words:n}):null)},Hn=n(2e3);function qn(){return(qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Vn=Object(Hn.a)(function(e){var t=e.currentUser,n=e.items,r=e.onCommentDelete,o=e.onTaskDelete,i=e.onTaskEdit,s=e.onTaskAssignmentUpdate,c=e.onVersionInfo,l=e.translations,u=e.getAvatarUrl,f=e.getUserProfileUrl,p=e.getMentionWithQuery,d=e.mentionSelectorContacts;return a.createElement("ul",{className:"bcs-activity-feed-active-state"},n.map(function(e){var n=e.type,g=e.id,m=e.versions,h=e.permissions;switch(n){case"comment":return a.createElement("li",{className:"bcs-activity-feed-comment",key:n+g},a.createElement(bn,qn({},e,{currentUser:t,onDelete:r,translations:l,getAvatarUrl:u,getUserProfileUrl:f,permissions:{can_delete:C()(h,"can_delete",!1),can_edit:C()(h,"can_edit",!1)}})));case"task":return e.task_assignment_collection.total_count?a.createElement("li",{className:"bcs-activity-feed-task",key:n+g},a.createElement(Pn,qn({},e,{currentUser:t,onDelete:o,onEdit:i,onAssignmentUpdate:s,translations:l,getAvatarUrl:u,getUserProfileUrl:f,mentionSelectorContacts:d,getMentionWithQuery:p,permissions:{can_delete:!0,can_edit:!0}}))):null;case"file_version":return a.createElement("li",{className:"bcs-version-item",key:n+g},m?a.createElement(Nn,qn({},e,{onInfo:c})):a.createElement(Bn,qn({},e,{onInfo:c})));case"keywords":return a.createElement("li",{className:"bcs-keywords-item",key:n+g},a.createElement(Un,e));default:return null}}))}),Wn=n(116),zn=function(e){var t=e.className,n=void 0===t?"":t,r=e.width,o=void 0===r?90:r,i=e.height,s=void 0===i?90:i;return a.createElement(te.a,{className:"bcs-activity-feed-empty-state-illustration ".concat(n),width:o,height:s,viewBox:"0 0 90 90"},a.createElement("path",{d:"M12.06 40.71v-.4a.31.31 0 0 0-.31-.31.31.31 0 0 0-.31.31v.4a.51.51 0 0 0-.23.23h-.4a.31.31 0 0 0-.31.31.31.31 0 0 0 .31.31h.4a.51.51 0 0 0 .23.23v.4a.31.31 0 0 0 .62 0v-.41a.57.57 0 0 0 .23-.23h.4a.31.31 0 0 0 .31-.31.31.31 0 0 0-.31-.31h-.4a.51.51 0 0 0-.23-.22zm74 25v-.4a.31.31 0 0 0-.31-.31.31.31 0 0 0-.31.31v.4a.51.51 0 0 0-.23.23h-.4a.31.31 0 0 0-.31.31.31.31 0 0 0 .31.31h.4a.61.61 0 0 0 .22.23v.4a.32.32 0 0 0 .32.31.31.31 0 0 0 .31-.3v-.41a.57.57 0 0 0 .23-.23h.4a.31.31 0 0 0 0-.62h-.4a.51.51 0 0 0-.23-.23zm-4-7v-.4a.31.31 0 0 0-.31-.31.31.31 0 0 0-.31.31v.4a.51.51 0 0 0-.23.23h-.4a.31.31 0 0 0-.31.31.31.31 0 0 0 .31.31h.4a.51.51 0 0 0 .23.23v.4a.31.31 0 0 0 .62 0v-.41a.63.63 0 0 0 .23-.23h.4a.31.31 0 0 0 0-.62h-.4a.51.51 0 0 0-.23-.23zM5.5 48.13v-.64A.5.5 0 0 0 5 47a.49.49 0 0 0-.5.49v.64a1.09 1.09 0 0 0-.37.37h-.64A.5.5 0 0 0 3 49a.49.49 0 0 0 .49.5h.64a1.09 1.09 0 0 0 .37.37v.64a.5.5 0 0 0 1 0v-.63a1.09 1.09 0 0 0 .37-.37h.64A.5.5 0 0 0 7 49a.49.49 0 0 0-.49-.5h-.64a1.09 1.09 0 0 0-.37-.37zm67 32v-.64A.5.5 0 0 0 72 79a.49.49 0 0 0-.5.49v.64a1.09 1.09 0 0 0-.37.37h-.64a.5.5 0 0 0-.49.5.49.49 0 0 0 .49.5h.64a1.09 1.09 0 0 0 .37.37v.64a.5.5 0 0 0 1 0v-.63a1 1 0 0 0 .37-.36h.64A.5.5 0 0 0 74 81a.49.49 0 0 0-.49-.5h-.64a1.09 1.09 0 0 0-.37-.37zm-63-56v-.64A.5.5 0 0 0 9 23a.49.49 0 0 0-.5.49v.64a1.09 1.09 0 0 0-.37.37h-.64A.5.5 0 0 0 7 25a.49.49 0 0 0 .49.5h.64a1.09 1.09 0 0 0 .37.37v.64a.5.5 0 0 0 1 0v-.63a1 1 0 0 0 .37-.36h.64A.5.5 0 0 0 11 25a.49.49 0 0 0-.49-.5h-.64a1.09 1.09 0 0 0-.37-.37zm16-20v-.64A.5.5 0 0 0 25 3a.49.49 0 0 0-.5.49v.64a1.09 1.09 0 0 0-.37.37h-.64A.5.5 0 0 0 23 5a.49.49 0 0 0 .49.5h.64a1.09 1.09 0 0 0 .37.37v.64a.5.5 0 0 0 1 0v-.65a1 1 0 0 0 .37-.36h.64A.5.5 0 0 0 27 5a.49.49 0 0 0-.49-.5h-.64a1.09 1.09 0 0 0-.37-.37zM44.46 27.21a3.12 3.12 0 1 1 3.1-3.11 3.11 3.11 0 0 1-3.1 3.11zm0-4.23a1.12 1.12 0 1 0 1.1 1.12 1.12 1.12 0 0 0-1.1-1.1zM54.28 27.2a3.11 3.11 0 1 1 3.1-3.11 3.11 3.11 0 0 1-3.1 3.11zm0-4.22a1.11 1.11 0 1 0 1.1 1.11 1.11 1.11 0 0 0-1.1-1.09zM64.09 27.2a3.11 3.11 0 1 1 3.11-3.11 3.1 3.1 0 0 1-3.11 3.11zm0-4.22a1.11 1.11 0 1 0 1.11 1.11A1.11 1.11 0 0 0 64.09 23z",fill:"#0061d5"}),a.createElement("path",{d:"M60.75 39.24c8 0 14.57-6.92 14.57-15.46S68.8 8.33 60.75 8.33c-1.35 0 9.78 5.07 9.27 15.45-.69 14.11-14.18 15.46-9.27 15.46zM21.73 59v-.7s2.5 2.46 5.34 1.68c1.57-.42 4.23 2.16 6.83 1.91 2.13-.21 4.72-2.7 4.72-2.7v2.05a4 4 0 0 1-4 4h-8.89a4 4 0 0 1-4-4V59z",fill:"#1891d3",opacity:".1"}),a.createElement("path",{d:"M54.45 3.4c-13.89 0-24 8.69-24 20.66a21.19 21.19 0 0 0 .17 2.41h-4a8.15 8.15 0 0 0-8.13 8v14a1 1 0 0 0-.45.81v1.22h-1.53v-2.14a1 1 0 0 0-1-1 4.1 4.1 0 0 0-1 8.08v5.81a11.67 11.67 0 0 0 11.66 11.66h1.23v7.34h-4.34a1 1 0 0 0-1 1v4.44a1 1 0 0 0 1 1h14.22a1 1 0 0 0 1-1v-4.44a1 1 0 0 0-1-1H33v-7.34h1.23a11.67 11.67 0 0 0 11.61-11.66v-5.81a4.1 4.1 0 0 0-1-8.08 1 1 0 0 0-1 1v2.11h-1.56v-1.22a1 1 0 0 0-.44-.81v-6.72A24.69 24.69 0 0 0 55 43.44a4.56 4.56 0 0 1-.53 1.25 6.88 6.88 0 0 0-1 3.1 1.21 1.21 0 0 0 1 1.24h.17c2 0 7.65-4.38 9.14-6.55a18.42 18.42 0 0 0 14.64-18.42c0-11.97-10.08-20.66-23.97-20.66zM36.28 84.69H24.06v-2.44h12.22zm-6.88-4.44v-7.33H31v7.33zm-2.75-51.78h7a6.16 6.16 0 0 1 6 5h-6a1 1 0 1 0 0 2h6.11v3h-6.03a1 1 0 1 0 0 2h6.11v3h-6.11a1 1 0 1 0 0 2h6.11v2.78H20.51v-2.78h6.11a1 1 0 1 0 0-2h-6.11v-3h6.11a1 1 0 1 0 0-2h-6.11v-3h6.11a1 1 0 1 0 0-2h-6a6.16 6.16 0 0 1 6.03-5zm13.63 21.78v2.44H20.06v-2.44zm-19.77 4.44h19.33v5.64a6.15 6.15 0 0 1-6.15 6.14h-7a6.14 6.14 0 0 1-6.14-6.14zm-7.11-3.22a2.12 2.12 0 0 1 1.11-1.86v3.72a2.12 2.12 0 0 1-1.11-1.86zm33.55 0a2.12 2.12 0 0 1-1.11 1.86v-3.72A2.12 2.12 0 0 1 47 51.47zm-3.11 1v8.78a9.67 9.67 0 0 1-9.66 9.66h-8a9.67 9.67 0 0 1-9.66-9.66v-8.78h1.55v1.22a1 1 0 0 0 .45.81v5.83a8.15 8.15 0 0 0 8.14 8.14h7a8.16 8.16 0 0 0 8.15-8.14V54.5a1 1 0 0 0 .44-.81v-1.22zM63 40.6a1.05 1.05 0 0 0-.79.68c-.33.94-4.37 4.16-6.48 5.34.14-.34.31-.68.48-1 .57-1.09 1.34-2.59.11-3.95a1 1 0 0 0-.74-.32h-.15a22.65 22.65 0 0 1-13.59-1.85v-4.88-.12a8.15 8.15 0 0 0-8.14-8h-1a17.29 17.29 0 0 1-.19-2.41c0-11 9-18.66 22-18.66s22 7.67 22 18.66A16.24 16.24 0 0 1 63 40.6z",fill:"#0061d5"}))},Gn=function(e){var t=e.isLoading,n=e.showCommentMessage;return a.createElement("div",{className:"bcs-activity-feed-empty-state"},a.createElement(zn,null),t?a.createElement(Wn.b,null):a.createElement("div",{className:"bcs-empty-state-cta"},a.createElement(d.b,g.a.noActivity),n?a.createElement("aside",null,a.createElement(d.b,g.a.noActivityCommentPrompt)):null))};function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xn(e,t,n[t])})}return e}function Xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jn={fileVersion:"file_version",upload:"upload"};function $n(e){return($n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(){return(Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var or=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=er(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==$n(o)&&"function"!==typeof o?nr(r):o,rr(nr(nr(n)),"state",{isInputOpen:!1}),rr(nr(nr(n)),"isEmpty",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=e.currentUser,r=e.feedItems;return!t||!r||0===r.length||1===r.length&&r[0].type===Jn.fileVersion}),rr(nr(nr(n)),"resetFeedScroll",function(){n.feedContainer&&(n.feedContainer.scrollTop=n.feedContainer.scrollHeight)}),rr(nr(nr(n)),"onKeyDown",function(e){e.nativeEvent.stopImmediatePropagation()}),rr(nr(nr(n)),"approvalCommentFormFocusHandler",function(){n.resetFeedScroll(),n.setState({isInputOpen:!0})}),rr(nr(nr(n)),"approvalCommentFormCancelHandler",function(){return n.setState({isInputOpen:!1})}),rr(nr(nr(n)),"approvalCommentFormSubmitHandler",function(){return n.setState({isInputOpen:!1})}),rr(nr(nr(n)),"onCommentCreate",function(e){var t=e.text,r=e.hasMention,o=n.props.onCommentCreate;(void 0===o?u.a:o)(t,r),n.approvalCommentFormSubmitHandler()}),rr(nr(nr(n)),"onTaskCreate",function(e){var t=e.text,r=e.assignees,o=e.dueAt,a=n.props.onTaskCreate;(void 0===a?u.a:a)(t,r,o),n.approvalCommentFormSubmitHandler()}),rr(nr(nr(n)),"openVersionHistoryPopup",function(e){(n.props.onVersionHistoryClick||u.a)(e)}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(t,a["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.resetFeedScroll()}},{key:"componentDidUpdate",value:function(e,t){var n=e.feedItems,r=this.props.feedItems,o=t.isInputOpen,a=this.state.isInputOpen,i=this.isEmpty(this.props),s=i!==this.isEmpty(e)&&!i,c=n&&r&&n.length<r.length;(s||c||!n&&r||a!==o)&&this.resetFeedScroll()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.translations,o=n.approverSelectorContacts,i=n.mentionSelectorContacts,s=n.currentUser,c=n.isDisabled,l=n.getAvatarUrl,f=n.getUserProfileUrl,p=n.file,d=n.onCommentCreate,g=n.getApproverWithQuery,m=n.getMentionWithQuery,h=n.activityFeedError,y=n.onVersionHistoryClick,v=n.onCommentDelete,b=n.onTaskDelete,E=n.onTaskUpdate,S=n.onTaskAssignmentUpdate,O=n.feedItems,k=this.state.isInputOpen,_=C()(p,"permissions.can_comment",!1),T=!!(s&&_&&d&&O),x=this.isEmpty(this.props),A=!O||!s;return a.createElement("div",{className:"bcs-activity-feed",onKeyDown:this.onKeyDown},a.createElement("div",{ref:function(e){t.feedContainer=e},className:"bcs-activity-feed-items-container"},x?a.createElement(Gn,{isLoading:A,showCommentMessage:T}):a.createElement(Vn,Yn({},h,{items:(e=O,e?e.reduce(function(e,t){var n=e.pop();if(!n)return e.concat([t]);if(t.type===Jn.fileVersion&&n.type===Jn.fileVersion&&t.action===Jn.upload&&n.action===Jn.upload){var r=n.modified_by,o=n.versions,a=void 0===o?[n]:o,i=n.version_start,s=void 0===i?parseInt(n.version_number,10):i,c=n.version_end,l=void 0===c?parseInt(n.version_number,10):c,u=r||fn.yd,f=t.action,p=t.modified_by,d=t.created_at,g=t.trashed_at,m=t.id,h=t.version_number,y=parseInt(h,10),v=n.collaborators||Xn({},u.id,Qn({},u)),b=p||fn.yd;return v[b.id]=Qn({},b),e.concat([{action:f,collaborators:v,created_at:d,modified_by:b,trashed_at:g,id:m,type:Jn.fileVersion,version_number:h,versions:a.concat([t]),version_start:Math.min(s,y),version_end:Math.max(l,y)}])}return e.concat([n,t])},[]):[]),isDisabled:c,currentUser:s,onTaskAssignmentUpdate:S,onCommentDelete:_?v:u.a,onTaskDelete:_?b:u.a,onTaskEdit:_?E:u.a,onVersionInfo:y?this.openVersionHistoryPopup:null,translations:r,getAvatarUrl:l,getUserProfileUrl:f,mentionSelectorContacts:i,getMentionWithQuery:m}))),T?a.createElement(un,{onSubmit:this.resetFeedScroll,isDisabled:c,approverSelectorContacts:o,mentionSelectorContacts:i,className:w()("bcs-activity-feed-comment-input",{"bcs-is-disabled":c}),createComment:_?this.onCommentCreate:u.a,createTask:_?this.onTaskCreate:u.a,updateTask:_?E:u.a,getApproverWithQuery:g,getMentionWithQuery:m,isOpen:k,user:s,onCancel:this.approvalCommentFormCancelHandler,onFocus:this.approvalCommentFormFocusHandler,getAvatarUrl:l}):null)}}])&&Zn(n.prototype,r),o&&Zn(n,o),t}(),ar=n(677),ir=n(267),sr=n(2030),cr=n.n(sr),lr=n(38),ur=n.n(lr),fr=n(2057),pr=n(958),dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function mr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var hr=Object(d.f)({closeModalText:{id:"boxui.modalDialog.closeModalText",defaultMessage:"Close Modal"}}),yr=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=mr(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.onCloseButtonClick=function(e){var t=r.props.onRequestClose;t&&t(e)},mr(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),gr(t,[{key:"componentWillMount",value:function(){this.modalID=Kt()("modal")}},{key:"renderCloseButton",value:function(){var e=this.props,t=e.closeButtonProps,n=e.onRequestClose,r=e.intl.formatMessage;return n?a.createElement("button",dr({},t,{className:"modal-close-button",onClick:this.onCloseButtonClick,"aria-label":r(hr.closeModalText)}),a.createElement(Cn.a,{width:18,height:18,color:"#999EA4"})):null}},{key:"renderContent",value:function(){var e=this.props,t=e.children;if("alert"!==e.type)return a.createElement("div",{className:"modal-content"},t);var n=a.Children.toArray(t);if(2!==n.length)throw new Error("Alert modal must have exactly two children: A message and <ModalActions>");return a.createElement("div",{className:"modal-content"},a.createElement("p",{id:this.modalID+"-desc"},n[0]),n[1])}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.modalRef,r=e.title,o=e.type,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","modalRef","title","type"]),s="alert"===o,c=ur()(i,["children","closeButtonProps","onRequestClose","intl"]);return c.role=s?"alertdialog":"dialog",c["aria-labelledby"]=this.modalID+"-label",s&&(c["aria-describedby"]=this.modalID+"-desc"),a.createElement("div",dr({ref:n,className:w()("modal-dialog",t)},c),this.renderCloseButton(),a.createElement("div",{className:"modal-header"},a.createElement("h2",{className:"modal-title",id:this.modalID+"-label"},r)),this.renderContent())}}]),t}();yr.defaultProps={type:"dialog",closeButtonProps:{}},yr.propTypes={children:A.a.node.isRequired,className:A.a.string,closeButtonProps:A.a.object.isRequired,intl:A.a.object.isRequired,modalRef:A.a.func,onRequestClose:A.a.func,title:A.a.node,type:A.a.oneOf(["alert","dialog"])};var vr=Object(d.g)(yr),br=(n(2222),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Er=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Sr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Or=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=Sr(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.onKeyDown=function(e){var t=r.props,n=t.isOpen,o=t.onRequestClose;n&&o&&"Escape"===e.key&&(e.stopPropagation(),o(e))},r.onBackdropClick=function(e){var t=r.props,n=t.onRequestClose,o=t.onBackdropClick;o?o(e):n&&n(e)},r.onModalOpen=function(){setTimeout(function(){var e=r.props.focusElementSelector,t=e&&e.trim();t?r.focusElement(t):r.focusFirstUsefulElement()},0)},r.focusFirstUsefulElement=function(){if(r.dialog){var e=cr()(r.dialog);e.length>1?e[1].focus():e.length>0&&e[0].focus()}},r.focusElement=function(e){if(r.dialog){var t=r.dialog.querySelector(e);if(!t)throw new Error("Could not find element matching selector "+e+" to focus on.");t.focus()}},Sr(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Er(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.onModalOpen()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isLoading,r=t.isOpen;e.isOpen&&!e.isLoading||!r||n||this.onModalOpen()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.isLoading,o=t.isOpen,i=t.onRequestClose,s=t.shouldNotUsePortal,c=t.style,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["className","isLoading","isOpen","onRequestClose","shouldNotUsePortal","style"]);if(!o)return null;var u=ur()(l,["onBackdropClick","focusElementSelector"]),f=s?"div":pr.a;return a.createElement(f,{className:w()("modal",n),onKeyDown:this.onKeyDown,tabIndex:"-1"},a.createElement("div",{className:"modal-backdrop",onClick:this.onBackdropClick,style:c.backdrop}),a.createElement(fr.a,{className:"modal-dialog-container"},r?a.createElement(Ce.a,{size:"large"}):a.createElement(vr,br({onRequestClose:i,style:c.dialog,modalRef:function(t){e.dialog=t}},u))),a.createElement("style",{type:"text/css"},"\n            body {\n                overflow:hidden;\n            }\n        "))}}]),t}();Or.defaultProps={style:{backdrop:{},dialog:{}}},Or.propTypes={children:A.a.node.isRequired,className:A.a.string,focusElementSelector:A.a.string,isLoading:A.a.bool,isOpen:A.a.bool,onBackdropClick:A.a.func,onRequestClose:A.a.func,shouldNotUsePortal:A.a.bool,style:A.a.shape({backdrop:A.a.object,dialog:A.a.object}).isRequired,title:A.a.node};var Cr=Or,kr=(n(2224),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});var wr=function(e){var t=e.className,n=void 0===t?"":t,r=e.error,o=e.hideLabel,i=e.textareaRef,s=e.label,c=e.isRequired,l=e.isResizable,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","error","hideLabel","textareaRef","label","isRequired","isResizable"]),f=w()(n,"text-area-container",{"show-error":!!r});return a.createElement("div",{className:f},a.createElement(Ve.a,{hideLabel:o,showOptionalText:!c,text:s},a.createElement(R.b,{isShown:!!r,text:r||"",position:"bottom-left",theme:"error"},a.createElement("textarea",kr({required:c,ref:i,style:{resize:l?"":"none"}},u)))))};wr.propTypes={className:A.a.string,error:A.a.node,hideLabel:A.a.bool,isRequired:A.a.bool,isResizable:A.a.bool,label:A.a.node.isRequired,textareaRef:A.a.func},wr.displayName="TextArea";var _r=wr;function Tr(e){return(Tr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fr(e,t,n[t])})}return e}function Dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t){return(Pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jr=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=Mr(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Tr(o)&&"function"!==typeof o?Rr(r):o,Fr(Rr(Rr(n)),"state",n.getInitialFormState()),Fr(Rr(Rr(n)),"validateForm",function(e){n.setState(function(t){var r=n.props.intl,o=t.approvers,a=t.message,i={code:"required",message:r.formatMessage(ct.a.requiredFieldError)},s={taskAssignees:o.length?null:i,taskName:a?null:i,taskDueDate:null};return{isValid:Object.values(s).every(function(e){return null==e}),formValidityState:e?Ar({},t.formValidityState,Fr({},e,s[e])):s}})}),Fr(Rr(Rr(n)),"getErrorByFieldname",function(e){var t=n.state.formValidityState;return t[e]?t[e].message:null}),Fr(Rr(Rr(n)),"clearForm",function(){return n.setState(n.getInitialFormState())}),Fr(Rr(Rr(n)),"handleFocusChange",function(){n.validateForm()}),Fr(Rr(Rr(n)),"handleInvalidSubmit",function(){n.validateForm()}),Fr(Rr(Rr(n)),"handleValidSubmit",function(){var e=n.props,t=e.createTask,r=e.onSubmit,o=n.state,a=o.message,i=o.approvers,s=o.dueDate;o.isValid&&(t(a,i,s),r&&r(),n.clearForm())}),Fr(Rr(Rr(n)),"handleDueDateChange",function(e){e&&e.setHours(23,59,59,999),n.setState({dueDate:e})}),Fr(Rr(Rr(n)),"handleApproverSelectorInput",function(e){var t=n.props.getApproverWithQuery;(void 0===t?u.a:t)(e)}),Fr(Rr(Rr(n)),"handleApproverSelectorSelect",function(e){n.setState({approvers:n.state.approvers.concat(e)}),n.validateForm("taskAssignees")}),Fr(Rr(Rr(n)),"handleApproverSelectorRemove",function(e,t){var r=xr(n.state.approvers);r.splice(t,1),n.setState({approvers:r}),n.validateForm("taskAssignees")}),Fr(Rr(Rr(n)),"handleChangeMessage",function(e){e.persist(),n.setState({message:e.currentTarget.value}),n.validateForm("taskName")}),Fr(Rr(Rr(n)),"handleCancelClick",function(){n.props.onCancel()}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pr(e,t)}(t,a["Component"]),n=t,(r=[{key:"getInitialFormState",value:function(){return{approvers:[],dueDate:null,formValidityState:{},message:"",isValid:null}}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.approverSelectorContacts,o=n.className,i=n.isDisabled,s=n.intl,c=this.state,l=c.dueDate,u=c.approvers,f=c.message,p=c.formValidityState,m=c.isValid,h=w()("bcs-task-input-container","bcs-task-input-is-open",o),y=r.filter(function(e){var t=e.id;return!u.find(function(e){return e.value===t})}).map(function(e){var t=e.id,n=e.item;return Ar({},n,{text:n.name,value:t})});return a.createElement("div",{className:h},a.createElement("div",{className:"bcs-task-input-form-container"},a.createElement(He,{onValidSubmit:this.handleValidSubmit,onInvalidSubmit:this.handleInvalidSubmit,formValidityState:p},a.createElement(_t,{error:this.getErrorByFieldname("taskAssignees"),inputProps:{"data-testid":"task-form-assignee-input"},isRequired:!0,label:a.createElement(d.b,g.a.tasksAddTaskFormAssigneesLabel),name:"taskAssignees",onBlur:function(){return t.validateForm("taskAssignees")},onInput:this.handleApproverSelectorInput,onRemove:this.handleApproverSelectorRemove,onSelect:this.handleApproverSelectorSelect,placeholder:s.formatMessage(g.a.approvalAddAssignee),selectedOptions:u,selectorOptions:y,validateForError:function(){return t.validateForm("taskAssignees")}},y.map(function(e){var t=e.id,n=e.name,r=e.email;return a.createElement(yt,{key:t,name:n,subtitle:r})})),a.createElement(_r,{className:"bcs-task-name-input",disabled:i,error:this.getErrorByFieldname("taskName"),isRequired:!0,label:a.createElement(d.b,g.a.tasksAddTaskFormMessageLabel),name:"taskName",onBlur:function(){return t.validateForm("taskName")},onChange:this.handleChangeMessage,placeholder:s.formatMessage(g.a.commentWrite),value:f}),a.createElement(vt.a,{className:"bcs-task-add-due-date-input",error:this.getErrorByFieldname("taskDueDate"),inputProps:(e={},Fr(e,F.c,F.a.TASK_DATE_PICKER),Fr(e,"data-testid","task-form-date-input"),e),isRequired:!1,label:a.createElement(d.b,g.a.tasksAddTaskFormDueDateLabel),minDate:new Date,name:"taskDueDate",onBlur:function(){return t.validateForm("taskDueDate")},onChange:this.handleDueDateChange,placeholder:s.formatMessage(g.a.approvalSelectDate),value:l}),a.createElement("div",{className:"bcs-task-input-controls"},a.createElement(Dt.a,{className:"bcs-task-input-cancel-btn","data-resin-target":F.a.APPROVAL_FORM_CANCEL,onClick:this.handleCancelClick,type:"button"},a.createElement(d.b,g.a.tasksAddTaskFormCancelLabel)),a.createElement(Mt.a,{className:"bcs-task-input-submit-btn","data-resin-target":F.a.APPROVAL_FORM_POST,isDisabled:!m,onFocus:this.handleFocusChange,onMouseEnter:this.handleFocusChange},a.createElement(d.b,g.a.tasksAddTaskFormSubmitLabel))))))}}])&&Dr(n.prototype,r),o&&Dr(n,o),t}();Fr(jr,"defaultProps",{approverSelectorContacts:[]});var Nr=Object(d.g)(jr);function Ir(e){return(Ir="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Br(){return(Br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wr=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=Ur(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Ir(o)&&"function"!==typeof o?qr(r):o,Vr(qr(qr(n)),"state",{isTaskFormOpen:!1}),Vr(qr(qr(n)),"handleClickAdd",function(){return n.setState({isTaskFormOpen:!0})}),Vr(qr(qr(n)),"handleClose",function(){return n.setState({isTaskFormOpen:!1})}),Vr(qr(qr(n)),"handleSubmit",function(){return n.setState({isTaskFormOpen:!1})}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.isDisabled,n=Kr(e,["isDisabled"]),r=this.state.isTaskFormOpen;return a.createElement(a.Fragment,null,a.createElement(ir.a,{type:"button",onClick:this.handleClickAdd,isDisabled:t},a.createElement(d.b,g.a.tasksAddTask)),a.createElement(Cr,{isOpen:r,onRequestClose:this.handleClose,title:a.createElement(d.b,g.a.tasksAddTaskFormTitle),className:"be task-modal"},a.createElement(Nr,Br({},n,{onCancel:this.handleClose,onSubmit:this.handleSubmit}))))}}])&&Lr(n.prototype,r),o&&Lr(n,o),t}();Vr(Wr,"defaultProps",{isDisabled:!1});var zr=Wr,Gr=n(119);function Qr(e){return(Qr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,o)}function Jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yr(e,t){return(Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"activityFeedInlineError",function(){return to}),n.d(t,"ActivitySidebarComponent",function(){return ro});var to={inlineError:{title:g.a.errorOccured,content:g.a.activityFeedItemApiError}},no="".concat(fn.jd,"_").concat(S.a);Object(E.b)(no);var ro=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=$r(t).call(this,e),n=!i||"object"!==Qr(i)&&"function"!==typeof i?Zr(r):i,eo(Zr(Zr(n)),"state",{}),eo(Zr(Zr(n)),"feedSuccessCallback",function(){n.fetchFeedItems()}),eo(Zr(Zr(n)),"feedErrorCallback",function(e,t,r){n.errorCallback(e,t,r),n.fetchFeedItems()}),eo(Zr(Zr(n)),"deleteTask",function(e){var t=e.id,r=n.props,o=r.file,a=r.api,i=r.onTaskDelete,s=void 0===i?u.a:i;a.getFeedAPI(!1).deleteTask(o,t,function(e){n.feedSuccessCallback(),s(e)},n.feedErrorCallback),n.fetchFeedItems()}),eo(Zr(Zr(n)),"updateTask",function(e){var t=e.text,r=e.id,o=n.props,a=o.file;o.api.getFeedAPI(!1).updateTask(a,r,t,n.feedSuccessCallback,n.feedErrorCallback),n.fetchFeedItems()}),eo(Zr(Zr(n)),"updateTaskAssignment",function(e,t,r){var o=n.props,a=o.file;o.api.getFeedAPI(!1).updateTaskAssignment(a,e,t,r,n.feedSuccessCallback,n.feedErrorCallback),n.fetchFeedItems()}),eo(Zr(Zr(n)),"deleteComment",function(e){var t=e.id,r=e.permissions,o=n.props,a=o.file,i=o.api,s=o.onCommentDelete,c=void 0===s?u.a:s;i.getFeedAPI(!1).deleteComment(a,t,r,function(e){n.feedSuccessCallback(),c(e)},n.feedErrorCallback),n.fetchFeedItems()}),eo(Zr(Zr(n)),"createComment",function(e,t){var r=n.props,o=r.file,a=r.api,i=r.onCommentCreate,s=void 0===i?u.a:i,c=n.state.currentUser;if(!c)throw Object(v.c)();a.getFeedAPI(!1).createComment(o,c,e,t,function(e){s(e),n.feedSuccessCallback()},n.feedErrorCallback),n.fetchFeedItems()}),eo(Zr(Zr(n)),"createTask",function(e,t,r){var o=n.state.currentUser,a=n.props,i=a.file,s=a.api;if(!o)throw Object(v.c)();s.getFeedAPI(!1).createTask(i,o,e,t,r,n.feedSuccessCallback,n.feedErrorCallback),n.fetchFeedItems()}),eo(Zr(Zr(n)),"fetchFeedItemsSuccessCallback",function(e){n.setState({feedItems:e,activityFeedError:void 0})}),eo(Zr(Zr(n)),"fetchFeedItemsErrorCallback",function(e){n.setState({feedItems:e,activityFeedError:to})}),eo(Zr(Zr(n)),"errorCallback",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.error(e),n.props.onError(e,t,r)}),eo(Zr(Zr(n)),"fetchCurrentUserSuccessCallback",function(e){n.setState({currentUser:e,currentUserError:void 0})}),eo(Zr(Zr(n)),"getApproverContactsSuccessCallback",function(e){var t=e.entries;n.setState({approverSelectorContacts:t})}),eo(Zr(Zr(n)),"getMentionContactsSuccessCallback",function(e){var t=e.entries;n.setState({mentionSelectorContacts:t})}),eo(Zr(Zr(n)),"getApproverWithQuery",c()(n.getCollaborators.bind(Zr(Zr(n)),n.getApproverContactsSuccessCallback,n.errorCallback),fn.C)),eo(Zr(Zr(n)),"getMentionWithQuery",c()(n.getCollaborators.bind(Zr(Zr(n)),n.getMentionContactsSuccessCallback,n.errorCallback),fn.C)),eo(Zr(Zr(n)),"fetchCurrentUserErrorCallback",function(e,t){n.setState({currentUser:void 0,currentUserError:{maskError:{errorHeader:g.a.currentUserErrorHeaderMessage,errorSubHeader:g.a.defaultErrorMaskSubHeaderMessage}}}),n.errorCallback(e,t,{error:e})}),eo(Zr(Zr(n)),"getAvatarUrl",function(){var e,t=(e=o.a.mark(function e(t){var r,a,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,a=r.file,i=r.api,e.abrupt("return",i.getUsersAPI(!1).getAvatarUrlWithAccessToken(t,a.id));case 2:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Xr(a,r,o,i,s,"next",e)}function s(e){Xr(a,r,o,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()),eo(Zr(Zr(n)),"renderAddTaskButton",function(){var e=n.props.isDisabled,t=n.state.approverSelectorContacts,r=Zr(Zr(n)),o={isDisabled:e,createTask:r.createTask,getApproverWithQuery:r.getApproverWithQuery,approverSelectorContacts:t,getAvatarUrl:r.getAvatarUrl};return a.createElement(zr,o)}),n.props.logger.onReadyMetric({endMarkName:no}),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}(t,a["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.currentUser;this.fetchFeedItems(!0),this.fetchCurrentUser(e)}},{key:"fetchCurrentUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,r=n.api,o=n.file;if(!o)throw Object(v.a)();"undefined"===typeof e?r.getUsersAPI(t).getUser(o.id,this.fetchCurrentUserSuccessCallback,this.fetchCurrentUserErrorCallback):this.setState({currentUser:e,currentUserError:void 0})}},{key:"fetchFeedItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,r=n.file;n.api.getFeedAPI(t).feedItems(r,e,this.fetchFeedItemsSuccessCallback,this.fetchFeedItemsErrorCallback,this.errorCallback)}},{key:"getCollaborators",value:function(e,t,n){var r=this.props,o=r.file,a=r.api;n&&""!==n.trim()&&a.getFileCollaboratorsAPI(!0).getFileCollaborators(o.id,e,t,{filter_term:n})}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.isDisabled,r=void 0!==n&&n,o=e.onVersionHistoryClick,i=e.getUserProfileUrl,s=this.state,c=s.currentUser,l=s.approverSelectorContacts,u=s.mentionSelectorContacts,f=s.feedItems,p=s.activityFeedError,d=s.currentUserError;return a.createElement(ar.a,{title:Gr.a.getTitleForView(fn.zd),actions:a.createElement(y.FeatureFlag,{feature:"activityFeed.tasks.createButton",enabled:this.renderAddTaskButton})},a.createElement(or,{file:t,activityFeedError:p,approverSelectorContacts:l,mentionSelectorContacts:u,currentUser:c,isDisabled:r,onCommentCreate:this.createComment,onCommentDelete:this.deleteComment,onTaskCreate:this.createTask,onTaskDelete:this.deleteTask,onTaskUpdate:this.updateTask,onTaskAssignmentUpdate:this.updateTaskAssignment,getApproverWithQuery:this.getApproverWithQuery,getMentionWithQuery:this.getMentionWithQuery,onVersionHistoryClick:o,getAvatarUrl:this.getAvatarUrl,getUserProfileUrl:i,feedItems:f,currentUserError:d}))}}])&&Jr(n.prototype,r),i&&Jr(n,i),t}();eo(ro,"defaultProps",{isDisabled:!1});t.default=p()([Object(b.a)(fn.jd),Object(h.a)(fn.jd),m.b])(ro)}}]);
//# sourceMappingURL=4.3a2b7ac9.chunk.js.map