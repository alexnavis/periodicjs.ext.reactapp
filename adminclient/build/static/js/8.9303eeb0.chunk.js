(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{2053:function(e,t,n){"use strict";var r=n(1036),o=n(154),a=n(2054);function i(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function c(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=o({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:a(i),n(a(o),i,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(n):e[t]=n,e},Object.create(null))):r}t.extract=c,t.parse=l,t.stringify=function(e,t){!1===(t=o({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[i(t,e),"[",r,"]"].join(""):[i(t,e),"[",i(r,e),"]=",i(n,e)].join("")};case"bracket":return function(t,n){return null===n?i(t,e):[i(t,e),"[]=",i(n,e)].join("")};default:return function(t,n){return null===n?i(t,e):[i(t,e),"=",i(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(r){var o=e[r];if(void 0===o)return"";if(null===o)return i(r,t);if(Array.isArray(o)){var a=[];return o.slice().forEach(function(e){void 0!==e&&a.push(n(r,e,a.length))}),a.join("&")}return i(r,t)+"="+i(o,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:l(c(e),t)}}},2054:function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(o){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(n),a(r))}function i(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=a(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=o.exec(e);r;){try{n[r[0]]=decodeURIComponent(r[0])}catch(t){var a=i(r[0]);a!==r[0]&&(n[r[0]]=a)}r=o.exec(e)}n["%C2"]="\ufffd";for(var c=Object.keys(n),l=0;l<c.length;l++){var s=c[l];e=e.replace(new RegExp(s,"g"),n[s])}return e}(e)}}},2228:function(e,t,n){"use strict";n.r(t);var r=n(28),o=n.n(r),a=n(0),i=n.n(a),c=n(5),l=n.n(c),s=n(68),u=n.n(s),f=n(29),p=n.n(f),d=n(21),h=n(2053),m=n.n(h),g=n(227),y=n(20),b=n(385),v=n(190),E=n(677),w=n(132),x=n(31);var O=function(e){var t=e.integrationWindow,n=e.children,r=t.document.createElement("div");return function(e,t){Array.from(e.styleSheets).forEach(function(e){if(e.href){var n=t.document.createElement("link");n.rel="stylesheet",n.href=e.href,t.document.head.appendChild(n)}}),t.document.body.style.margin=0,t.document.body.style.padding=0}(document,t),t.document.body.appendChild(r),Object(x.createPortal)(n,r)},I=function(e){var t=e.hasError,n=e.integrationWindow;return a.createElement(O,{integrationWindow:n},a.createElement("div",{className:"be bcow bcow-portal-container"},t?a.createElement(E.a,{errorHeader:a.createElement(d.b,y.a.executeIntegrationOpenWithErrorHeader),errorSubHeader:a.createElement(d.b,y.a.executeIntegrationOpenWithErrorSubHeader)}):a.createElement(w.b,{className:"bcow-portal-loading-indicator",size:"large"})))},P=n(182),j=n(183),k=n(98),S=n(3),N=n(26),_=n(1),H=n.n(_),C=function(e){var t=e.className,n=void 0===t?"":t,r=e.height,o=void 0===r?30:r,i=e.title,c=e.width,l=void 0===c?30:c;return a.createElement(N.a,{className:"icon-adobe-sign "+n,height:o,title:i,viewBox:"0 0 30 30",width:l},a.createElement("path",{fill:"#260000",d:"M1.27 1.27h27.45v26.67H1.27z"}),a.createElement("path",{d:"M0 0v29.23h30V0zm1.45 1.45h27.1v26.31H1.45z",fill:"#ff3601"}),a.createElement("path",{fill:"#ff3601",d:"M5.8 11.59v4.01l1.73 2.76 1.72-2.76v-4.01H5.8M5.68 20.4h19.06v1.04H5.68z"}),a.createElement("path",{d:"M24.78 16a.29.29 0 0 0-.2-.16 8.9 8.9 0 0 0-4.64.45c1.24-1.64 1-1.93.91-2.09s-.38-.22-.72-.08a28.23 28.23 0 0 0-3.07 1.54c1-1.54 1.35-2.55 1.1-2.94a.55.55 0 0 0-.58-.23 7.25 7.25 0 0 0-1.13.29c2.07-3.1 2.72-4.71 2.23-5.54-.23-.38-.7-.54-1.39-.46a8.13 8.13 0 0 0-3.77 1.92 5.38 5.38 0 0 0-2.12 2.84 1.17 1.17 0 0 0 1 1.25.31.31 0 0 0 .25 0 .29.29 0 0 0 .16-.2.29.29 0 0 0 0-.24.29.29 0 0 0-.2-.16c-.49-.15-.54-.38-.53-.57.11-1.3 3.49-3.94 5.32-4.16.4 0 .65 0 .74.16.34.58-.59 2.48-2.77 5.64-2.8 1.29-4.85 3.25-5 4.27a.85.85 0 0 0 .48.92.8.8 0 0 0 .44.11c1.15 0 2.61-2 4.54-4.78a7.77 7.77 0 0 1 1.79-.57 13.36 13.36 0 0 1-1.88 3.33.32.32 0 0 0 0 .42.34.34 0 0 0 .41 0 38.86 38.86 0 0 1 4-2.11 15.55 15.55 0 0 1-1.42 1.94.35.35 0 0 0 0 .41.32.32 0 0 0 .38.11c.58-.23 3.56-1.33 5.29-.82a.31.31 0 0 0 .25 0 .35.35 0 0 0 .16-.2.31.31 0 0 0-.03-.29zm-10.22-1.62c-.93 1.31-2.75 3.83-3.45 3.46-.11-.05-.14-.1-.12-.23.1-.72 1.74-2.19 3.57-3.23z",fill:"#facfcb"}))};C.propTypes={className:H.a.string,height:H.a.number,title:H.a.oneOfType([H.a.string,H.a.node]),width:H.a.number};var A=C,z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var R="icon-google-docs",W=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.idPrefix=u()(R)+"-",T(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),z(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.height,r=e.title,o=e.width;return a.createElement(N.a,{className:R+" "+t,height:n,title:r,viewBox:"0 0 30 30",width:o},a.createElement("defs",null,a.createElement("linearGradient",{id:this.idPrefix+"a",x1:"-215.49",y1:"505.79",x2:"-215.49",y2:"503.19",gradientTransform:"matrix(2.67 0 0 -2.67 596.67 1357)",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:"0",stopColor:"#1a237e",stopOpacity:".2"}),a.createElement("stop",{offset:"1",stopColor:"#1a237e",stopOpacity:".02"}))),a.createElement("path",{d:"M17.64 0H6.05A2.05 2.05 0 0 0 4 2.05V28a2.05 2.05 0 0 0 2.05 2h17.72a2.05 2.05 0 0 0 2.05-2V8.18l-4.77-3.41z",fill:"#4285f4"}),a.createElement("path",{fill:"url(#"+this.idPrefix+"a)",d:"M18.23 7.58l7.59 7.58V8.18l-7.59-.6z"}),a.createElement("path",{d:"M9.45 21.82h10.91v-1.37H9.45zm0 2.73h8.19v-1.37H9.45zm0-9.55v1.36h10.91V15zm0 4.09h10.91v-1.36H9.45z",fill:"#f1f1f1"}),a.createElement("path",{d:"M17.64 0v6.14a2 2 0 0 0 2 2h6.14z",fill:"#a1c2fa"}),a.createElement("path",{d:"M6.05 0A2.05 2.05 0 0 0 4 2.05v.17A2.05 2.05 0 0 1 6.05.17h11.59V0z",fill:"#fff",fillOpacity:".2"}),a.createElement("path",{d:"M19.68 8.18a2 2 0 0 1-2-2v.17a2 2 0 0 0 2 2h6.14v-.17z",fill:"#1a237e",fillOpacity:".1"}))}}]),t}();W.defaultProps={className:"",height:30,width:30},W.propTypes={className:H.a.string.isRequired,height:H.a.number,title:H.a.oneOfType([H.a.string,H.a.node]),width:H.a.number};var D=W,M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var F="icon-google-sheets",V=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=B(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.idPrefix=u()(F)+"-",B(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),M(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.height,r=e.title,o=e.width;return a.createElement(N.a,{className:F+" "+t,height:n,title:r,viewBox:"0 0 30 30",width:o},a.createElement("defs",null,a.createElement("linearGradient",{id:this.idPrefix+"a",x1:"-215.49",y1:"505.79",x2:"-215.49",y2:"503.19",gradientTransform:"matrix(2.67 0 0 -2.67 596.67 1357)",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:"0",stopColor:"#208256"}),a.createElement("stop",{offset:".55",stopColor:"#19955a",stopOpacity:".2"}))),a.createElement("path",{d:"M17.64 0H6.05A2.05 2.05 0 0 0 4 2.05V28a2.05 2.05 0 0 0 2.05 2h17.72a2.05 2.05 0 0 0 2.05-2V8.18l-4.77-3.41z",fill:"#22a565"}),a.createElement("path",{fill:"url(#"+this.idPrefix+"a)",d:"M18.23 7.58l7.59 7.58V8.18l-7.59-.6z"}),a.createElement("path",{d:"M17.64 0v6.14a2 2 0 0 0 2 2h6.14z",fill:"#8ed1b1"}),a.createElement("path",{d:"M6.05 0A2.05 2.05 0 0 0 4 2.05v.17A2.05 2.05 0 0 1 6.05.17h11.59V0z",fill:"#fff",fillOpacity:".2"}),a.createElement("path",{d:"M19.68 8.18a2 2 0 0 1-2-2v.17a2 2 0 0 0 2 2h6.14v-.17z",fill:"#1a237e",fillOpacity:".1"}),a.createElement("path",{d:"M10 14v10h10V14zm1 1h3.5v2H11zm0 3h3.5v2H11zm0 5v-2h3.5v2zm8 0h-3.5v-2H19zm0-3h-3.5v-2H19zm0-3h-3.5v-2H19z",fill:"#f1f1f1"}))}}]),t}();V.defaultProps={className:"",height:30,width:30},V.propTypes={className:H.a.string.isRequired,height:H.a.number,title:H.a.oneOfType([H.a.string,H.a.node]),width:H.a.number};var U=V,L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var q="icon-google-slides",$=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=G(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.idPrefix=u()(q)+"-",G(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),L(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.height,r=e.title,o=e.width;return a.createElement(N.a,{className:q+" "+t,height:n,title:r,viewBox:"0 0 30 30",width:o},a.createElement("defs",null,a.createElement("linearGradient",{id:this.idPrefix+"a",x1:"-215.49",y1:"505.79",x2:"-215.49",y2:"503.19",gradientTransform:"matrix(2.67 0 0 -2.67 596.67 1357)",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:"0",stopColor:"#d08714",stopOpacity:".88"}),a.createElement("stop",{offset:".55",stopColor:"#cf8714",stopOpacity:".2"}))),a.createElement("path",{d:"M17.64 0H6.05A2.05 2.05 0 0 0 4 2.05V28a2.05 2.05 0 0 0 2.05 2h17.72a2.05 2.05 0 0 0 2.05-2V8.18l-4.77-3.41z",fill:"#f4b912"}),a.createElement("path",{fill:"url(#"+this.idPrefix+"a)",d:"M18.23 7.58l7.59 7.58V8.18l-7.59-.6z"}),a.createElement("path",{d:"M17.64 0v6.14a2 2 0 0 0 2 2h6.14z",fill:"#fadc87"}),a.createElement("path",{d:"M6.05 0A2.05 2.05 0 0 0 4 2.05v.17A2.05 2.05 0 0 1 6.05.17h11.59V0z",fill:"#fff",fillOpacity:".2"}),a.createElement("path",{d:"M19.68 8.18a2 2 0 0 1-2-2v.17a2 2 0 0 0 2 2h6.14v-.17z",fill:"#1a237e",fillOpacity:".1"}),a.createElement("path",{d:"M10 15v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-8a1 1 0 0 0-1-1h-8a1 1 0 0 0-1 1zm9 6h-8v-4h8z",fill:"#f1f1f1"}))}}]),t}();$.defaultProps={className:"",height:30,width:30},$.propTypes={className:H.a.string.isRequired,height:H.a.number,title:H.a.oneOfType([H.a.string,H.a.node]),width:H.a.number};var J=$,X=n(464),Y={"Adobe Sign":A,"Google Docs":D,"Google Docs (beta)":D,"Google Sheets":U,"Google Sheets (beta)":U,"Google Slides":J,"Google Slides (beta)":J};var K=function(e){return Y[e]||X.a},Q=n(30),Z=n.n(Q);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var te=function(e){var t=e.boxToolsName,n=void 0===t?"Box Tools":t,r=e.boxToolsInstallUrl,o=void 0===r?"https://cloud.box.com/v/installboxtools":r;return a.createElement(d.b,ee({},y.a.boxToolsInstallMessage,{values:{boxTools:a.createElement("a",{onClick:function(){window.open(o)},href:"#",rel:"noopener noreferrer"},n)}}))},ne=function(e){return Z()(e,"disabledReasons.0.type")===te},re=function(e){var t=e.integration,n=e.onClick,r=t.displayName,o=t.displayDescription,i=t.isDisabled,c=t.extension,s=t.disabledReasons,u=K(r),f=s[0]||a.createElement(d.b,y.a.errorOpenWithDescription),p=i?f:o,h=l()({"bcow-box-tools-uninstalled":ne(t)});return a.createElement(k.a,{className:h,isDisabled:i,onClick:function(){return n(t)}},a.createElement(u,{dimension:S.id,extension:c,height:S.id,width:S.id}),a.createElement("span",null,a.createElement("p",{className:"bcow-menu-item-title"},r),a.createElement("p",{className:"bcow-menu-item-description"},p)))},oe=n(675),ae=function(e){var t=e.className,n=void 0===t?"":t,r=e.color,o=void 0===r?"#444444":r,i=e.height,c=void 0===i?12:i,l=e.title,s=e.width,u=void 0===s?12:s;return a.createElement(N.a,{className:"icon-open-with "+n,height:c,title:l,viewBox:"0 0 12 12",width:u},a.createElement("path",{className:"fill-color",d:"M10 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h8m0-1H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z",fill:o}),a.createElement("path",{className:"fill-color",fill:o,d:"M3 3v1h4.29L2.65 8.65l.7.7L8 4.71V9h1V3H3z"}))};ae.propTypes={className:H.a.string,color:H.a.string,height:H.a.number,title:H.a.oneOfType([H.a.string,H.a.node]),width:H.a.number};var ie=ae,ce=n(84),le=n(640),se=function(e){var t=e.children;return a.createElement(a.Fragment,null,t,a.createElement("span",{className:"bcow-btn-header-text"},a.createElement(d.b,y.a.open)))},ue=function(e){return a.createElement(le.a,{text:a.createElement(d.b,y.a.defaultOpenWithDescription),position:"middle-left"},a.createElement(ce.a,e,a.createElement(oe.a,null,a.createElement(se,null,a.createElement(ie,{className:S.m,dimension:S.hd,height:S.hd,width:S.hd})))))},fe=function(e){var t=e.dropdownAlignment,n=void 0===t?"right":t,r=e.integrations,o=e.onClick;return a.createElement(P.a,{isRightAligned:"right"===n},a.createElement(ue,null),a.createElement(j.a,{className:"bcow-menu"},r&&r.map(function(e){return a.createElement(re,{integration:e,onClick:o,key:e.appIntegrationId})})))};function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var he=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(t)return null;var o=a.createElement(d.b,y.a.emptyOpenWithDescription);r.length>0?o=de(r,1)[0]:n?o=a.createElement(d.b,y.a.errorOpenWithDescription):e&&(o=e);return o},me=function(e){var t=e.error,n=e.onClick,r=void 0===n?p.a:n,o=e.displayIntegration,i=e.isLoading,c=o||{},l=c.displayName,s=c.isDisabled,u=c.extension,f=c.disabledReasons,d=c.displayDescription,h=!!s||!l,m=l?K(l):ie,g=ne(o)?{isShown:!0,showCloseButton:!0}:{};return a.createElement(le.a,pe({className:"bcow-tooltip",text:he(d,i,t,f),position:"bottom-center"},g),a.createElement(ce.a,{isDisabled:h,onClick:function(){return o?r(o):p.a}},a.createElement(se,null,a.createElement(m,{className:S.m,dimension:S.hd,extension:u,height:S.hd,width:S.hd}))))},ge=function(e){var t=e.error;return a.createElement("div",{className:"be bcow"},a.createElement(me,{error:t,isLoading:!1}))};function ye(e){return(ye="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return!t||"object"!==ye(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ve(this,Ee(t).call(this,e))).ref=i.a.createRef(),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,a["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.onSubmit;this.ref.current.submit(),e()}},{key:"render",value:function(){var e=this.props,t=e.executePostData,n=t.url,r=t.params,o=e.id,a=e.windowName;return i.a.createElement("form",{ref:this.ref,id:"bcow-execute-form-".concat(o),action:n,target:a||"_blank",rel:"noreferrer noopener",method:S.Pc},r&&r.map(function(e){var t=e.key,n=e.value;return i.a.createElement("input",{key:t,name:t,value:n,type:"hidden"})}))}}])&&be(n.prototype,r),o&&be(n,o),t}();function Oe(e){return(Oe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_e(e,t,n[t])})}return e}function Pe(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,o)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He="Integration invocation using this HTTP method type is not supported",Ce="boxToolsBlacklistedError",Ae="boxToolsInstallErrorMessage",ze="executeIntegrationOpenWithErrorHeader",Te="auth_code",Re=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=ke(t).call(this,e),n=!a||"object"!==Oe(a)&&"function"!==typeof a?Ne(r):a,_e(Ne(Ne(n)),"initialState",{isDropdownOpen:!1,integrations:null,isLoading:!0,fetchError:null,executePostData:null,shouldRenderErrorIntegrationPortal:!1,shouldRenderLoadingIntegrationPortal:!1}),_e(Ne(Ne(n)),"fetchOpenWithSuccessHandler",function(){var e,t=(e=o.a.mark(function e(t){var r,a,c,l,s,u,f,p;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.boxToolsName,c=r.boxToolsInstallUrl,!(l=t.find(function(e){var t=e.appIntegrationId;return n.isBoxEditIntegration(t)}))||l.isDisabled){e.next=22;break}return e.prev=3,e.next=6,n.getIntegrationFileExtension();case 6:return s=e.sent,u=s.extension,l.extension=u,e.next=11,n.isBoxEditAvailable();case 11:return e.next=13,n.canOpenExtensionWithBoxEdit(l);case 13:e.next=22;break;case 15:e.prev=15,e.t0=e.catch(3),f=y.a[e.t0.message]||y.a[ze],p=i.a.createElement(d.b,f),e.t0.message===Ae&&(p=i.a.createElement(te,{boxToolsName:a,boxToolsInstallUrl:c})),l.disabledReasons.push(p),l.isDisabled=!0;case 22:n.setState({integrations:t,isLoading:!1});case 23:case"end":return e.stop()}},e,this,[[3,15]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Pe(a,r,o,i,c,"next",e)}function c(e){Pe(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()),_e(Ne(Ne(n)),"getIntegrationFileExtension",function(){var e=n.props.fileId;return new Promise(function(t,r){n.api.getFileAPI().getFileExtension(e,t,function(){return r(new Error(ze))})})}),_e(Ne(Ne(n)),"isBoxEditAvailable",function(){return n.api.getBoxEditAPI().checkBoxEditAvailability().catch(function(){throw new Error(Ae)})}),_e(Ne(Ne(n)),"canOpenExtensionWithBoxEdit",function(e){var t=e.extension,r=void 0===t?"":t;return n.api.getBoxEditAPI().getAppForExtension(r).catch(function(){throw new Error(Ce)})}),_e(Ne(Ne(n)),"fetchErrorHandler",function(e,t){n.props.onError(e,t,{error:e}),n.setState({fetchError:e,isLoading:!1})}),_e(Ne(Ne(n)),"onIntegrationClick",function(e){var t=e.appIntegrationId,r=e.displayName,o=n.props.fileId,a=n.isBoxEditIntegration(t);if(n.api.getAppIntegrationsAPI(!1).execute(t,o,n.executeIntegrationSuccessHandler.bind(Ne(Ne(n)),t),a?n.executeBoxEditErrorHandler:n.executeIntegrationErrorHandler),!a){var i="left=".concat(window.screenX,",top=").concat(window.screenY,",height=").concat(window.outerHeight,",width=").concat(window.innerWidth,",toolbar=0");n.integrationWindow=n.window.open("","".concat(u()(t)),i),n.integrationWindow.document.title=r,n.integrationWindow.onunload=n.cleanupIntegrationWindow,n.setState({shouldRenderLoadingIntegrationPortal:!0,shouldRenderErrorIntegrationPortal:!1})}}),_e(Ne(Ne(n)),"cleanupIntegrationWindow",function(){n.setState({shouldRenderLoadingIntegrationPortal:!1,shouldRenderErrorIntegrationPortal:!1})}),_e(Ne(Ne(n)),"executeIntegrationSuccessHandler",function(e,t){n.isBoxEditIntegration(e)?n.executeBoxEditSuccessHandler(e,t):n.executeOnlineIntegrationSuccessHandler(t),n.onExecute(e)}),_e(Ne(Ne(n)),"executeOnlineIntegrationSuccessHandler",function(e){var t=e.method,r=e.url;switch(t){case S.Pc:n.setState({executePostData:e});break;case S.Nc:if(!n.integrationWindow)return;n.integrationWindow.location=r,n.integrationWindow.opener=null;break;default:n.executeIntegrationErrorHandler(Error(He),S.gb)}n.integrationWindow=null}),_e(Ne(Ne(n)),"executeBoxEditSuccessHandler",function(e,t){var r=t.url,o=n.props,a=o.fileId,i=o.token,c=o.onError,l=m.a.parse(r)[Te],s=n.isBoxEditSFCIntegration(e);n.api.getBoxEditAPI().openFile(a,{data:{auth_code:l,token:i,token_scope:s?S.he:S.ie}}).catch(function(e){c(e,S.gb,{error:e})})}),_e(Ne(Ne(n)),"onExecuteFormSubmit",function(){n.setState({executePostData:null})}),_e(Ne(Ne(n)),"executeIntegrationErrorHandler",function(e,t){n.props.onError(e,t,{error:e}),console.error(e),n.setState({shouldRenderLoadingIntegrationPortal:!1,shouldRenderErrorIntegrationPortal:!0})}),_e(Ne(Ne(n)),"executeBoxEditErrorHandler",function(e){n.props.onError(e),console.error(e)});var c=e.token,l=e.apiHost,s=e.clientName,f=e.requestInterceptor,p=e.responseInterceptor;return n.id=u()("bcow_"),n.api=new v.a({token:c,apiHost:l,clientName:s,requestInterceptor:f,responseInterceptor:p}),n.state=Ie({},n.initialState),n}var n,r,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,a["PureComponent"]),n=t,(r=[{key:"clearCache",value:function(){this.api.destroy(!0)}},{key:"componentWillUnmount",value:function(){this.api.destroy(!1)}},{key:"componentDidMount",value:function(){this.props.fileId&&(this.window=window,this.fetchOpenWithData())}},{key:"componentDidUpdate",value:function(e){var t=this.props.fileId,n=e.fileId;t&&t!==n&&(this.setState(Ie({},this.initialState)),this.fetchOpenWithData())}},{key:"isBoxEditIntegration",value:function(e){return e===S.e||this.isBoxEditSFCIntegration(e)}},{key:"isBoxEditSFCIntegration",value:function(e){return e===S.f}},{key:"fetchOpenWithData",value:function(){var e=this.props,t=e.fileId,n=e.language;this.api.getOpenWithAPI(!1).getOpenWithIntegrations(t,this.fetchOpenWithSuccessHandler,this.fetchErrorHandler,n)}},{key:"componentWillReceiveProps",value:function(){}},{key:"onExecute",value:function(e){this.props.onExecute(e),this.setState({shouldRenderLoadingIntegrationPortal:!1})}},{key:"getDisplayIntegration",value:function(){var e=this.state.integrations;return Array.isArray(e)&&1===e.length?e[0]:null}},{key:"render",value:function(){var e=this.props,t=e.language,n=e.messages,r=e.dropdownAlignment,o=this.state,a=o.fetchError,c=o.isLoading,s=o.integrations,u=o.executePostData,f=o.shouldRenderLoadingIntegrationPortal,p=o.shouldRenderErrorIntegrationPortal,d=l()("be bcow",this.props.className),h=this.getDisplayIntegration(),m=s?s.length:0;return i.a.createElement(g.a,{language:t,messages:n},i.a.createElement("div",{id:this.id,className:d},m<=1?i.a.createElement(me,{error:a,onClick:this.onIntegrationClick,displayIntegration:h,isLoading:c}):i.a.createElement(fe,{dropdownAlignment:r,onClick:this.onIntegrationClick,integrations:s}),(f||p)&&i.a.createElement(I,{hasError:p,integrationWindow:this.integrationWindow}),u&&i.a.createElement(xe,{onSubmit:this.onExecuteFormSubmit,executePostData:u,windowName:this.integrationWindow&&this.integrationWindow.name,id:this.id})))}}])&&je(n.prototype,r),c&&je(n,c),t}();_e(Re,"defaultProps",{apiHost:S.F,className:"",clientName:S.z,onExecute:p.a,onError:p.a});var We=Object(b.a)(S.od,ge)(Re);n.d(t,"default",function(){return We})}}]);
//# sourceMappingURL=8.9303eeb0.chunk.js.map