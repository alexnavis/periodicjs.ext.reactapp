(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1981:function(e,t,a){"use strict";var n=a(0),i=a(1),o=a.n(i),r=function(e){var t=e.children,a=e.className,i=void 0===a?"":a,o=e.title;return n.createElement("div",{className:"inline-alert inline-alert-visible inline-alert-error "+i},n.createElement("b",null,o),n.createElement("div",null,t))};r.propTypes={children:o.a.node.isRequired,className:o.a.string,title:o.a.node.isRequired},t.a=r},1984:function(e,t,a){"use strict";var n=a(0),i=a(5),o=a.n(i),r=a(116),s=(a(1993),a(1)),l=a.n(s),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var d=function(e){var t=e.children,a=e.className,i=void 0===a?"":a,s=e.crawlerPosition,l=void 0===s?"center":s,d=e.crawlerSize,u=void 0===d?"default":d,p=e.isLoading,f=void 0!==p&&p,m=e.hideContent,h=void 0!==m&&m,y=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["children","className","crawlerPosition","crawlerSize","isLoading","hideContent"]),v=o()("loading-indicator-veil",{"is-with-top-crawler":"top"===l,"is-with-center-crawler":"center"===l},h?"hide-content":"blur-content");return n.createElement("div",c({className:"loading-indicator-wrapper "+i},y),t,f&&n.createElement("div",{className:v},n.createElement(r.b,{size:u})))};d.propTypes={children:l.a.node.isRequired,className:l.a.string,crawlerPosition:l.a.oneOfType([l.a.any,l.a.any]),crawlerSize:l.a.oneOf(["small","medium","large","default"]),isLoading:l.a.bool,hideContent:l.a.bool},t.a=d},1992:function(e,t,a){"use strict";var n=a(0),i=a(23),o=a(1),r=a.n(o),s=function(e){var t=e.className,a=void 0===t?"":t,o=e.color,r=void 0===o?"#999":o,s=e.height,l=void 0===s?14:s,c=e.title,d=e.width,u=void 0===d?14:d;return n.createElement(i.a,{className:"icon-edit "+a,title:c,width:u,height:l,viewBox:"0 0 14 14"},n.createElement("path",{className:"fill-color",fill:r,d:"M3.21 7.89l6.47-6.48a2 2 0 0 1 2.88 2.78h-.05L6 10.72 3.21 7.89zM2.24 9l2.83 2.83L1.67 13c-.52.18-.79-.1-.62-.61z"}))};s.propTypes={className:r.a.string,color:r.a.string,height:r.a.number,title:r.a.oneOfType([r.a.string,r.a.node]),width:r.a.number},t.a=s},1993:function(e,t,a){},1999:function(e,t,a){"use strict";var n=a(0),i=a(5),o=a.n(i),r=a(23),s=a(1),l=a.n(s),c=function(e){var t=e.className,a=void 0===t?"":t,i=e.color,o=void 0===i?"#00E287":i,s=e.height,l=void 0===s?14:s,c=e.opacity,d=void 0===c?1:c,u=e.title,p=e.width,f=void 0===p?14:p;return n.createElement(r.a,{className:"icon-verified "+a,title:u,width:f,height:l,opacity:d,viewBox:"0 0 14 14"},n.createElement("path",{d:"M7 14c-3.865993 0-7-3.134007-7-7s3.134007-7 7-7 7 3.134007 7 7-3.134007 7-7 7zM5.31288 9.303048l1.44555 1.21296 4.499514-5.36231-1.44555-1.21296-4.499514 5.36231zM3 7.36231L5.31288 9.30305l1.21296-1.44555L4.21296 5.91676 3 7.36231z",fill:o,fillRule:"evenodd"}))};c.propTypes={className:l.a.string,color:l.a.string,height:l.a.number,opacity:l.a.number,title:l.a.oneOfType([l.a.string,l.a.node]),width:l.a.number};var d=c,u=a(1986),p=a(676),f=a(392),m=(a(2011),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e});var h=function(e){var t=e.className,a=void 0===t?"":t,i=e.description,r=e.error,s=e.errorPosition,l=e.hideLabel,c=e.hideOptionalLabel,h=e.inputRef,y=e.isLoading,v=e.isRequired,g=e.isValid,b=e.label,E=e.labelTooltip,O=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["className","description","error","errorPosition","hideLabel","hideOptionalLabel","inputRef","isLoading","isRequired","isValid","label","labelTooltip"]),C=o()(a,"text-input-container",{"show-error":!!r});return n.createElement("div",{className:C},n.createElement(u.a,{text:b,showOptionalText:!c&&!v,hideLabel:l,tooltip:E},!!i&&n.createElement("i",{className:"text-input-description"},i),n.createElement(f.b,{isShown:!!r,text:r||"",position:s||"middle-right",theme:"error"},n.createElement("input",m({ref:h,required:v},O))),y&&!g&&n.createElement(p.a,{className:"text-input-loading"}),g&&!y&&n.createElement(d,{className:"text-input-verified"})))};h.propTypes={className:l.a.string,description:l.a.node,error:l.a.node,errorPosition:function(){return("function"===typeof f.a?f.a:l.a.shape(f.a)).apply(this,arguments)},hideLabel:l.a.bool,hideOptionalLabel:l.a.bool,inputRef:l.a.func,isLoading:l.a.bool,isRequired:l.a.bool,isValid:l.a.bool,label:l.a.node.isRequired,labelTooltip:l.a.node},h.displayName="TextInput";t.a=h},2011:function(e,t,a){},2073:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=l(a(0)),r=l(a(1)),s=l(a(5));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},u=["animateOpacity","animationStateClasses","applyInlineTransitions","contentClassName","duration","easing","height","delay"];function p(e){return!isNaN(parseFloat(e))&&isFinite(e)}function f(e){return"string"===typeof e&&e.search("%")===e.length-1&&p(e.substr(0,e.length-1))}function m(e){e&&"function"===typeof e&&e()}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i="auto",o="visible";p(e.height)?(i=e.height<0?0:e.height,o="hidden"):f(e.height)&&(i=e.height,o="hidden"),a.animationStateClasses=n({},d,e.animationStateClasses);var r=a.getStaticStateClasses(i);return a.state={animationStateClasses:r,height:i,overflow:o,shouldUseTransitions:!1},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){var e=this.state.height;this.contentElement&&this.contentElement.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var a,n=this,i=this.props,o=i.delay,r=i.duration,l=i.height,d=i.onAnimationEnd,u=i.onAnimationStart;if(this.contentElement&&l!==e.height){var h;this.showContent(t.height),this.contentElement.style.overflow="hidden";var y=this.contentElement.offsetHeight;this.contentElement.style.overflow="";var v=r+o,g=null,b={height:null,overflow:"hidden"},E="auto"===t.height;p(l)?(g=l<0?0:l,b.height=g):f(l)?(g=l,b.height=g):(g=y,b.height="auto",b.overflow=null),E&&(b.height=g,g=y);var O=(0,s.default)((c(h={},this.animationStateClasses.animating,!0),c(h,this.animationStateClasses.animatingUp,"auto"===e.height||l<e.height),c(h,this.animationStateClasses.animatingDown,"auto"===l||l>e.height),c(h,this.animationStateClasses.animatingToHeightZero,0===b.height),c(h,this.animationStateClasses.animatingToHeightAuto,"auto"===b.height),c(h,this.animationStateClasses.animatingToHeightSpecific,b.height>0),h)),C=this.getStaticStateClasses(b.height);this.setState({animationStateClasses:O,height:g,overflow:"hidden",shouldUseTransitions:!E}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),E?(b.shouldUseTransitions=!0,a=function(){n.setState(b),m(u)},requestAnimationFrame(function(){requestAnimationFrame(function(){a()})}),this.animationClassesTimeoutID=setTimeout(function(){n.setState({animationStateClasses:C,shouldUseTransitions:!1}),n.hideContent(b.height),m(d)},v)):(m(u),this.timeoutID=setTimeout(function(){b.animationStateClasses=C,b.shouldUseTransitions=!1,n.setState(b),"auto"!==l&&n.hideContent(g),m(d)},v))}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(e){0===e&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(e){var t;return(0,s.default)((c(t={},this.animationStateClasses.static,!0),c(t,this.animationStateClasses.staticHeightZero,0===e),c(t,this.animationStateClasses.staticHeightSpecific,e>0),c(t,this.animationStateClasses.staticHeightAuto,"auto"===e),t))}},{key:"render",value:function(){var e,t=this,a=this.props,i=a.animateOpacity,r=a.applyInlineTransitions,l=a.children,d=a.className,p=a.contentClassName,f=a.duration,m=a.easing,h=a.delay,y=a.style,v=this.state,g=v.height,b=v.overflow,E=v.animationStateClasses,O=v.shouldUseTransitions,C=n({},y,{height:g,overflow:b||y.overflow});O&&r&&(C.transition="height "+f+"ms "+m+" "+h+"ms",y.transition&&(C.transition=y.transition+", "+C.transition),C.WebkitTransition=C.transition);var w={};i&&(w.transition="opacity "+f+"ms "+m+" "+h+"ms",w.WebkitTransition=w.transition,0===g&&(w.opacity=0));var R=(0,s.default)((c(e={},E,!0),c(e,d,d),e));return o.default.createElement("div",n({},function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];if(!a.length)return e;for(var i={},o=Object.keys(e),r=0;r<o.length;r++){var s=o[r];-1===a.indexOf(s)&&(i[s]=e[s])}return i}.apply(void 0,[this.props].concat(u)),{"aria-hidden":0===g,className:R,style:C}),o.default.createElement("div",{className:p,style:w,ref:function(e){return t.contentElement=e}},l))}}]),t}();h.propTypes={animateOpacity:r.default.bool,animationStateClasses:r.default.object,applyInlineTransitions:r.default.bool,children:r.default.any.isRequired,className:r.default.string,contentClassName:r.default.string,duration:r.default.number,delay:r.default.number,easing:r.default.string,height:r.default.oneOfType([r.default.string,r.default.number]),onAnimationEnd:r.default.func,onAnimationStart:r.default.func,style:r.default.object},h.defaultProps={animateOpacity:!1,animationStateClasses:d,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}},t.default=h},2074:function(e,t,a){},2076:function(e,t,a){},2078:function(e,t,a){},2080:function(e,t,a){},2082:function(e,t,a){},2086:function(e,t,a){},2090:function(e,t,a){},2095:function(e,t,a){},2097:function(e,t,a){},2099:function(e,t,a){},2101:function(e,t,a){},2103:function(e,t,a){},2105:function(e,t,a){},2107:function(e,t,a){},2109:function(e,t,a){},2111:function(e,t,a){},2113:function(e,t,a){},2119:function(e,t,a){},2123:function(e,t,a){},2227:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(29),r=a.n(o),s=a(30),l=a.n(s),c=a(241),d=a.n(c),u=a(21),p=a(5),f=a.n(p),m=a(44),h=a.n(m),y=a(144),v=a.n(y),g=a(2026),b=a(38),E=a.n(b),O=a(2073),C=a.n(O),w=a(679),R=a(675),T=a(393),S=a(133),N=(a(2074),a(1)),P=a.n(N),q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},M=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.toggleVisibility=function(){var e=a.props,t=e.onOpen,n=e.onClose;a.setState(function(e){return{isOpen:!e.isOpen}},function(){var e=a.state.isOpen;e&&t?t(a):!e&&n&&n(a)})},a.state={isOpen:e.isOpen},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),M(t,[{key:"render",value:function(){var e=this.state.isOpen,t=this.props,a=t.animationDuration,i=t.buttonProps,o=void 0===i?{}:i,r=t.children,s=t.className,l=t.isBordered,c=t.hasStickyHeader,d=t.headerActionItems,u=t.title,p=f()("collapsible-card",{"is-open":e},{"is-bordered":l},s),m=o[S.b],h=E()(o,[S.b]),y=c?"collapsible-card-header has-sticky-header":"collapsible-card-header";return m&&(h[S.b]=m+(e?"collapse":"expand")),n.createElement("div",{className:p},n.createElement("div",{className:y},n.createElement(R.a,q({},h,{type:"button",onClick:this.toggleVisibility,className:"collapsible-card-title"}),u,n.createElement(w.a,{className:"collapsible-card-header-caret",color:T.d,width:8})),e&&d),n.createElement(C.a,{duration:a,height:e?"auto":0},n.createElement("div",{className:"collapsible-card-content"},r)))}}]),t}();j.defaultProps={buttonProps:{},className:"",isOpen:!0,animationDuration:100},j.propTypes={animationDuration:P.a.number,buttonProps:P.a.object,children:P.a.node.isRequired,className:P.a.string,isBordered:P.a.bool,hasStickyHeader:P.a.bool,headerActionItems:P.a.node,isOpen:P.a.bool.isRequired,onOpen:P.a.func,onClose:P.a.func,title:P.a.oneOfType([P.a.string,P.a.node]).isRequired};var k=j,I=a(23),x=function(e){var t=e.className,a=void 0===t?"":t,i=e.color,o=e.title,r=e.type,s=e.width,l=void 0===s?16:s,c=e.height,d=void 0===c?16:c,u=void 0;return u=i||("cascade"===r?T.e:T.a),n.createElement(I.a,{className:"icon-metadata "+a,title:o,width:l,height:d,viewBox:"0 0 16 16"},n.createElement("path",{className:"fill-color",d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm-2.515-5.879L6.2 7.263l1.376 2.202a.5.5 0 0 0 .848 0L9.8 7.263l.715 2.858a.5.5 0 0 0 .97-.242l-1-4a.5.5 0 0 0-.909-.144L8 8.257 6.424 5.735a.5.5 0 0 0-.91.144l-1 4a.5.5 0 0 0 .971.242z",fill:u,fillRule:"evenodd"}))};x.propTypes={className:P.a.string,color:P.a.string,title:P.a.oneOfType([P.a.string,P.a.node]),type:P.a.oneOf(["cascade","default"]),width:P.a.number,height:P.a.number};var A=x,D=a(954),F=a(1992),_=a(1984),V=a(84),K=a(392),H=Object(u.f)({customTitle:{id:"boxui.metadataInstanceEditor.customTitle",defaultMessage:"Custom Metadata"},customAdd:{id:"boxui.metadataInstanceEditor.customAdd",defaultMessage:"Add"},customRemove:{id:"boxui.metadataInstanceEditor.customRemove",defaultMessage:"Remove"},customKey:{id:"boxui.metadataInstanceEditor.customKey",defaultMessage:"Key"},customKeyPlaceholder:{id:"boxui.metadataInstanceEditor.customKeyPlaceholder",defaultMessage:"e.g. Order Number"},customValue:{id:"boxui.metadataInstanceEditor.customValue",defaultMessage:"Value"},customValuePlaceholder:{id:"boxui.metadataInstanceEditor.customValuePlaceholder",defaultMessage:"e.g. 42"},customNewField:{id:"boxui.metadataInstanceEditor.customNewField",defaultMessage:"New Field"},customNewFieldMessage:{id:"boxui.metadataInstanceEditor.customNewFieldMessage",defaultMessage:"Add a custom metadata field. Other people will be able to see and search for this field."},customErrorRequired:{id:"boxui.metadataInstanceEditor.customErrorRequired",defaultMessage:"A key is required."},customErrorDuplicateKey:{id:"boxui.metadataInstanceEditor.customErrorDuplicateKey",defaultMessage:"A field with that key already exists."},customErrorInternalKey:{id:"boxui.metadataInstanceEditor.customErrorInternalKey",defaultMessage:"Keys cannot begin with a $."},invalidInput:{id:"boxui.metadataInstanceEditor.invalidValue",defaultMessage:"Invalid Input!"},invalidMetadataFieldType:{id:"boxui.metadataInstanceEditor.invalidMetadataFieldType",defaultMessage:"Invalid metadata field type!"},metadataEditTooltip:{id:"boxui.metadataInstanceEditor.editTooltip",defaultMessage:"Edit Metadata"},metadataFieldNoValue:{id:"boxui.metadataInstanceEditor.fieldNoValue",defaultMessage:"No Value"},metadataFieldSelectValue:{id:"boxui.metadataInstanceEditor.fieldSelectValue",defaultMessage:"Select Value"},metadataFieldMultiSelectValue:{id:"boxui.metadataInstanceEditor.fieldMultiSelectValue",defaultMessage:"Select Values"},metadataFieldSetValue:{id:"boxui.metadataInstanceEditor.fieldSetValue",defaultMessage:"Set Value"},metadataFieldSetDate:{id:"boxui.metadataInstanceEditor.fieldSetDate",defaultMessage:"Set Date"},metadataRemoveTemplate:{id:"boxui.metadataInstanceEditor.removeTemplate",defaultMessage:"Remove"},fileMetadataRemoveTemplateConfirm:{id:"boxui.metadataInstanceEditor.fileMetadataRemoveTemplateConfirm",defaultMessage:'Are you sure you want to delete "{metadataName}" and all of its values from this file?'},folderMetadataRemoveTemplateConfirm:{id:"boxui.metadataInstanceEditor.folderMetadataRemoveTemplateConfirm",defaultMessage:'Are you sure you want to delete "{metadataName}" and all of its values? Any metadata template values already applied to files in this folder will not be deleted.'},fileMetadataRemoveCustomTemplateConfirm:{id:"boxui.metadataInstanceEditor.fileMetadataRemoveCustomTemplateConfirm",defaultMessage:"Are you sure you want to delete this custom metadata and all of its values from this file?"},folderMetadataRemoveCustomTemplateConfirm:{id:"boxui.metadataInstanceEditor.folderMetadataRemoveCustomTemplateConfirm",defaultMessage:"Are you sure you want to delete this custom metadata and all of its values? Any metadata template values already applied to files in this folder will not be deleted."},metadataTemplateSearchPlaceholder:{id:"boxui.metadataInstanceEditor.templateSearchPlaceholder",defaultMessage:"Search all templates"},metadataTemplateAdd:{id:"boxui.metadataInstanceEditor.templateAdd",defaultMessage:"Add"},metadataTemplatesTitle:{id:"boxui.metadataInstanceEditor.templatesTitle",defaultMessage:"Templates"},metadataTemplatesNoResults:{id:"boxui.metadataInstanceEditor.templatesNoResults",defaultMessage:"No Results"},metadataTemplatesFetchFailed:{id:"boxui.metadataInstanceEditor.templatesFetchFailed",defaultMessage:"Sorry! We could not fetch templates. Please contact your administrator"},metadataTemplatesNoRemainingTemplates:{id:"boxui.metadataInstanceEditor.templatesNoRemainingTemplates",defaultMessage:"All templates have been added"},metadataTemplatesServerHasNoTemplates:{id:"boxui.metadataInstanceEditor.templatesServerHasNoTemplates",defaultMessage:"Zero templates"},metadataSave:{id:"boxui.metadataInstanceEditor.metadataSave",defaultMessage:"Save"},metadataCancel:{id:"boxui.metadataInstanceEditor.metadataCancel",defaultMessage:"Cancel"},metadataCascadePolicyEnabledInfo:{id:"boxui.metadataInstanceEditor.metadataCascadePolicyEnabledInfo",defaultMessage:"This template and its values are being cascaded to all items in this folder and its subfolders."},noMetadata:{id:"boxui.metadataInstanceEditor.noMetadata",defaultMessage:"No Metadata Applied"},noMetadataAddTemplate:{id:"boxui.metadataInstanceEditor.noMetadataAddTemplate",defaultMessage:"Click 'Add' in the top right to add metadata to this item"},enableCascadePolicy:{id:"boxui.metadataInstanceEditor.enableCascadePolicy",defaultMessage:"Enable cascade policy"},applyCascadePolicyText:{id:"boxui.metadataInstanceEditor.applyCascadePolicyText",defaultMessage:"Apply template and its values to all new and existing items in this folder and its subfolders."},cannotApplyCascadePolicyText:{id:"boxui.metadataInstanceEditor.cannotApplyCascadePolicyText",defaultMessage:"Cascade policy cannot be applied to custom metadata at this time."},cascadePolicyLearnMore:{id:"boxui.metadataInstanceEditor.cascadePolicyLearnMore",defaultMessage:"Learn more"},cascadePolicyModeQuestion:{id:"boxui.metadataInstanceEditor.cascadePolicyModeQuestion",defaultMessage:"In the case of conflicts when applying this template and its values to existing items, what would you like to do?"},cascadePolicySkipMode:{id:"boxui.metadataInstanceEditor.cascadePolicySkipMode",defaultMessage:"Skip and keep all existing template values"},cascadePolicyOverwriteMode:{id:"boxui.metadataInstanceEditor.cascadePolicyOverwriteMode",defaultMessage:"Overwrite all existing template values"},allAttributesAreHidden:{id:"boxui.metadataInstanceEditor.allAttributesAreHidden",defaultMessage:"All attributes in this template have been hidden."},noAttributesForTemplate:{id:"boxui.metadataInstanceEditor.noAttributesForTemplate",defaultMessage:"There are no attributes in this template."}}),L=(a(2076),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}),B=function(e){var t=e.className,a=void 0===t?"":t,i=e.description,o=e.inputProps,r=void 0===o?{}:o,s=e.isDisabled,l=e.isOn,c=e.isToggleRightAligned,d=void 0!==c&&c,u=e.label,p=e.name,m=e.onChange,h=f()("toggle-container",a,{"is-toggle-right-aligned":d}),y=[n.createElement("div",{key:"toggle-simple-switch",className:"toggle-simple-switch"}),n.createElement("div",{key:"toggle-simple-label",className:"toggle-simple-label"},u)];return d&&(y=y.reverse()),n.createElement("div",{className:h},n.createElement("label",{className:"toggle-simple"},n.createElement("input",L({checked:l,className:"toggle-simple-input",disabled:s,name:p,onChange:m,type:"checkbox"},r)),y),i?n.createElement("div",{className:"toggle-simple-description"},i):null)};B.propTypes={className:P.a.string,description:P.a.node,inputProps:P.a.object,isDisabled:P.a.bool,isOn:P.a.bool,isToggleRightAligned:P.a.bool,label:P.a.node.isRequired,name:P.a.string,onChange:P.a.func};var z=B,U=(a(2078),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e});var W=function(){},Z=function(e){var t=e.isDisabled,a=e.isSelected,i=void 0!==a&&a,o=e.description,r=e.hideLabel,s=void 0!==r&&r,l=e.label,c=e.name,d=e.value,u=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["isDisabled","isSelected","description","hideLabel","label","name","value"]);return n.createElement("div",{className:"radio-container"},n.createElement("label",{className:"radio-label"},n.createElement("input",U({disabled:t,name:c,onChange:W,type:"radio",checked:i,value:d},u)),n.createElement("span",null),n.createElement("span",{className:s?"accessibility-hidden":""},l)),o?n.createElement("div",{className:"radio-description"},o):null)};Z.propTypes={isDisabled:P.a.bool,isSelected:P.a.bool,description:P.a.node,hideLabel:P.a.bool,label:P.a.node.isRequired,name:P.a.string,value:P.a.string.isRequired};var $=Z,J=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var Q=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeHandler=function(e){var t=e.target,n=a.props.onChange;t instanceof HTMLInputElement&&a.setState({value:t.value}),n&&n(e)},a.state={value:e.value},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),J(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,i=e.name,o=this.state.value;return n.createElement("div",{className:"radio-group "+a,onChange:this.onChangeHandler},n.Children.map(t,function(e){return n.createElement($,{isDisabled:e.props.isDisabled,isSelected:e.props.value===o,description:e.props.description,label:e.props.label,name:i,value:e.props.value})}))}}]),t}();Q.defaultProps={className:""},Q.propTypes={children:P.a.node.isRequired,className:P.a.string.isRequired,name:P.a.string,value:P.a.string,onChange:P.a.func};var G=Q,X=a(2013),Y=(a(2080),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}),ee=function(e){var t=e.canEdit,a=e.isCascadingEnabled,i=e.isCascadingOverwritten,o=e.isCustomMetadata,r=e.onCascadeToggle,s=e.onCascadeModeChange,l=e.shouldShowCascadeOptions,c=a?n.createElement("div",{className:"metadata-cascade-notice"},n.createElement(u.b,H.metadataCascadePolicyEnabledInfo)):null;return t?n.createElement("div",{className:"metadata-cascade-editor"},n.createElement("div",{className:"metadata-cascade-enable"},n.createElement("div",null,n.createElement(u.b,Y({tagName:"strong"},H.enableCascadePolicy)),!o&&n.createElement(z,{label:"",className:"metadata-cascade-toggle "+(a?"cascade-on":"cascade-off"),isOn:a,onChange:function(e){return r(e.target.checked)}})),o?n.createElement("div",null,n.createElement(u.b,H.cannotApplyCascadePolicyText)):n.createElement("div",null,n.createElement(u.b,H.applyCascadePolicyText),"\xa0",n.createElement(X.a,{className:"cascade-policy-learnmore-link",href:"https://community.box.com/t5/Organizing-and-Tracking-Content/Metadata/ta-p/30765",target:"_blank"},n.createElement(u.b,H.cascadePolicyLearnMore)))),l&&n.createElement(n.Fragment,null,n.createElement("hr",null),n.createElement("div",{className:"metadata-cascading-mode"},n.createElement(u.b,H.cascadePolicyModeQuestion),n.createElement(G,{className:"metadata-cascading-options",value:i?"overwrite":"skip",onChange:function(e){return s("overwrite"===e.target.value)}},n.createElement($,{label:n.createElement(u.b,H.cascadePolicySkipMode),value:"skip"}),n.createElement($,{label:n.createElement(u.b,H.cascadePolicyOverwriteMode),value:"overwrite"}))))):c};ee.propTypes={canEdit:P.a.bool.isRequired,isCascadingEnabled:P.a.bool.isRequired,isCascadingOverwritten:P.a.bool.isRequired,isCustomMetadata:P.a.bool.isRequired,onCascadeToggle:P.a.func.isRequired,onCascadeModeChange:P.a.func.isRequired,shouldShowCascadeOptions:P.a.bool.isRequired};var te=ee,ae=a(1981),ne=a(1999),ie=(a(2082),"string"),oe="properties",re=P.a.oneOfType([P.a.string,P.a.number,P.a.arrayOf(P.a.any)]),se={},le=P.a.oneOfType([P.a.any,P.a.any,P.a.any,P.a.any,P.a.any]),ce={id:P.a.string,key:P.a.string.isRequired},de=(P.a.string.isRequired,P.a.oneOfType([P.a.any,P.a.any,P.a.any,P.a.any,P.a.any]).isRequired,P.a.string.isRequired,P.a.string.isRequired,P.a.string,P.a.bool,P.a.bool,P.a.arrayOf(P.a.shape({id:P.a.string,key:P.a.string.isRequired})),{id:P.a.string.isRequired,scope:P.a.string.isRequired,templateKey:P.a.string.isRequired,displayName:P.a.string,fields:P.a.arrayOf(P.a.shape({id:P.a.string.isRequired,type:P.a.oneOfType([P.a.any,P.a.any,P.a.any,P.a.any,P.a.any]).isRequired,key:P.a.string.isRequired,displayName:P.a.string.isRequired,description:P.a.string,isHidden:P.a.bool,hidden:P.a.bool,options:P.a.arrayOf(P.a.shape({id:P.a.string,key:P.a.string.isRequired}))})),isHidden:P.a.bool,hidden:P.a.bool}),ue={canEdit:P.a.bool,id:P.a.string},pe=(P.a.string.isRequired,P.a.shape({}).isRequired,P.a.bool.isRequired,P.a.shape({canEdit:P.a.bool,id:P.a.string}),{hasError:P.a.bool,instance:P.a.shape({id:P.a.string.isRequired,data:P.a.shape({}).isRequired,canEdit:P.a.bool.isRequired,cascadePolicy:P.a.shape({canEdit:P.a.bool,id:P.a.string})}).isRequired,isDirty:P.a.bool,template:P.a.shape({id:P.a.string.isRequired,scope:P.a.string.isRequired,templateKey:P.a.string.isRequired,displayName:P.a.string,fields:P.a.arrayOf(P.a.shape({id:P.a.string.isRequired,type:P.a.oneOfType([P.a.any,P.a.any,P.a.any,P.a.any,P.a.any]).isRequired,key:P.a.string.isRequired,displayName:P.a.string.isRequired,description:P.a.string,isHidden:P.a.bool,hidden:P.a.bool,options:P.a.arrayOf(P.a.shape({id:P.a.string,key:P.a.string.isRequired}))})),isHidden:P.a.bool,hidden:P.a.bool}).isRequired}),fe=(P.a.oneOfType([P.a.any,P.a.any,P.a.any,P.a.any]).isRequired,P.a.string.isRequired,P.a.oneOfType([P.a.string,P.a.number,P.a.arrayOf(P.a.any)]),P.a.arrayOf(P.a.shape({op:P.a.oneOfType([P.a.any,P.a.any,P.a.any,P.a.any]).isRequired,path:P.a.string.isRequired,value:P.a.oneOfType([P.a.string,P.a.number,P.a.arrayOf(P.a.any)])})),P.a.string,P.a.bool.isRequired,P.a.bool.isRequired,P.a.any,P.a.number.isRequired,P.a.string.isRequired,P.a.bool,P.a.object,P.a.object.isRequired,P.a.number.isRequired,P.a.any,P.a.string.isRequired,P.a.bool,P.a.string.isRequired,P.a.string,P.a.any,function(e){var t=e.dataKey,a=e.dataValue,i=e.displayName,o=e.description,r=e.error,s=e.intl,l=e.onChange,c=e.onRemove,d=e.type,u=void 0===d?"text":d,p="";return"number"===typeof a?p=a:a&&(p=a),n.createElement(ne.a,{className:"metadata-instance-editor-field-text",description:o,error:r,hideOptionalLabel:!0,label:i,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var a=e.currentTarget;a.value?l(t,a.value):c(t)}),placeholder:s.formatMessage(H.metadataFieldSetValue),type:u,value:p})});fe.propTypes={dataKey:P.a.string.isRequired,dataValue:function(){return("function"===typeof re?re:P.a.shape(re)).apply(this,arguments)},description:P.a.string,displayName:P.a.string.isRequired,error:P.a.node,intl:function(e,t,a){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error("Prop `"+t+"` has type 'any' or 'mixed', but was not provided to `"+a+"`. Pass undefined or any other value.")},onChange:P.a.func.isRequired,onRemove:P.a.func.isRequired,type:P.a.string};var me=Object(u.g)(fe),he=a(1990),ye=a(50),ve=a.n(ye),ge=a(395),be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var Ee=function(e){var t=e.children,a=e.className,i=void 0===a?"":a,o=e.isDisabled,r=void 0!==o&&o,s=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["children","className","isDisabled"]);return n.createElement("button",be({className:"select-button "+i,type:"button",disabled:r},s),t)};Ee.propTypes={children:P.a.node,className:P.a.string,isDisabled:P.a.bool};var Oe=Ee,Ce=a(2007),we=(a(2086),P.a.oneOfType([P.a.string,P.a.number])),Re={displayText:P.a.string.isRequired,value:P.a.oneOfType([P.a.string,P.a.number])},Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Se=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function Ne(e){e.preventDefault(),e.stopPropagation()}var Pe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setActiveItem=function(e){a.setState({activeItemIndex:e}),-1===e&&a.setActiveItemID(null)},a.setActiveItemID=function(e){a.setState({activeItemID:e}),a.scrollItemIntoView(e)},a.scrollItemIntoView=function(e){var t=e?document.getElementById(e):null;t&&Object(g.a)(t,!1)},a.handleChange=function(e){var t=a.props.onChange;t&&t(e)},a.handleOptionSelect=function(e){var t=a.props.onOptionSelect;t&&t(e)},a.handleButtonClick=function(){a.state.isOpen?a.closeDropdown():a.openDropdown()},a.handleButtonKeyDown=function(e){var t=a.state.activeItemIndex;" "!==e.key&&"Enter"!==e.key||-1===t||e.preventDefault()},a.handleBlur=function(){a.state.isOpen&&a.closeDropdown()},a.handleKeyDown=function(e){var t=a.props.options,n=a.state,i=n.activeItemIndex,o=n.isOpen,r=t.length;switch(e.key){case"ArrowDown":if(Ne(e),o){var s=i===r-1?-1:i+1;a.setActiveItem(s)}else a.openDropdown();break;case"ArrowUp":if(Ne(e),o){var l=-1===i?r-1:i-1;a.setActiveItem(l)}else a.openDropdown();break;case"Enter":case" ":-1!==i&&o&&(Ne(e),a.selectOption(i),"Enter"===e.key&&a.closeDropdown());break;case"Escape":o&&(Ne(e),a.closeDropdown())}},a.openDropdown=function(){a.state.isOpen||a.setState({isOpen:!0})},a.closeDropdown=function(){a.state.isOpen&&a.setState({activeItemID:null,activeItemIndex:-1,isOpen:!1})},a.selectOption=function(e){a.props.multiple?a.selectMultiOption(e):(a.selectSingleOption(e),a.closeDropdown())},a.selectMultiOption=function(e){var t=a.props,n=t.defaultValue,i=t.options,o=t.selectedValues,r=null!=n,s=i[e];if(r&&n===s.value)a.selectSingleOption(e);else{var l=o.slice(0);if(function(e,t){var a=e.indexOf(t);-1===a?e.push(t):e.splice(a,1)}(l,s.value),r){var c=i.findIndex(function(e){return e.value===n});if(-1!==c){if(0===l.length)return void a.selectSingleOption(c);l.length>1&&l.includes(n)&&l.splice(c,1)}}a.handleChange(i.filter(function(e){return l.includes(e.value)})),a.handleOptionSelect(s)}},a.renderButtonText=function(){var e=a.props,t=e.options,n=e.placeholder,i=e.selectedValues,o=e.title;return 0===i.length&&n?n:o||t.filter(function(e){return i.includes(e.value)}).map(function(e){return e.displayText}).join(", ")},a.renderSelectButton=function(){var e=a.state,t=e.activeItemID,i=e.isOpen,o=a.props,r=o.buttonProps,s=o.isDisabled,l=o.className,c=a.renderButtonText(),d=Te({},r,{"aria-activedescendant":t,"aria-autocomplete":"list","aria-expanded":i,"aria-owns":a.selectFieldID,className:l,isDisabled:s,onClick:a.handleButtonClick,onKeyDown:a.handleButtonKeyDown,role:"combobox",title:c});return n.createElement(Oe,d,c)},a.renderSelectOptions=function(){var e=a.props,t=e.options,i=e.selectedValues,o=e.separatorIndices,r=a.state.activeItemIndex,s=t.map(function(e,t){var o=e.displayText,s=e.value,l=i.includes(s),c={className:"select-option",key:t,onClick:function(e){e.preventDefault(),a.selectOption(t)},onMouseDown:function(e){e.preventDefault()},onMouseEnter:function(){a.setActiveItem(t)},setActiveItemID:a.setActiveItemID};return t===r&&(c.isActive=!0),n.createElement(Ce.a,c,n.createElement("div",{className:"select-option-check-icon"},l?n.createElement(ge.a,{height:16,width:16}):null),o)});return o.forEach(function(e,t){s.splice(e+t,0,n.createElement("li",{key:"separator"+e,role:"separator"}))}),s},a.selectFieldID=ve()("selectfield"),a.state={activeItemID:null,activeItemIndex:-1,isOpen:!1},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),t.propTypes={buttonProps:P.a.object,className:P.a.string,defaultValue:function(){return("function"===typeof we?we:P.a.shape(we)).apply(this,arguments)},isDisabled:P.a.bool,multiple:P.a.bool.isRequired,onChange:P.a.func.isRequired,onOptionSelect:P.a.func,options:P.a.arrayOf(function(){return("function"===typeof Re?Re:P.a.shape(Re)).apply(this,arguments)}).isRequired,placeholder:P.a.oneOfType([P.a.string,P.a.node]),selectedValues:P.a.arrayOf(function(){return("function"===typeof we?we:P.a.shape(we)).apply(this,arguments)}).isRequired,separatorIndices:P.a.arrayOf(P.a.number).isRequired,title:P.a.oneOfType([P.a.string,P.a.node])},Se(t,[{key:"selectSingleOption",value:function(e){var t=this.props,a=t.options,n=t.selectedValues,i=a[e];n.includes(i.value)||this.handleChange([i]),this.handleOptionSelect(i)}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.multiple,i=this.state.isOpen,o={};return a&&(o["aria-multiselectable"]=!0),n.createElement("div",{className:f()("select-container",t),onBlur:this.handleBlur,onKeyDown:this.handleKeyDown},n.createElement("div",{className:"select-field"},this.renderSelectButton(),n.createElement("div",{className:f()("overlay-wrapper",{"is-visible":i})},n.createElement("ul",Te({className:"overlay",id:this.selectFieldID,role:"listbox"},o),this.renderSelectOptions()))))}}]),t}();Pe.defaultProps={buttonProps:{},isDisabled:!1,multiple:!1,options:[],selectedValues:[],separatorIndices:[]},Pe.propTypes={buttonProps:P.a.object,className:P.a.string,defaultValue:function(){return("function"===typeof we?we:P.a.shape(we)).apply(this,arguments)},isDisabled:P.a.bool,multiple:P.a.bool.isRequired,onChange:P.a.func.isRequired,onOptionSelect:P.a.func,options:P.a.arrayOf(function(){return("function"===typeof Re?Re:P.a.shape(Re)).apply(this,arguments)}).isRequired,placeholder:P.a.oneOfType([P.a.string,P.a.node]),selectedValues:P.a.arrayOf(function(){return("function"===typeof we?we:P.a.shape(we)).apply(this,arguments)}).isRequired,separatorIndices:P.a.arrayOf(P.a.number).isRequired,title:P.a.oneOfType([P.a.string,P.a.node])};var qe=Pe,Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},je=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function ke(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Ie=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];return a=n=ke(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleChange=function(e){var t=n.props,a=t.onChange,i=t.fieldType;a&&1===e.length&&a(e[0],i)},ke(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),je(t,[{key:"render",value:function(){var e=this.props,t=e.isDisabled,a=e.selectedValue,i=e.placeholder,o=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["isDisabled","selectedValue","placeholder"]),r=E()(o,["defaultValue","multiple","onChange"]),s=null!==a;return r.selectedValues=s?[a]:[],n.createElement(qe,Me({isDisabled:t,onChange:this.handleChange,placeholder:i,className:!s&&i?"placeholder":""},r))}}]),t}();Ie.propTypes={fieldType:P.a.string,isDisabled:P.a.bool,selectedValue:function(){return("function"===typeof we?we:P.a.shape(we)).apply(this,arguments)},placeholder:P.a.string,onChange:P.a.func.isRequired};var xe=Ie,Ae=(a(2090),function(e){var t=e.dataKey,a=e.dataValue,i=e.displayName,o=e.description,r=e.intl,s=e.onChange,l=e.onRemove,c=e.options,d=(void 0===c?[]:c).map(function(e){return{displayText:e.key,value:e.key,isSelectable:!0}}),u=r.formatMessage(H.metadataFieldSelectValue);return d.unshift({displayText:u,value:u,isSelectable:!1}),n.createElement("div",{className:"metadata-instance-editor-field-enum"},n.createElement(he.a,{text:i},!!o&&n.createElement("i",{className:"metadata-instance-editor-field-enum-desc"},o),n.createElement(xe,{onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){e.isSelectable?s(t,e.value):l&&l(t)}),options:d,selectedValue:Array.isArray(a)?a.join(", "):a||u})))});Ae.propTypes={dataKey:P.a.string.isRequired,dataValue:function(){return("function"===typeof re?re:P.a.shape(re)).apply(this,arguments)},description:P.a.string,displayName:P.a.string.isRequired,intl:function(e,t,a){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error("Prop `"+t+"` has type 'any' or 'mixed', but was not provided to `"+a+"`. Pass undefined or any other value.")},onChange:P.a.func.isRequired,onRemove:P.a.func.isRequired,options:P.a.arrayOf(function(){return("function"===typeof ce?ce:P.a.shape(ce)).apply(this,arguments)})};var De=Object(u.g)(Ae),Fe=a(2006),_e=a(506),Ve=(a(2095),function(e){var t=e.dataKey,a=e.dataValue,i=e.displayName,o=e.description,r=e.intl,s=e.onChange,l=e.onRemove;return n.createElement(Fe.a,{className:"metadata-instance-editor-field-date",dateFormat:"utcISOString",displayFormat:{day:"numeric",month:"long",year:"numeric"},description:o,hideOptionalLabel:!0,label:i,onChange:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,a){a?s(t,a):l(t)}),placeholder:r.formatMessage(H.metadataFieldSetDate),value:"string"===typeof a?Object(_e.c)(a):void 0})});Ve.propTypes={dataKey:P.a.string.isRequired,dataValue:function(){return("function"===typeof re?re:P.a.shape(re)).apply(this,arguments)},description:P.a.string,displayName:P.a.string.isRequired,intl:function(e,t,a){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error("Prop `"+t+"` has type 'any' or 'mixed', but was not provided to `"+a+"`. Pass undefined or any other value.")},onChange:P.a.func.isRequired,onRemove:P.a.func.isRequired};var Ke=Object(u.g)(Ve),He=/^[-+]?[0-9]*\.?[0-9]*$/,Le=/^[-+]?[0-9]*\.?[0-9]+$/,Be=/^[-+]?[0-9]+$/,ze=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"float"===e&&"string"===typeof t?a.allowTrailingPeriod?function(e){return!!e.match(He)}(t):function(e){return!!e.match(Le)}(t):"integer"!==e||"string"!==typeof t||function(e){return!!e.match(Be)}(t)},Ue=function(e){var t=e.dataKey,a=e.dataValue,i=e.displayName,o=e.description,r=e.error,s=e.onChange,l=e.onRemove,c=e.type;return n.createElement(me,{dataKey:t,dataValue:a,description:o,displayName:i,error:r,onChange:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){ze(c,t,{allowTrailingPeriod:!0})&&s(e,t)}),onRemove:l})};Ue.propTypes={dataKey:P.a.string.isRequired,dataValue:function(){return("function"===typeof re?re:P.a.shape(re)).apply(this,arguments)},description:P.a.string,displayName:P.a.string.isRequired,error:P.a.node,onChange:P.a.func.isRequired,onRemove:P.a.func.isRequired,type:P.a.string.isRequired};var We=Ue,Ze=function(e){var t=e.dataKey,a=e.dataValue,i=e.displayName,o=e.description,r=e.error,s=e.onChange,l=e.onRemove,c=e.type;return n.createElement(me,{dataKey:t,dataValue:a,description:o,displayName:i,error:r,onChange:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){ze(c,t)&&s(e,t)}),onRemove:l})};Ze.propTypes={dataKey:P.a.string.isRequired,dataValue:function(){return("function"===typeof re?re:P.a.shape(re)).apply(this,arguments)},description:P.a.string,displayName:P.a.string.isRequired,error:P.a.node,onChange:P.a.func.isRequired,onRemove:P.a.func.isRequired,type:P.a.string.isRequired};var $e=Ze,Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var Qe=function(e){var t=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,[]);return i.a.createElement(qe,Je({},t,{multiple:!0}))};Qe.propTypes={onChange:P.a.func.isRequired};var Ge=Qe,Xe=(a(2097),function(e){var t=e.dataKey,a=e.dataValue,i=e.displayName,o=e.description,r=e.onChange,s=e.onRemove,l=e.options,c=void 0===l?[]:l,d=n.createElement(u.b,H.metadataFieldMultiSelectValue);return n.createElement("div",{className:"metadata-instance-editor-field-multi-select"},n.createElement(he.a,{text:i},!!o&&n.createElement("i",{className:"metadata-instance-editor-field-multi-select-desc"},o),n.createElement(Ge,{onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){e.length?r(t,e.map(function(e){return e.value})):s(t)}),options:c.map(function(e){return{displayText:e.key,value:e.key}}),placeholder:d,selectedValues:a})))});Xe.propTypes={dataKey:P.a.string.isRequired,dataValue:function(){return("function"===typeof re?re:P.a.shape(re)).apply(this,arguments)},description:P.a.string,displayName:P.a.string.isRequired,onChange:P.a.func.isRequired,onRemove:P.a.func.isRequired,options:P.a.arrayOf(function(){return("function"===typeof ce?ce:P.a.shape(ce)).apply(this,arguments)})};var Ye=Xe,et=(a(2099),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}),tt=function(e){var t=e.dataValue,a=e.description,i=e.displayName,o=e.type,r=n.createElement(u.b,et({tagName:"i"},H.metadataFieldNoValue));return(t||"number"===typeof t)&&(r="string"===typeof t&&"date"===o?n.createElement(u.a,{value:Object(_e.c)(t),year:"numeric",month:"long",day:"numeric"}):Array.isArray(t)?t.join(", "):t),n.createElement("dl",{className:"metadata-instance-editor-field-read-only"},n.createElement("dt",null,i),!!a&&n.createElement("i",{className:"metadata-instance-editor-field-read-only-desc"},a),n.createElement("dd",null,r))};tt.propTypes={dataValue:function(){return("function"===typeof re?re:P.a.shape(re)).apply(this,arguments)},description:P.a.string,displayName:P.a.string.isRequired,type:function(){return("function"===typeof le?le.isRequired?le.isRequired:le:P.a.shape(le).isRequired).apply(this,arguments)}};var at=tt,nt=function(e){var t=e.dataKey,a=e.dataValue,i=e.displayName,o=e.description,r=e.error,s=e.isHidden,l=e.canEdit,c=e.onChange,d=e.onRemove,p=e.options,f=e.type;if(s)return null;if(!l)return n.createElement(at,{dataValue:a,description:o,displayName:i,type:f});if(!c||!d)throw new Error("Need to have onChange and onRemove");switch(f){case ie:return n.createElement(me,{dataKey:t,dataValue:a,description:o,displayName:i,onChange:c,onRemove:d});case"float":return n.createElement(We,{dataKey:t,dataValue:a,description:o,displayName:i,error:r,onChange:c,onRemove:d,type:f});case"integer":return n.createElement($e,{dataKey:t,dataValue:a,description:o,displayName:i,error:r,onChange:c,onRemove:d,type:f});case"enum":return n.createElement(De,{dataKey:t,dataValue:a,displayName:i,description:o,onChange:c,onRemove:d,options:p});case"multiSelect":return n.createElement(Ye,{dataKey:t,dataValue:a,displayName:i,description:o,onChange:c,onRemove:d,options:p});case"date":return n.createElement(Ke,{dataKey:t,dataValue:a,displayName:i,description:o,onChange:c,onRemove:d});default:return n.createElement(ae.a,{title:f},n.createElement(u.b,H.invalidMetadataFieldType))}};nt.propTypes={dataKey:P.a.string.isRequired,displayName:P.a.string.isRequired,dataValue:function(){return("function"===typeof re?re:P.a.shape(re)).apply(this,arguments)},description:P.a.string,error:P.a.node,isHidden:P.a.bool,canEdit:P.a.bool.isRequired,onChange:P.a.func,onRemove:P.a.func,options:P.a.arrayOf(function(){return("function"===typeof ce?ce:P.a.shape(ce)).apply(this,arguments)}),type:function(){return("function"===typeof le?le.isRequired?le.isRequired:le:P.a.shape(le).isRequired).apply(this,arguments)}};var it=nt,ot=function(e){return!!e.isHidden||!!e.hidden},rt=(a(2101),function(e){var t=e.canEdit,a=e.data,i=void 0===a?{}:a,o=e.errors,r=e.onFieldChange,s=e.onFieldRemove,l=e.template.fields,c=void 0===l?[]:l,d=c.length>0,p=d&&c.some(function(e){return!ot(e)}),f=!d,m=d&&!p;return n.createElement(n.Fragment,null,p&&c.map(function(e){return n.createElement(it,{key:e.id,canEdit:t,dataKey:e.key,dataValue:i[e.key],description:e.description,displayName:e.displayName,error:o[e.key],isHidden:ot(e),onChange:function(a,n){t&&r&&r(a,n,e.type)},onRemove:function(e){t&&s&&s(e)},options:e.options,type:e.type})}),m&&n.createElement("div",{className:"attributes-hidden-message"},n.createElement(u.b,H.allAttributesAreHidden)),f&&n.createElement("div",{className:"no-attributes-message"},n.createElement(u.b,H.noAttributesForTemplate)))});rt.propTypes={canEdit:P.a.bool.isRequired,errors:P.a.shape({}).isRequired,onFieldChange:P.a.func,onFieldRemove:P.a.func,data:function(){return("function"===typeof se?se.isRequired?se.isRequired:se:P.a.shape(se).isRequired).apply(this,arguments)},template:function(){return("function"===typeof de?de.isRequired?de.isRequired:de:P.a.shape(de).isRequired).apply(this,arguments)}};var st=rt,lt=a(1985),ct=a(71),dt=a(212),ut=a(680),pt=(a(2103),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}),ft=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function mt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var ht=function(e){function t(){var e,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];return a=i=mt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),i.state={key:"",value:"",error:""},i.onKeyChange=function(e){i.onChange(e,"key")},i.onValueChange=function(e){i.onChange(e,"value")},i.onAdd=function(){var e=i.state,t=e.key,a=e.value,o=i.props,r=o.onAdd,s=o.properties;Object.prototype.hasOwnProperty.call(s,t)?i.setState({error:n.createElement(u.b,H.customErrorDuplicateKey)}):t.startsWith("$")?i.setState({error:n.createElement(u.b,H.customErrorInternalKey)}):t?r(t,a):i.setState({error:n.createElement(u.b,H.customErrorRequired)})},mt(i,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["PureComponent"]),ft(t,[{key:"onChange",value:function(e,t){var a,n,i,o=e.currentTarget;this.setState((a={error:""},n=t,i=o.value,n in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a))}},{key:"render",value:function(){var e=this.props,t=e.intl,a=e.isCancellable,i=e.onCancel,o=this.state,r=o.key,s=o.value,l=o.error;return n.createElement("div",{className:"custom-new-field"},n.createElement("div",{className:"custom-new-field-header"},n.createElement(u.b,pt({tagName:"h5"},H.customNewField)),n.createElement(dt.b,{text:n.createElement(u.b,H.customNewFieldMessage)},n.createElement("div",{tabIndex:"-1"},n.createElement(ut.a,{color:"#777",width:18,height:18})))),n.createElement(ne.a,{error:l,label:n.createElement(u.b,H.customKey),isRequired:!0,onChange:this.onKeyChange,placeholder:t.formatMessage(H.customKeyPlaceholder),type:"text",value:r}),n.createElement(ne.a,{hideOptionalLabel:!0,label:n.createElement(u.b,H.customValue),onChange:this.onValueChange,placeholder:t.formatMessage(H.customValuePlaceholder),type:"text",value:s}),n.createElement("div",{className:"custom-new-field-actions"},a&&n.createElement(ct.a,{type:"button","data-resin-target":"metadata-customfieldcancel",onClick:i},n.createElement(u.b,lt.a.cancel)),n.createElement(ct.a,{type:"button","data-resin-target":"metadata-customfieldadd",onClick:this.onAdd},n.createElement(u.b,H.customAdd))))}}]),t}();ht.propTypes={intl:function(e,t,a){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error("Prop `"+t+"` has type 'any' or 'mixed', but was not provided to `"+a+"`. Pass undefined or any other value.")},isCancellable:P.a.bool.isRequired,onAdd:P.a.func.isRequired,onCancel:P.a.func.isRequired,properties:function(){return("function"===typeof se?se.isRequired?se.isRequired:se:P.a.shape(se).isRequired).apply(this,arguments)}};var yt=Object(u.g)(ht),vt=a(681),gt=function(e){var t=e.className,a=void 0===t?"":t,i=e.color,o=void 0===i?"#222":i,r=e.height,s=void 0===r?1:r,l=e.title,c=e.width,d=void 0===c?9:c;return n.createElement(I.a,{className:"icon-minus-thin "+a,title:l,width:d,height:s,viewBox:"0 0 9 1"},n.createElement("path",{className:"fill-color",d:"M0 0h9v1H0z",fill:o,fillRule:"evenodd"}))};gt.propTypes={className:P.a.string,color:P.a.string,height:P.a.number,title:P.a.oneOfType([P.a.string,P.a.node]),width:P.a.number};var bt=gt,Et=function(e){var t=e.className,a=void 0===t?"":t,i=e.color,o=void 0===i?"#222":i,r=e.height,s=void 0===r?9:r,l=e.title,c=e.width,d=void 0===c?9:c;return n.createElement(I.a,{className:"icon-plus-thin "+a,title:l,width:d,height:s,viewBox:"0 0 9 9"},n.createElement("path",{className:"fill-color",d:"M5 4V0H4v4H0v1h4v4h1V5h4V4H5z",fill:o,fillRule:"evenodd"}))};Et.propTypes={className:P.a.string,color:P.a.string,height:P.a.number,title:P.a.oneOfType([P.a.string,P.a.node]),width:P.a.number};var Ot=Et,Ct=(a(2105),function(e){var t=e.intl,a=e.canEdit,i=e.isLast,o=e.dataKey,r=e.dataValue,s=e.onAdd,l=e.onChange,c=e.onRemove,d=n.createElement(ct.a,{"aria-label":t.formatMessage(H.customAdd),"data-resin-target":"metadata-customfieldnew",type:"button",onClick:s},n.createElement(Ot,{color:"#999"})),u=n.createElement(ct.a,{"aria-label":t.formatMessage(H.customRemove),"data-resin-target":"metadata-customfieldremove",type:"button",onClick:function(){c&&c(o)}},n.createElement(bt,{color:"#999"}));return n.createElement("div",{className:"metadata-instance-editor-field-custom"},n.createElement(it,{dataKey:o,dataValue:r,displayName:o,canEdit:a,onChange:l,onRemove:function(e){return l(e,"")},type:"string"}),a&&n.createElement("div",{className:"metadata-instance-editor-field-custom-actions"},i?n.createElement(vt.a,null,u,d):u))});Ct.propTypes={dataKey:P.a.string.isRequired,dataValue:function(){return("function"===typeof re?re.isRequired?re.isRequired:re:P.a.shape(re).isRequired).apply(this,arguments)},intl:function(e,t,a){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error("Prop `"+t+"` has type 'any' or 'mixed', but was not provided to `"+a+"`. Pass undefined or any other value.")},canEdit:P.a.bool.isRequired,isLast:P.a.bool.isRequired,onAdd:P.a.func.isRequired,onChange:P.a.func.isRequired,onRemove:P.a.func.isRequired};var wt=Object(u.g)(Ct),Rt=function(e){var t=e.className,a=void 0===t?"":t,i=e.color,o=void 0===i?"#0061D5":i,r=e.title,s=e.width,l=void 0===s?140:s;return n.createElement(I.a,{className:"icon-add-metadata-empty-state "+a,title:r,width:l,viewBox:"0 0 140 105"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M92 1.134V.492a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-90.5 83.5v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629A1.005 1.005 0 0 1 1.134 86H.49a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm136 5.5v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-29-78v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-80 3.5v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-5.563 8.075v-.402a.313.313 0 0 1 .625 0v.402a.628.628 0 0 1 .23.229h.401c.17 0 .307.144.307.312a.308.308 0 0 1-.307.313h-.402a.628.628 0 0 1-.229.228v.402a.313.313 0 0 1-.625.004v-.406a.628.628 0 0 1-.228-.229h-.402A.313.313 0 0 1 22 24.25c0-.173.134-.313.307-.313h.402a.628.628 0 0 1 .229-.228zm-11.5 79v-.402a.313.313 0 0 1 .626 0v.402a.628.628 0 0 1 .228.228h.402c.17 0 .307.145.307.313a.308.308 0 0 1-.307.313h-.402a.628.628 0 0 1-.229.228v.402a.313.313 0 0 1-.624.004v-.406a.628.628 0 0 1-.23-.228h-.401a.313.313 0 0 1-.307-.313c0-.173.134-.313.307-.313h.402a.628.628 0 0 1 .229-.228z",fill:o}),n.createElement("path",{d:"M17 54c0-3.866 3.133-7 6.992-7h106.016c3.861 0 6.992 3.142 6.992 7 0 3.866-3.133 7-6.992 7H23.992C20.131 61 17 57.858 17 54zm-6 20c0-3.866 3.133-7 6.992-7h106.016c3.861 0 6.992 3.142 6.992 7 0 3.866-3.133 7-6.992 7H17.992C14.131 81 11 77.858 11 74zM5 94c0-3.866 3.133-7 6.992-7h106.016c3.861 0 6.992 3.142 6.992 7 0 3.866-3.133 7-6.992 7H11.992C8.131 101 5 97.858 5 94z",fillOpacity:".1",fill:o}),n.createElement("path",{d:"M130 61a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm-6 20a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm0-2a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm-6 22a7 7 0 1 1 0-14 7 7 0 0 1 0 14z",fill:o}),n.createElement("path",{d:"M117.944 95.189l3.215-3.832a.996.996 0 0 1 1.407-.121c.423.355.475.99.126 1.406l-3.861 4.6a.993.993 0 0 1-1.4.128l-3.078-2.583a.993.993 0 0 1-.116-1.403 1 1 0 0 1 1.401-.13l2.306 1.935zm12-40l3.215-3.832a.996.996 0 0 1 1.407-.121c.423.355.475.99.126 1.406l-3.861 4.6a.993.993 0 0 1-1.4.128l-3.078-2.583a.993.993 0 0 1-.116-1.403 1 1 0 0 1 1.401-.13l2.306 1.935z",fill:"#FFF"}),n.createElement("path",{d:"M25 38.49c0-.823.668-1.49 1.509-1.49H54.77c.833 0 1.788.605 2.139 1.365l3.207 6.942c.348.754-.036 1.365-.86 1.365H26.491c-.824 0-1.491-.665-1.491-1.49V38.49z",stroke:o,strokeWidth:"2",fill:"#FFF"}),n.createElement("path",{d:"M27 40.49c0-.823.668-1.49 1.494-1.49h25.164c.825 0 1.751.62 2.07 1.386l2.869 6.9c.318.766-.096 1.386-.933 1.386H28.51A1.498 1.498 0 0 1 27 47.182V40.49z",fillOpacity:".1",fill:"#22A7F0"}),n.createElement("rect",{stroke:o,strokeWidth:"2",fill:"#FFF",x:"25",y:"43",width:"80",height:"53.197",rx:"1.5"}),n.createElement("path",{d:"M27 82.214c0-.827.657-1.34 1.475-1.185 0 0 3.614 1.268 23.858 1.268 12.585 0 18.165 3.312 25.334 3.312 14.499 0 23.954-4.331 23.954-4.331.762-.31 1.379.115 1.379.936v10.284c0 .827-.68 1.497-1.501 1.497H28.501A1.503 1.503 0 0 1 27 92.498V82.214z",fillOpacity:".1",fill:o})))};Rt.propTypes={className:P.a.string,color:P.a.string,title:P.a.oneOfType([P.a.string,P.a.node]),width:P.a.number};var Tt=Rt,St=(a(2107),function(e){var t=e.canAdd;return n.createElement("div",{className:"metadata-instance-editor-no-instances"},n.createElement(Tt,null),n.createElement("p",{className:"metadata-instance-editor-no-instances--call-out"},n.createElement(u.b,H.noMetadata)),t&&n.createElement("p",{className:"metadata-instance-editor-no-instances--how-add-template"},n.createElement(u.b,H.noMetadataAddTemplate)))});St.propTypes={canAdd:P.a.bool};var Nt=St,Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},qt=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var Mt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onFieldChange=function(e,t){var n=a.props,i=n.canEdit,o=n.onFieldChange;i&&o&&o(e,t,ie)},a.onFieldRemove=function(e){var t=a.props,n=t.canEdit,i=t.onFieldRemove;n&&i&&i(e)},a.onAddFieldToggle=function(){a.setState(function(e){return{isAddFieldVisible:!e.isAddFieldVisible}})},a.state={isAddFieldVisible:!1,properties:Pt({},e.data)},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["PureComponent"]),qt(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({isAddFieldVisible:!1,properties:Pt({},e.data)})}},{key:"render",value:function(){var e=this,t=this.props.canEdit,a=this.state,i=a.isAddFieldVisible,o=a.properties,r=Object.keys(o),s=t&&(i||0===r.length);return n.createElement(n.Fragment,null,r.map(function(a,s){return n.createElement(wt,{key:a,isLast:!i&&s===r.length-1,canEdit:t,dataKey:a,dataValue:o[a],onChange:e.onFieldChange,onRemove:e.onFieldRemove,onAdd:e.onAddFieldToggle})}),!s&&0===r.length&&n.createElement(Nt,null),s&&n.createElement(yt,{isCancellable:0!==r.length,properties:this.props.data,onAdd:this.onFieldChange,onCancel:this.onAddFieldToggle}))}}]),t}();Mt.defaultProps={canEdit:!0,data:{}},Mt.propTypes={canEdit:P.a.bool.isRequired,onFieldChange:P.a.func,onFieldRemove:P.a.func,data:function(){return("function"===typeof se?se.isRequired?se.isRequired:se:P.a.shape(se).isRequired).apply(this,arguments)}};var jt=Mt,kt=a(147),It=(a(2109),function(e){var t=e.onCancel,a=e.onConfirm,i=e.confirmationMessage;return n.createElement("div",{className:"metadata-instance-confirm-cover"},n.createElement("div",{className:"metadata-instance-confim-container"},n.createElement("p",{className:"metadata-instance-confirm-text"},i),n.createElement("div",{className:"metadata-instance-confirm-buttons"},n.createElement(ct.a,{"data-resin-target":"metadata-confirmcancel",type:"button",onClick:t},n.createElement(u.b,H.metadataCancel)),n.createElement(kt.a,{"data-resin-target":"metadata-confirmremove",type:"button",onClick:a},n.createElement(u.b,H.customRemove)))))});It.propTypes={onCancel:P.a.func.isRequired,onConfirm:P.a.func.isRequired,confirmationMessage:P.a.oneOfType([P.a.string,P.a.node]).isRequired};var xt=It,At=(a(2111),function(e){var t=e.onCancel,a=e.onRemove,i=e.onSave;return n.createElement("div",{className:"metadata-instance-editor-footer"},n.createElement("div",{className:"metadata-instance-editor-footer-delete"},n.createElement(V.a,{"data-resin-target":"metadata-instanceremove",type:"button",onClick:a},n.createElement(u.b,H.metadataRemoveTemplate))),n.createElement("div",{className:"metadata-instance-editor-footer-save-cancel"},n.createElement(ct.a,{"data-resin-target":"metadata-instancecancel",type:"button",onClick:t},n.createElement(u.b,H.metadataCancel)),i&&n.createElement(kt.a,{"data-resin-target":"metadata-instancesave",type:"button",onClick:i},n.createElement(u.b,H.metadataSave))))});At.propTypes={onSave:P.a.func,onCancel:P.a.func.isRequired,onRemove:P.a.func.isRequired};var Dt=At,Ft=(a(2113),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}),_t=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var Vt=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var a=t.key,n=t.type;return e[a]=n,e},{})},Kt=function(e,t,a){var n=e[t];switch(a){case"float":return parseFloat(n);case"integer":return parseInt(n,10);default:return n}},Ht=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onCancel=function(){var e=a.props,t=e.id,n=e.onModification;a.setState(a.getState(a.props)),n&&n(t,!1)},a.onConfirmRemove=function(){a.setState({shouldConfirmRemove:!0})},a.onConfirmCancel=function(){a.setState({shouldConfirmRemove:!1})},a.onRemove=function(){if(a.isEditing()){var e=a.props,t=e.id,n=e.onRemove;n&&(n(t),a.setState({isBusy:!0}))}},a.onSave=function(){var e=a.props,t=e.cascadePolicy,n=e.data,i=e.id,o=e.isDirty,r=e.isCascadingPolicyApplicable,s=e.onSave,l=a.state,c=l.data,d=l.errors,u=l.isCascadingEnabled,p=l.isCascadingOverwritten;a.isEditing()&&o&&s&&!Object.keys(d).length&&(a.setState({isBusy:!0,isEditing:!1,shouldShowCascadeOptions:!1}),s(i,a.createJSONPatch(c,n),r?{canEdit:!!t&&t.canEdit,id:t?t.id:void 0,isEnabled:u,overwrite:p}:void 0,v()(c)))},a.onFieldChange=function(e,t,i){var o=a.state,r=o.data,s=o.errors;if(a.isEditing()&&!h()(r[e],t)){var l=ze(i,t),c=Ft({},s),d=v()(r);d[e]=t,l?delete c[e]:c[e]=n.createElement(u.b,H.invalidInput),a.setState({data:d,errors:c},function(){a.setDirty(i)})}},a.onFieldRemove=function(e){if(a.isEditing()){var t=a.state,n=t.data,i=t.errors,o=v()(n),r=Ft({},i);delete o[e],delete r[e],a.setState({data:o,errors:r},a.setDirty)}},a.onCascadeToggle=function(e){a.props.isCascadingPolicyApplicable&&a.setState({isCascadingEnabled:e,shouldShowCascadeOptions:e},a.setDirty)},a.onCascadeModeChange=function(e){a.props.isCascadingPolicyApplicable&&a.setState({isCascadingOverwritten:e},a.setDirty)},a.renderDeleteMessage=function(e,t){var a=void 0;return a=t.templateKey===oe?e?"fileMetadataRemoveCustomTemplateConfirm":"folderMetadataRemoveCustomTemplateConfirm":e?"fileMetadataRemoveTemplateConfirm":"folderMetadataRemoveTemplateConfirm",n.createElement(u.b,Ft({},H[a],{values:{metadataName:t.displayName}}))},a.setDirty=function(e){var t=a.props,n=t.id,i=t.isCascadingPolicyApplicable,o=t.onModification,r=a.state,s=r.data,l=r.isCascadingEnabled,c=r.isCascadingOverwritten,d=!h()(s,a.props.data),u=!1;i&&(u=c||l!==a.isCascadingEnabled(a.props)),o&&o(n,d||u,e)},a.collapsibleRef=n.createRef(),a.toggleIsEditing=function(){a.setState(function(e){return{isEditing:!e.isEditing}})},a.renderEditButton=function(){var e=a.props.isDirty,t=a.state.isBusy,i=a.canEdit(),o=a.isEditing(),r=f()("metadata-instance-editor-instance-edit",{"metadata-instance-editor-instance-is-editing":o});return!i||e||t?null:n.createElement(K.b,{text:n.createElement(u.b,H.metadataEditTooltip),position:"top-left"},n.createElement(V.a,{"data-resin-target":"metadata-instanceedit",type:"button",className:r,onClick:a.toggleIsEditing},n.createElement(F.a,null)))},a.state=a.getState(e),a.fieldKeyToTypeMap=Vt(e.template.fields),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["PureComponent"]),t.propTypes={canEdit:P.a.bool.isRequired,cascadePolicy:function(){return("function"===typeof ue?ue:P.a.shape(ue)).apply(this,arguments)},data:function(){return("function"===typeof se?se.isRequired?se.isRequired:se:P.a.shape(se).isRequired).apply(this,arguments)},hasError:P.a.bool.isRequired,id:P.a.string.isRequired,isCascadingPolicyApplicable:P.a.bool,isDirty:P.a.bool.isRequired,onModification:P.a.func,onSave:P.a.func,onRemove:P.a.func,isOpen:P.a.bool.isRequired,template:function(){return("function"===typeof de?de.isRequired?de.isRequired:de:P.a.shape(de).isRequired).apply(this,arguments)}},_t(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.hasError,a=e.isDirty,n=this.state.isEditing;t?this.setState({isBusy:!1,isEditing:!0}):this.props.isDirty&&!a&&(n?this.setState({isBusy:!1}):this.setState({isBusy:!1,isCascadingOverwritten:!1}))}},{key:"componentDidUpdate",value:function(){var e=this.collapsibleRef.current;e&&this.state.shouldConfirmRemove&&Object(g.a)(e,!1,{centerIfNeeded:!1,duration:320,easing:"easeInOut"})}},{key:"getState",value:function(e){return{data:v()(e.data),errors:{},isBusy:!1,isCascadingEnabled:this.isCascadingEnabled(e),isCascadingOverwritten:!1,isEditing:!1,shouldConfirmRemove:!1,shouldShowCascadeOptions:!1}}},{key:"getTitle",value:function(){var e=this.props,t=e.cascadePolicy,a=void 0===t?{}:t,i=e.hasError,o=e.isCascadingPolicyApplicable,r=e.template,s=r.templateKey===oe,l=o&&a.id?"cascade":"default";return n.createElement("span",{className:"metadata-instance-editor-instance-title"},n.createElement(A,{type:l}),n.createElement("span",{className:f()("metadata-instance-editor-instance-title-text",{"metadata-instance-editor-instance-has-error":i})},s?n.createElement(u.b,H.customTitle):r.displayName),i&&n.createElement(D.a,{color:T.c}))}},{key:"getConfirmationMessage",value:function(){var e=this.props,t=e.template,a=!e.isCascadingPolicyApplicable;return this.renderDeleteMessage(a,t)}},{key:"isCascadingEnabled",value:function(e){return!!e.cascadePolicy&&!!e.cascadePolicy.id}},{key:"createJSONPatch",value:function(e,t){var a=this,n=[],i=v()(e);return Object.keys(t).forEach(function(e){var o=a.fieldKeyToTypeMap[e],r=Kt(t,e,o),s="/"+e;if(Object.prototype.hasOwnProperty.call(i,e)){var l=Kt(i,e,o);h()(l,r)||(n.push({op:"test",path:s,value:r}),n.push({op:"replace",path:s,value:l}))}else n.push({op:"test",path:s,value:r}),n.push({op:"remove",path:s});delete i[e]}),Object.keys(i).forEach(function(e){var t=a.fieldKeyToTypeMap[e],o=Kt(i,e,t);n.push({op:"add",path:"/"+e,value:o})}),n}},{key:"canEdit",value:function(){var e=this.props,t=e.canEdit,a=e.onModification,n=e.onRemove,i=e.onSave;return t&&"function"===typeof n&&"function"===typeof i&&"function"===typeof a}},{key:"isEditing",value:function(){var e=this.state.isEditing;return this.canEdit()&&e}},{key:"render",value:function(){var e=this.props,t=e.cascadePolicy,a=void 0===t?{}:t,i=e.isDirty,o=e.isCascadingPolicyApplicable,r=e.isOpen,s=e.template,l=s.fields,c=void 0===l?[]:l,d=this.state,u=d.data,p=d.errors,f=d.isBusy,m=d.isCascadingEnabled,h=d.shouldConfirmRemove,y=d.shouldShowCascadeOptions,v=d.isCascadingOverwritten,g=s.templateKey===oe,b=this.isEditing();if(!s||ot(s))return null;var E,O,C,w=50*(c.length+1);return n.createElement("div",{ref:this.collapsibleRef},n.createElement(k,{animationDuration:w,buttonProps:(E={},O=S.b,C="metadata-card",O in E?Object.defineProperty(E,O,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[O]=C,E),isBordered:!0,hasStickyHeader:!0,headerActionItems:this.renderEditButton(),isOpen:r,title:this.getTitle()},h&&n.createElement(_.a,{isLoading:f},n.createElement(xt,{confirmationMessage:this.getConfirmationMessage(),onConfirm:this.onRemove,onCancel:this.onConfirmCancel})),!h&&n.createElement(_.a,{isLoading:f},n.createElement("div",{className:"metadata-instance-editor-instance"},o&&n.createElement(te,{canEdit:b&&!!a.canEdit,isCascadingEnabled:m,isCascadingOverwritten:v,isCustomMetadata:g,onCascadeToggle:this.onCascadeToggle,onCascadeModeChange:this.onCascadeModeChange,shouldShowCascadeOptions:y}),g?n.createElement(jt,{canEdit:b,data:u,onFieldChange:this.onFieldChange,onFieldRemove:this.onFieldRemove}):n.createElement(st,{canEdit:b,data:u,errors:p,template:s,onFieldChange:this.onFieldChange,onFieldRemove:this.onFieldRemove})),b&&n.createElement(Dt,{onSave:i?this.onSave:void 0,onCancel:this.onCancel,onRemove:this.onConfirmRemove}))))}}]),t}();Ht.defaultProps={data:{},isDirty:!1},Ht.propTypes={canEdit:P.a.bool.isRequired,cascadePolicy:function(){return("function"===typeof ue?ue:P.a.shape(ue)).apply(this,arguments)},data:function(){return("function"===typeof se?se.isRequired?se.isRequired:se:P.a.shape(se).isRequired).apply(this,arguments)},hasError:P.a.bool.isRequired,id:P.a.string.isRequired,isCascadingPolicyApplicable:P.a.bool,isDirty:P.a.bool.isRequired,onModification:P.a.func,onSave:P.a.func,onRemove:P.a.func,isOpen:P.a.bool.isRequired,template:function(){return("function"===typeof de?de.isRequired?de.isRequired:de:P.a.shape(de).isRequired).apply(this,arguments)}};var Lt=Ht,Bt=function(e){var t=e.isCascadingPolicyApplicable,a=void 0!==t&&t,i=e.editors,o=void 0===i?[]:i,r=e.onModification,s=e.onRemove,l=e.onSave;return o.map(function(e){var t=e.isDirty,i=void 0!==t&&t,c=e.instance,d=e.hasError,u=void 0!==d&&d,p=e.template;return n.createElement(Lt,{canEdit:c.canEdit,cascadePolicy:c.cascadePolicy,data:c.data,hasError:u,id:c.id,isCascadingPolicyApplicable:a,isDirty:i,isOpen:1===o.length,key:c.id+"-"+p.templateKey,onModification:r,onSave:l,onRemove:s,template:p})})};Bt.propTypes={editors:P.a.arrayOf(function(){return("function"===typeof pe?pe:P.a.shape(pe)).apply(this,arguments)}),isCascadingPolicyApplicable:P.a.bool,onModification:P.a.func,onRemove:P.a.func,onSave:P.a.func};var zt=Bt,Ut=a(2025),Wt=a(2029),Zt=function(e){var t=e.className,a=void 0===t?"icon-search":t,i=e.color,o=void 0===i?"#AFAFAF":i,r=e.height,s=void 0===r?14:r,l=e.title,c=e.width,d=void 0===c?14:c;return n.createElement(I.a,{className:"icon-search "+a,title:l,width:d,height:s,viewBox:"0 0 14 14"},n.createElement("path",{className:"fill-color",d:"M13.7,12.1L11.6,10l-1.1-0.2c0.9-1,1.4-2.4,1.4-3.9c0-3.3-2.7-6-6-6C2.7,0,0,2.7,0,6s2.7,6,6,6 c1.5,0,2.9-0.6,4-1.5l0.2,1l2.1,2.1c0.4,0.4,1,0.4,1.4,0l0,0C14.1,13.1,14.1,12.5,13.7,12.1z M6,10.4c-2.5,0-4.5-2-4.5-4.5 s2-4.5,4.5-4.5s4.5,2,4.5,4.5S8.4,10.4,6,10.4z",fill:o,fillRule:"evenodd"}))};Zt.propTypes={className:P.a.string,color:P.a.string,height:P.a.number,title:P.a.oneOfType([P.a.string,P.a.node]),width:P.a.number};var $t=Zt,Jt=a(466),Qt=(a(2119),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}),Gt=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function Xt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Yt=Object(u.f)({clearButtonTitle:{id:"boxui.searchForm.clearButtonTitle",defaultMessage:"Clear"},searchButtonTitle:{id:"boxui.searchForm.searchButtonTitle",defaultMessage:"Search"},searchLabel:{id:"boxui.searchForm.searchLabel",defaultMessage:"Search query"}}),ea=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];return a=n=Xt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={isEmpty:!0},n.onClearHandler=function(e){var t=n.props,a=t.onChange;t.shouldPreventClearEventPropagation&&e.stopPropagation(),n.searchInput&&(n.searchInput.value=""),n.setState({isEmpty:!0}),a&&a("")},n.onChangeHandler=function(e){var t=e.target.value,a=n.props.onChange;n.setState({isEmpty:!t||!t.trim().length}),a&&a(t)},n.onSubmitHandler=function(e){var t=e.target.elements[0].value,a=n.props.onSubmit;a&&a(t,e)},n.setInputRef=function(e){n.searchInput=e,n.props.getSearchInput&&n.props.getSearchInput(n.searchInput)},Xt(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),Gt(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value;"undefined"===typeof t||t.trim()||this.setState({isEmpty:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.action,i=t.className,o=t.intl,r=t.isLoading,s=t.method,l=t.name,c=t.queryParams,d=t.useClearButton,u=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(t,["action","className","intl","isLoading","method","name","queryParams","useClearButton"]),p=this.state.isEmpty,m=E()(u,["getSearchInput","onChange","onSubmit","required","shouldPreventClearEventPropagation"]),h=o.formatMessage,y=f()(i,"search-input-container"),v=f()("search-form",{"is-empty":p,"use-clear-button":d}),g=Object.keys(c).map(function(e,t){return n.createElement("input",{key:t,name:e,type:"hidden",value:c[e]})}),b=Object(Jt.a)(function(){return n.createElement("div",{className:"action-buttons"},n.createElement("button",{className:"action-button search-button",title:h(Yt.searchButtonTitle)},n.createElement($t,null)),n.createElement("button",{className:"action-button clear-button",onClick:e.onClearHandler,title:h(Yt.clearButtonTitle),type:"button"},n.createElement(Wt.a,null)))});return n.createElement("div",{className:y},n.createElement("form",{action:a,className:v,method:s,onChange:this.onChangeHandler,onSubmit:this.onSubmitHandler,role:"search"},n.createElement("input",Qt({autoComplete:"off","aria-label":h(Yt.searchLabel),className:"search-input",name:l,ref:this.setInputRef,type:"search",onChange:function(){}},m)),n.createElement(b,{isLoading:r,loadingIndicatorProps:{className:"search-form-loading-indicator"}}),g))}}]),t}();ea.defaultProps={action:void 0,method:"get",name:"search",queryParams:{},useClearButton:!1},ea.propTypes={action:P.a.string,className:P.a.string,getSearchInput:P.a.func,intl:P.a.object.isRequired,isLoading:P.a.bool,method:P.a.oneOf(["get","post"]),name:P.a.string,onChange:P.a.func,onSubmit:P.a.func,queryParams:P.a.object.isRequired,shouldPreventClearEventPropagation:P.a.bool,useClearButton:P.a.bool,value:P.a.string};var ta=Object(u.g)(ea),aa=a(676),na=a(2056),ia=a(467),oa=(a(2123),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}()),ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var sa=function(e){var t=e.inputProps,a=void 0===t?{}:t,i=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["inputProps"]);return n.createElement(ta,ra({},a,i,{shouldPreventClearEventPropagation:!0,"data-resin-target":"metadata-templatesearch"}))};sa.propTypes={inputProps:P.a.object};var la=function(e,t){return e.filter(function(e){return-1===t.findIndex(function(t){return t.templateKey===e.templateKey&&t.scope===e.scope})})},ca=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return da.call(a),a.state={isDropdownOpen:!1,filterText:"",templates:la(e.templates,e.usedTemplates)},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["PureComponent"]),oa(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({templates:la(e.templates,e.usedTemplates)})}},{key:"getTemplateName",value:function(e){return e.templateKey===oe?n.createElement(u.b,ra({className:"template-display-name"},H.customTitle)):n.createElement("div",{className:"template-display-name"},e.displayName)}},{key:"render",value:function(){var e=this.props.className,t=f()("metadata-instance-editor-template-dropdown-flyout",e);return n.createElement(na.a,{className:t,closeOnClick:!0,closeOnClickOutside:!0,onClose:this.onClose,onOpen:this.onOpen,position:"bottom-left",shouldDefaultFocus:!0},this.renderEntryButton(),n.createElement(na.b,null,this.getDropdown()))}}]),t}();ca.propTypes={className:P.a.string,isDropdownBusy:P.a.bool,intl:function(e,t,a){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error("Prop `"+t+"` has type 'any' or 'mixed', but was not provided to `"+a+"`. Pass undefined or any other value.")},title:P.a.node,entryButton:P.a.node,onAdd:P.a.func.isRequired,activeTemplate:function(){return("function"===typeof de?de:P.a.shape(de)).apply(this,arguments)},defaultTemplateIcon:P.a.node,activeTemplateIcon:P.a.node,templates:P.a.arrayOf(function(){return("function"===typeof de?de:P.a.shape(de)).apply(this,arguments)}).isRequired,usedTemplates:P.a.arrayOf(function(){return("function"===typeof de?de:P.a.shape(de)).apply(this,arguments)}).isRequired};var da=function(){var e=this;this.getDropdown=function(){var t=e.props,a=t.isDropdownBusy,i=t.onAdd,o=t.activeTemplate,r=t.defaultTemplateIcon,s=t.activeTemplateIcon,l=t.templates,c=t.title,d=t.usedTemplates,p=e.state.templates,m=la(l,d).length>0,h=l.length>0,y=p.length>0,v=null;if(a)v=n.createElement(aa.a,{className:"metadata-instance-editor-template-message template-dropdown-loading-indicator"});else if(!h||!m||!y){var g={id:""};h?m?y||(g=H.metadataTemplatesNoResults):g=H.metadataTemplatesNoRemainingTemplates:g=H.metadataTemplatesServerHasNoTemplates,v=n.createElement("i",{className:"metadata-instance-editor-template-message"},n.createElement(u.b,g))}var b=p.map(function(t){var a=o&&o.id===t.id,i=f()("metadata-template-dropdown-select-template",{"metadata-template-dropdown-is-selected":a});return n.createElement(Ce.a,{key:t.id},n.createElement(R.a,{className:i,tabIndex:"-1",type:"button"},a?s:r,e.getTemplateName(t)))});return n.createElement(n.Fragment,null,n.createElement(Ut.a,{className:"metadata-instance-editor-template-dropdown-menu",title:c,isAlwaysOpen:!0,onSelect:function(e){i(p[e])},selector:e.getSelector(),shouldScroll:!0},v?null:b),v)},this.getSelector=function(){var t=e.props.intl,a=e.state.filterText;return n.createElement(sa,{label:"",onChange:e.handleUserInput,placeholder:t.formatMessage(H.metadataTemplateSearchPlaceholder),type:"text",useClearButton:!0,value:a})},this.handleUserInput=function(t){var a=e.props,n=a.templates,i=a.usedTemplates,o=t,r=la(n,i);e.setState({filterText:o,templates:r.filter(function(e){return(e.templateKey===oe?H.customTitle.defaultMessage:e.displayName).toLowerCase().includes(o.toLowerCase())})})},this.onOpen=function(){var t=e.props,a=t.templates,n=t.usedTemplates;e.setState({isDropdownOpen:!0,filterText:"",templates:la(a,n)})},this.onClose=function(){e.setState({isDropdownOpen:!1})},this.renderEntryButton=function(){var t=e.props.entryButton,a=e.state.isDropdownOpen,i=f()("lnk",{"is-toggled":a});return t||n.createElement(R.a,{"data-resin-target":"metadata-templateaddmenu",className:i,type:"button"},n.createElement(ia.a,null,n.createElement(u.b,H.metadataTemplateAdd)))}},ua=Object(u.g)(ca),pa=a(116),fa=a(17),ma=a(678),ha=a(276),ya=a(34),va=(a(142),a(394)),ga=a(226),ba=a(275),Ea=a(677),Oa=a(119),Ca=a(3);function wa(e){return(wa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(){return(Ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ta(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Ma(e,t,a[t])})}return e}function Sa(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Na(e){return(Na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pa(e,t){return(Pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ma(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"MetadataSidebarComponent",function(){return ka});var ja="".concat(Ca.nd,"_").concat(ba.a);Object(ga.b)(ja);var ka=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=Na(t).call(this,e),a=!i||"object"!==wa(i)&&"function"!==typeof i?qa(n):i,Ma(qa(qa(a)),"state",{hasError:!1,isLoading:!1}),Ma(qa(qa(a)),"onRemove",function(e){var t=a.props.api,n=a.state.file,i=a.getEditor(e);i&&n&&t.getMetadataAPI(!1).deleteMetadata(n,i.template,function(){return a.onRemoveSuccessHandler(i)},a.onApiError)}),Ma(qa(qa(a)),"onAddSuccessHandler",function(e){var t=a.state.editors,n=(void 0===t?[]:t).slice(0);n.push(e),a.setState({editors:n,isLoading:!1})}),Ma(qa(qa(a)),"onAdd",function(e){var t=a.props.api,n=a.state.file;n&&(a.setState({isLoading:!0}),t.getMetadataAPI(!1).createMetadata(n,e,a.onAddSuccessHandler,a.onApiError))}),Ma(qa(qa(a)),"onSave",function(e,t){var n=a.props.api,i=a.state.file,o=a.getEditor(e);o&&i&&n.getMetadataAPI(!1).updateMetadata(i,o.template,t,function(e){a.replaceEditor(o,e)},function(e,t){a.onSaveErrorHandler(o,e,t)})}),Ma(qa(qa(a)),"onModification",function(e,t){var n=a.getEditor(e);if(n){var i=Ta({},n,{isDirty:t});a.replaceEditor(n,i)}}),Ma(qa(qa(a)),"fetchMetadataErrorCallback",function(e,t){a.onApiError(e,t,{editors:void 0,error:fa.a.sidebarMetadataFetchingErrorContent,templates:void 0})}),Ma(qa(qa(a)),"fetchMetadataSuccessCallback",function(e){var t=e.editors,n=e.templates;a.setState({editors:t.slice(0),error:void 0,isLoading:!1,templates:n.slice(0)})}),Ma(qa(qa(a)),"fetchFileErrorCallback",function(e,t){a.onApiError(e,t,{error:fa.a.sidebarFileFetchingErrorContent,file:void 0})}),Ma(qa(qa(a)),"fetchFileSuccessCallback",function(e){var t=a.state.file,n=l()(t,Ca.sc,!1),i=l()(e,Ca.sc,!1),o=!t||n!==i?a.fetchMetadata:r.a;a.setState({file:e},o)}),a.props.logger.onReadyMetric({endMarkName:ja}),a}var a,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pa(e,t)}(t,n["PureComponent"]),a=t,(i=[{key:"componentDidMount",value:function(){this.fetchFile()}},{key:"onApiError",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.props.onError,i=e.status,o=Object(ya.d)(i);this.setState(Ra({error:fa.a.sidebarMetadataEditingErrorContent,isLoading:!1},a)),n(e,t,Ma({error:e},Ca.Wc,o))}},{key:"canEdit",value:function(){var e=this.state.file;return l()(e,Ca.sc,!1)}},{key:"getEditor",value:function(e){var t=this.state.editors;return(void 0===t?[]:t).find(function(t){return t.instance.id===e})}},{key:"onRemoveSuccessHandler",value:function(e){var t=this.state.editors,a=void 0===t?[]:t,n=a.slice(0);n.splice(a.indexOf(e),1),this.setState({editors:n})}},{key:"replaceEditor",value:function(e,t){var a=this.state.editors,n=void 0===a?[]:a,i=n.slice(0);i.splice(n.indexOf(e),1,t),this.setState({editors:i})}},{key:"onSaveErrorHandler",value:function(e,t,a){var n=Ta({},e,{hasError:!0});this.replaceEditor(e,n),this.onApiError(t,a)}},{key:"fetchMetadata",value:function(){var e=this.props,t=e.api,a=e.isFeatureEnabled,n=this.state.file;n&&t.getMetadataAPI(!1).getMetadata(n,this.fetchMetadataSuccessCallback,this.fetchMetadataErrorCallback,a,{refreshCache:!0})}},{key:"fetchFile",value:function(){var e=this.props,t=e.api,a=e.fileId;t.getFileAPI().getFile(a,this.fetchFileSuccessCallback,this.fetchFileErrorCallback,{fields:[Ca.gc,Ca.rc],refreshCache:!0})}},{key:"render",value:function(){var e=this.state,t=e.editors,a=e.file,i=e.error,o=e.isLoading,r=e.templates,s=!!a&&!!r&&!!t,l=!i&&!s,c=this.canEdit(),d=s&&c,p=s&&0===t.length;return n.createElement(Ea.a,{title:Oa.a.getTitleForView(Ca.Bd),actions:d?n.createElement(ua,{hasTemplates:r&&0!==r.length,isDropdownBusy:!1,onAdd:this.onAdd,templates:r,usedTemplates:t&&t.map(function(e){return e.template})}):null},i&&n.createElement(ae.a,{title:n.createElement(u.b,fa.a.error)},n.createElement(u.b,i)),l&&n.createElement(pa.b,null),s&&n.createElement(_.a,{className:"metadata-instance-editor",isLoading:o},p?n.createElement(Nt,{canAdd:c}):n.createElement(zt,{editors:t,onModification:this.onModification,onSave:this.onSave,onRemove:this.onRemove})))}}])&&Sa(a.prototype,i),o&&Sa(a,o),t}();Ma(ka,"defaultProps",{isFeatureEnabled:!0});t.default=d()([Object(va.a)(Ca.nd),Object(ha.a)(Ca.nd),ma.b])(ka)}}]);
//# sourceMappingURL=5.5339e50e.chunk.js.map